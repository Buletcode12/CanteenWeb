<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">

<head>
<style type="text/css">
.formValidation1 {
	font-size: 10px;
	font-weight: 100;
	color: #ff9e99;
	background-color: transparent;
	position: relative;
	top: -1px;
	padding: 3px 0;
}
</style>
<script>


	//ag grid for location
	var columnDefs = [/* {
		headerCheckboxSelection: true,
		headerCheckboxSelectionFilteredOnly: true,
		checkboxSelection: true,
		width: 10,
		sortable: false,
		filter: false,
		resizable: true
	}, */
	{
		headerName: "Location ID",
		field: "vendorLocationId",
		cellRenderer: function (params) {
			return '<a onclick=editLocation("' + params.data.vendorLocationId + '") href="javascript:void(0)">' + params.data.vendorLocationId + '</a>';
		}
	},
	 {
		headerName: "Location Name",
		field: "vendorLocationName"
		
	}, 
	{
		headerName: "Location Type",
		field: "vendorLocationType",
		type: "rightAligned"
	},
	{
		headerName: "Billing Status",
		field: "vendorBillingStatus",
		cellRenderer: function (params) {
			if(params.data.vendorBillingStatus == "1"){
				return '<i class="fa fa-check" aria-hidden="true"></i>';
			}else{
				return '';
			}
		}
	},{
		headerName: "Primary Status",
		field: "vendorPrimaryStatus",
		cellRenderer: function (params) {
			if(params.data.vendorPrimaryStatus == "1"){
				return '<i class="fa fa-check" aria-hidden="true"></i>';
			}else{
				return '';
			}
		}
	},{
		headerName: "Adress",
		field: "vendorLocAddress"
		
	},{
		headerName: "Country",
		field: "vendorCountry"
		
	},{
		headerName: "State",
		field: "vendorState"
		
	},{
		headerName: "City",
		field: "vendorCity"
		
	},{
		headerName: "Created Date",
		field: "createdOn"
		
	}];

	var gridOptions = {
		columnDefs: columnDefs,
		rowSelection: 'multiple',
		onSelectionChanged: onSelectionChangedlocation,
		defaultColDef: {
			sortable: true,
			filter: true,
			resizable: true,
			width: 149,
			height: 10
		},
		rowSelection: 'multiple',
		suppressRowClickSelection : true, 
	};
	function onSelectionChangedlocation(){
		var selectedRows =gridOptions.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
		        $('#deleteLocation').attr("disabled", false);
		        $('#newLocation').attr("disabled", true);
				
		}else{
			    $('#deleteLocation').attr("disabled", true);
			    $('#newLocation').attr("disabled", false);
			
		}
	}


	//setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
	var gridDiv = document.querySelector('#myGrid');
	new agGrid.Grid(gridDiv, gridOptions);


	 

	});
	function agGridLocation(){
		var vendorId= $("#vendorId").val(); 
		var locationList=[];
		gridOptions.api.setRowData();
		agGrid.simpleHttpRequest({
	    	url : "vendor-company-master-through-ajax?id="+ vendorId
	    }).then(function(data) {
	    	
	    	gridOptions.api.setRowData(data);
	    	 
	    	$("#location").empty();
	    	$("#location").append("<option value=''>Select</option>");

	    	$(data).each(function(i){
	    		var option = $("<option></option>");
				$(option).val(data[i].vendorLocationId);
				$(option).html(data[i].vendorLocationName);
				$("#location").append(option);
	    	});
	    	
	    });
}
	function onQuickFilterChanged() {
		gridVendorOptions.api
				.setQuickFilter(document.getElementById('searchBar').value);
	}
	//ag grid  for location end

//ag grid for contact
	var columnContactDefs = [{
		headerCheckboxSelection: false,
		headerCheckboxSelectionFilteredOnly: true,
		checkboxSelection: true,
		width: 10,
		sortable: false,
		filter: false,
		resizable: true
	},
	{
		headerName: "Contact ID",
		field: "contactId",
		cellRenderer: function (params) {
			return '<a onclick=editContact("' + params.data.contactId + '") href="javascript:void(0)">' + params.data.contactId + '</a>';
		}
	},
	 {
		headerName: "Contact Name",
		field: "contactName"
		
	},{
		headerName: "Status",
		field: "contactStatus",
		cellRenderer: function (params) {
			if(params.data.contactStatus == "0"){
				$("#createUser").show();
				$("#resetPassword").hide();
				return 'No';
			}else{
				$("#createUser").hide();
				$("#resetPassword").show();
				return 'Yes';
			}
		}
		
	}, 
	{
		headerName: "Designation",
		field: "contactDesignation",
		type: "rightAligned"
	},
	{
		headerName: "Function",
		field: "contactFunction",
	},{
		headerName: "Location",
		field: "location",
	
	},{
		headerName: "Phone",
		field: "phone"
		
	},{
		headerName: "Primary Status",
		field: "primaryStatusContact",
		cellRenderer: function (params) {
				if(params.data.primaryStatusContact == "1"){
					return '<i class="fa fa-check" aria-hidden="true"></i>';
				}else{
					return '';
				}
			}
	},{
		headerName: "Email",
		field: "email"
		
	},{
		headerName: "Created Date",
		field: "createdOn",
		cellStyle : {
			textAlign : 'center'
		}
		
	}];

	var gridContactOptions = {
		columnDefs: columnContactDefs,
		 rowSelection: 'single',
		onSelectionChanged : onSelectionChanged,
		defaultColDef: {
			sortable: true,
			filter: true,
			resizable: true,
			width: 149,
			height: 10
		}
	};
	
	
	function onSelectionChanged() {
		var selectedRows = gridContactOptions.api.getSelectedRows();
		var rowCount = 0;
		selectedRows.forEach(function(selectedRow, index) {
			rowCount = rowCount + 1;
		});

		if (rowCount > 0) {
			$('#createUser').attr('disabled', false);
			$('#deleteContact').attr('disabled', false);
			$('#resetPassword').attr('disabled', false);
			$('#newContact').attr('disabled', true);
			
		} else {
			$('#createUser').attr('disabled', true);
			$('#deleteContact').attr('disabled', true);
			$('#resetPassword').attr('disabled', true);
			$('#newContact').attr('disabled', false);
		}

	}

	//setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
		var gridContactDiv = document.querySelector('#myContactGrid');
		new agGrid.Grid(gridContactDiv, gridContactOptions);

		 

	});

	$(document).ready(function() {
		
		var vendorId = $("#vendorId").val();

		agGrid.simpleHttpRequest({
			url : "vendor-company-master-contact-through-ajax?id=" + vendorId
		}).then(function(data) {

			gridContactOptions.api.setRowData(data);
		});
	})

	function agGridContact() {
		var vendorId = $("#vendorId").val();
		gridContactOptions.api.setRowData();

		agGrid.simpleHttpRequest({
			url : "vendor-company-master-contact-through-ajax?id=" + vendorId
		}).then(function(data) {
			
			console.log(data);
			//alert(JSON.stringify(data));

			gridContactOptions.api.setRowData(data);
			 
		});
	}

	//ag grid  for contact end
	//ag grid for vendor master start
	var columnVendorDefs = [
			{
				headerName : "Vendor ID",
				field : "vendorId",
				cellRenderer : function(params) {
					return '<a onclick=editVendor("' + params.data.vendorId
							+ '") href="javascript:void(0)">'
							+ params.data.vendorId + '</a>';
				}
			},			{
				headerName : "Name",
				field : "vendorName",
				type : "rightAligned"
			},
			{
				headerName : "Code",
				field : "code",
				type : "rightAligned"

			},
			{
				headerName : "Type",
				field : "categoryType",
				type : "rightAligned"
			 
			},
			{
				headerName : "Address",
				field : "address",
				
			}, {
				headerName : "City",
				field : "city"

			}, {
				headerName : "State",
				field : "state"

			}, {
				headerName : "Country",
				field : "country"

			}, {
				headerName : "Phone",
				field : "phone"

			}, {
				headerName : "Email",
				field : "email"

			}, {
				headerName : "Bank Info",
				field : "bankInfo"

			}, {
				headerName : "Status",
				field : "vendorStatus",
				cellRenderer : function(params) {
					if (params.data.vendorStatus == "1") {
						return 'Active';
					} else {
						return 'InActive';
					}
				}

			}, {
				headerName : "Created Date",
				field : "createdOn",
				cellStyle : {
					textAlign : 'center'
				} 

			} ];

	var gridVendorOptions = {
		columnDefs : columnVendorDefs,
		rowSelection : 'multiple',
		onSelectionChanged: onSelectionChangedvendor,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 149,
			height : 10
		}
	};
	function onSelectionChangedvendor(){
		var selectedRows =gridVendorOptions.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
		        $('#deleteVendor').attr("disabled", false);
		        $('#downloadVendor').attr("disabled", true);
				
		}else{
			    $('#deleteVendor').attr("disabled", true);
			    $('#downloadVendor').attr("disabled", false);
			
		}
	}
	//setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
		var gridVendorDiv = document.querySelector('#myVendorGrid');
		new agGrid.Grid(gridVendorDiv, gridVendorOptions);  
	});
	function agGridVendor() {

		agGrid.simpleHttpRequest({ 
			url : "vendor-company-master-data-through-ajax"
		}).then(function(data) {
			var len = data.length;
			$('#totalVendor').find('span').html(len);
			gridVendorOptions.api.setRowData(data);
		});
	}

	//ag for vendor profile document
	function agGridDocument(id) {
		agGrid.simpleHttpRequest({
			url : 'vendor-company-profile-view-document-ajax?id=' + id

		}).then(function(data) {
			gridOptions5.api.setRowData(data);
		});
	}

	//ag grid for vendor master end
	//ag grid for bank details start
	var columnBankDefs = [
			{
				headerCheckboxSelection : true,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true
			},
			{
				headerName : "Bank Id",
				field : "ebankId",
				cellRenderer : function(params) {
					return '<a onclick=editBankDetails("' + params.data.ebankId
							+ '") href="javascript:void(0)">'
							+ params.data.ebankId + '</a>';
				}
			},
			{
				headerName : "Bank Name",
				field : "ebankName"
			},
			{
				headerName : "Primary Status",
				field : "bankPrimaryStatus",
				cellRenderer : function(params) {
					if (params.data.bankPrimaryStatus == "1") {
						return '<i class="fa fa-check" aria-hidden="true"></i>';
					} else {
						return '';
					}
				}
			}, {
				headerName : "Address",
				field : "ebankAddress"
			}, {
				headerName : "City",
				field : "ebankCity"
			}, {
				headerName : "State",
				field : "ebankState"
			}, {
				headerName : "Country",
				field : "ebankCountry"
			}, {
				headerName : "Account Number",
				field : "ebankAccountNo",
				width:"200",
			},

			{
				headerName : "IFIC Code",
				field : "eIfic"
			},{
				headerName : "Created Date",
				field : "createdBy"
			} ];

	var gridBankOptions = {
		columnDefs : columnBankDefs,
		rowSelection : 'multiple',
		onSelectionChanged: onSelectionChangedbank,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 149,
			height : 10
		}
	};
	function onSelectionChangedbank(){
		var selectedRows =gridBankOptions.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
		        $('#bankDltBtn').attr("disabled", false);
		        $('#newBtn1').attr("disabled", true);
				
		}else{
			    $('#bankDltBtn').attr("disabled", true);
			    $('#newBtn1').attr("disabled", false);
			
		}
	}

	//setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
		var gridBankDiv = document.querySelector('#myGrid3');
		new agGrid.Grid(gridBankDiv, gridBankOptions);

		 

	});
	function agGridBank() {
		var vendorId = $("#vendorId").val();
		gridBankOptions.api.setRowData();
		agGrid.simpleHttpRequest({
			url : "vendor-company-master-bank-through-ajax?id=" + vendorId
		}).then(function(data) {

			gridBankOptions.api.setRowData(data);
		});
	}

	//ag grid for bank details end

	//ag grid for activity log start
	var activityDefs = [ {
		headerCheckboxSelection : true,
		headerCheckboxSelectionFilteredOnly : true,
		checkboxSelection : true,
		sortable : false,
		filter : false,
		resizable : true,
		width : 20
	}, {
		headerName : "Activity Name",
		field : "operationName"
	}, {
		headerName : "User Name",
		field : "operationBy"
	}, {
		headerName : "Created Date",
		field : "operationOn",
		cellStyle : {
			textAlign : 'center'
		}

	} ];

	var activityOptions = {
		columnDefs : activityDefs,

		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 353
		}

	};

	document.addEventListener('DOMContentLoaded', function() {

		var gridDiv = document.querySelector('#activity');
		new agGrid.Grid(gridDiv, activityOptions);

	});
	function agGridActivity() {
		var vendorId = $("#vendorId").val();
		activityOptions.api.setRowData();
		agGrid.simpleHttpRequest({
			url : 'vendor-company-master-activity-through-ajax?id=' + vendorId
		}).then(function(data) {
			activityOptions.api.setRowData(data);
		});
	}
	//ag grid for activity log end
	$(document).ready(function() {
		
				
		agGridVendor();
						//hide main content
						var vendorId = $("#vendorId").val();
						if (vendorId) {

							$("#main").show();
						} else {

							$("#main").hide();
						}

						$('.collapse').on(
								'show.bs.collapse',
								function() {
									$(this).siblings('.panel-heading')
											.addClass('active');
								});

						$('.collapse').on(
								'hide.bs.collapse',
								function() {
									$(this).siblings('.panel-heading')
											.removeClass('active');
								});
						//onchange of state and city

						$("#vendorCountry")
								.change(
										function() {
											var country = $(this).val();
											if (country) {
												$
														.ajax({
															type : "POST",
															url : "vendor-company-master-get-state-list",
															dataType : 'json',
															contentType : 'application/json',
															data : country,
															success : function(
																	response) {
																console.log(response);
																if (response.message == "success") {
																	console.log(response);

																	$(
																			"#vendorState")
																			.empty();
																	$(
																			"#vendorState")
																			.append(
																					"<option value=''>Select</option>");
																	$(
																			"#vendorCity")
																			.empty();
																	$(
																			"#vendorCity")
																			.append(
																					"<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(
																				option)
																				.val(
																						response.body[i].key);
																		$(
																				option)
																				.html(
																						response.body[i].name);
																		$(
																				"#vendorState")
																				.append(
																						option);
																	}
																}
															},
															error : function(
																	data) {
																console
																		.log(data);
																$(
																		"#vendorState")
																		.empty();
																$(
																		"#vendorState")
																		.append(
																				"<option value=''>Select</option>");
																$("#vendorCity")
																		.empty();
																$("#vendorCity")
																		.append(
																				"<option value=''>Select</option>");
															}
														})
											} else {
												$("#vendorState").empty();
												$("#vendorState")
														.append(
																"<option value=''>Select</option>");
												$("#vendorCity").empty();
												$("#vendorCity")
														.append(
																"<option value=''>Select</option>");
											}
										})

						$("#vendorState")
								.change(
										function() {
											var state = $(this).val();
											if (state) {
												$
														.ajax({
															type : "POST",
															url : "vendor-company-get-city-list",
															dataType : 'json',
															contentType : 'application/json',
															data : state,
															success : function(
																	response) {
																if (response.message == "success") {

																	$(
																			"#vendorCity")
																			.empty();
																	$(
																			"#vendorCity")
																			.append(
																					"<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(
																				option)
																				.val(
																						response.body[i].key);
																		$(
																				option)
																				.html(
																						response.body[i].name);
																		$(
																				"#vendorCity")
																				.append(
																						option);
																	}
																}
															},
															error : function(
																	data) {
																console
																		.log(data);
																$("#vendorCity")
																		.empty();
																$("#vendorCity")
																		.append(
																				"<option value=''>Select</option>");
															}
														})
											} else {
												$("#vendorCity").empty();
												$("#vendorCity")
														.append(
																"<option value=''>Select</option>");
											}
										})

						//onchange of state and city end
						
							//onchange of state and city for bank details

						$("#countryid_b")
								.change(
										function() {
											var country = $(this).val();
											if (country) {
												$
														.ajax({
															type : "POST",
															url : "vendor-company-master-get-state-list",
															dataType : 'json',
															contentType : 'application/json',
															data : country,
															success : function(
																	response) {
																if (response.message == "success") {

																	$("#stateid_b").empty();
																	$("#stateid_b").append("<option value=''>Select</option>");
																	$("#cityid").empty();
																	$("#cityid").append("<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(option).val(response.body[i].key);
																		$(option).html(response.body[i].name);
																		$("#stateid_b").append(option);
																	}
																}
															},
															error : function(
																	data) {
																console
																		.log(data);
																$("#stateid_b").empty();
																$("#stateid_b").append("<option value=''>Select</option>");
																$("#cityid").empty();
																$("#cityid").append("<option value=''>Select</option>");
															}
														})
											} else {
												$("#stateid_b").empty();
												$("#stateid_b").append("<option value=''>Select</option>");
												$("#cityid").empty();
												$("#cityid").append("<option value=''>Select</option>");
											}
										})

						$("#stateid_b")
								.change(
										function() {
											var state = $(this).val();
											if (state) {
												$.ajax({
															type : "POST",
															url : "vendor-company-get-city-list",
															dataType : 'json',
															contentType : 'application/json',
															data : state,
															success : function(
																	response) {
																if (response.message == "success") {

																	$("#cityid")
																			.empty();
																	$("#cityid")
																			.append(
																					"<option value=''>Select</option>");

																	for (var i = 0; i < response.body.length; i++) {
																		var option = $("<option></option>");
																		$(option).val(response.body[i].key);
																		$(option).html(response.body[i].name);
																		$("#cityid").append(option);
																	}
																}
															},
															error : function(
																	data) {
																console.log(data);
																$("#cityid").empty();
																$("#cityid").append(
																				"<option value=''>Select</option>");
															}
														})
											} else {
												$("#cityid").empty();
												$("#cityid")
														.append(
																"<option value=''>Select</option>");
											}
										})

						//onchange of state and city end for bank
						
						//save vendor 
						$("#saveVendor").click(
								function() {

									data = {};

									data.vendorName = $("#vendorName").val();
									data.code = $("#vendorCode").val();
									data.vendorId = $("#vendorId").val();
									data.category = $("#Category").val();
									data.categoryType = $("#type").val();
									data.comapanyOverview = $(
											"#companyOverView").val();
									data.vendorStatus = $(
											"input[name='isActive']:checked")
											.val();
									data.module = localStorage
											.getItem('module');
									data.component = localStorage
											.getItem('function');
									data.subcomponent = localStorage
											.getItem('activity');
									submitVendor(data);

								})
						//save vendor end
						//save company information

						$("#saveVendorCompanyInfo")
								.click(
										function() {

											data = {};

											data.companyDate = $("#companyDate").val();
											data.grossAnnualSale = $(
													"#grossAnnualSale").val();
											data.currency = $("#currency")
													.val();
											data.totalEmployee = $(
													"#totalEmployee").val();
											data.website = $("#website").val();

											data.vendorId = $("#vendorId")
													.val();
											data.vendorName = $("#vendorName")
													.val();
											data.code = $("#vendorCode").val();
											data.vendorId = $("#vendorId")
													.val();
											data.category = $("#Category")
													.val();
											data.categoryType = $("#type")
													.val();
											data.comapanyOverview = $(
													"#companyOverView").val();
											data.vendorStatus = $(
													"input[name='isActive']:checked")
													.val();
											data.module = localStorage
													.getItem('module');
											data.component = localStorage
													.getItem('function');
											data.subcomponent = localStorage
													.getItem('activity');
											submitVendorInfo(data);

										}) 
						$("#saveVendorLocation")
								.click(
										function() {

											data = {};
											data.vendorLocationId = $(
													"#vendorLocationId").val();
											data.vendorLocationName = $(
													"#vendorLocationName")
													.val();
											data.vendorLocationType = $(
													"#vendorLocationType")
													.val();
											data.vendorId = $("#vendorId")
													.val();
											data.vendorBillingStatus = $(
													"input[name='isBillingActive']:checked")
													.val();
											data.vendorPrimaryStatus = $(
													"input[name='isPrimaryActive']:checked")
													.val();
											data.vendorLocAddress = $(
													"#vendorLocAddress").val();
											data.vendorCountry = $(
													"#vendorCountry").val();
											data.vendorCity = $("#vendorCity")
													.val();
											data.vendorState = $("#vendorState")
													.val();
											data.module = localStorage
													.getItem('module');
											data.component = localStorage
													.getItem('function');
											data.subcomponent = localStorage
													.getItem('activity');
											var allValid = true;
											if (!validationUpdated("Location Name can't be Left Blank", 'vendorLocationName'))
												allValid = false;
											if (!validationUpdated("Location Type can't be Left Blank",'vendorLocationType'))
												allValid = false;
											if (!validationUpdated("Location Address can't be Left Blank",'vendorLocAddress'))
												allValid = false; 
											if(allValid){
											submitVendorLocation(data);
											}
										}) 
						$("#saveVendorContact")
								.click(
										function() {

											data = {};
											data.vendorId = $("#vendorId")
													.val();
											data.contactId = $("#contactId")
													.val();
											data.contactName = $("#contactName")
													.val();
											data.contactDesignation = $(
													"#contactDesignation")
													.val();
											data.contactFunction = $(
													"#contactFunction").val();
											data.location = $("#location").val();
													
											data.phone = $("#phone").val();
											data.email = $("#email").val();
											data.primaryStatusContact = $(
													"input[name='isContactPrimaryActive']:checked")
													.val();
											data.module = localStorage
													.getItem('module');
											data.component = localStorage
													.getItem('function');
											data.subcomponent = localStorage
													.getItem('activity');
											var allValid = true;
											if (!validationUpdated("Contact Name can't be Left Blank", 'contactName'))
												allValid = false;
											if (!validationUpdated("Mobile No can't be Left Blank",'phone'))
												allValid = false;
											if (!validationUpdated("Email can't be Left Blank",'email'))
												allValid = false; 
											if(allValid){
												submitVendorContact(data);
											}
										})
						//save vendor contact end
						//save bank details
						$("#submitbankdetils")
								.click(
										function() {

											data = {};

											data.employeeId = $("#vendorId")
													.val();
											data.ebankId = $("#bankId").val();
											data.ebankName = $("#banknameid")
													.val();
											data.ebankAddress = $(
													"#addressid_b").val();
											data.ebankCity = $("#cityid").val();

											data.ebankState = $("#stateid_b")
													.val();
											data.ebankCountry = $(
													"#countryid_b").val();
											data.ebankAccountNo = $(
													"#accountNOb").val();
											data.eIfic = $("#ificb").val();
											data.bankPrimaryStatus = $(
													"#primaryStatusBank").val();
											data.module = localStorage
													.getItem('module');
											data.component = localStorage
													.getItem('function');
											data.subcomponent = localStorage
													.getItem('activity');
											var allValid = true;
											if (!validationUpdated("Bank Name can't be Left Blank", 'banknameid'))
												allValid = false;
											if (!validationUpdated("Bank Address can't be Left Blank",'addressid_b'))
												allValid = false;
											if (!validationUpdated("Account No can't be Left Blank",'accountNOb'))
												allValid = false;
											if (!validationUpdated("IFSC Code can't be Left Blank",'ificb'))
												allValid = false;
											if(allValid){
												submitbankdetils(data);
											}
										}) 
						
	$("#saveDocuments").click(function() {
			
			//again
			$('.loader').show();
			var imageValid = true;
			var uploadList = [];
			$("#doctbodyData > tr").each(function() {
				var uFile = $(this).find(".document")[0].files[0];
				var fileName = $(this).find(".document").val();
				var data = [];
				var x = [];
				if (fileName != '' && fileName != 'undefined' && fileName != null) {
					var lastIndex = fileName.lastIndexOf("\\");
					if (lastIndex >= 0) {
						fileName = fileName.substring(lastIndex + 1);
					}
					var reader = new FileReader();
					reader.readAsDataURL(uFile);

					reader.onload = function() {
						data = reader.result.split(",");
						x.push(data[1]);
					};
				}else{
					if ($("#vendorRfqId").val()) {

						fileName = $(this).find(".uploadHidCls").val();
     					 
     				}else{
     					 x = [];
 						 
     				}
						
				}
				uploaddata = {};
				uploaddata['documentImage'] = fileName;
				uploaddata['vendorId'] = $("#vendorId").val();
				uploaddata['documentName'] = $(this).find(".documentclss").val();
				uploaddata['documentNo'] = $(this).find(".docNoclss").val();
				uploaddata['file'] = x;
				uploadList.push(uploaddata);

			});
			setTimeout(function() {
				submitVendorDocument(uploadList);
			}, 1000)
			
		});
						 
});
	
	function openNav() {
$("#vendorLocationId").val("");
$("#vendorLocationName").val("");
$("#vendorLocationType").val("");
$('#billingStatus').prop('checked', true);
$('#primaryStatus').prop('checked', true);
$("#vendorLocAddress").val("");
$('#vendorCountry').val("");
$('#vendorState').val("");
$('#vendorCity').val("");
 closeContactNav();
 closeNav3();
 $('#saveVendor').attr("disabled", true);
 $('#cancelBtn').attr("disabled", true);
document.getElementById("mySidenav").style.cssText = "width: 25%; position: absolute; right:-10px; overflow: hidden; height:auto;";
document.getElementById("main").style.width = "75%";
}
function openContactNav() {
$("#contactId").val("");
$("#contactName").val("");
$("#contactDesignation").val("");
$("#contactFunction").val("");

$('#primaryStatusContact').prop('checked', true);
$("#location").val("");
$("#phone").val("");
$("#email").val("");
 

closeNav();
closeNav3();
 $('#saveVendor').attr("disabled", true);
 $('#cancelBtn').attr("disabled", true);
document.getElementById("mySideContactnav").style.cssText = "width: 25%; position: absolute; right:-10px; overflow: hidden; height:auto;";
document.getElementById("main").style.width = "75%";
}
function openNav3() {
closeNav();
closeContactNav();

$("#banknameid").val("");
$("#addressid_b").val("");
$("#stateid_b").val("");
$("#accountNOb").val("");
$("#ificb").val("");
$('#saveVendor').attr("disabled", true);
$('#cancelBtn').attr("disabled", true);
 
$('#primaryStatusBank').prop('checked', true);
document.getElementById("mySidenav3").style.cssText = "width: 25%; position: absolute; right:-10px; overflow: hidden; height:auto;";
document.getElementById("main").style.width = "75%";
}
function closeNav() {
	document.getElementById("mySidenav").style.width = "0";
	document.getElementById("main").style.width = "100%";
	$('#saveVendor').attr("disabled", false);
	$('#cancelBtn').attr("disabled", false);
}
function closeContactNav() {
	document.getElementById("mySideContactnav").style.width = "0";
	document.getElementById("main").style.width = "100%";
	$('#saveVendor').attr("disabled", false);
	$('#cancelBtn').attr("disabled", false);
}
function closeNav3() {
	document.getElementById("mySidenav3").style.width = "0";
	document.getElementById("main").style.width = "100%";
	$('#saveVendor').attr("disabled", false);
	$('#cancelBtn').attr("disabled", false);
}
	var count = 0;
	function allCheck() {
		count++;

		if (count == 1) {
			$('.checkCls').prop("checked", true);
		} else {
			count = 0;
			$('.checkCls').prop("checked", false);
		}
	}

	var count1 = 0;
	function allCheck1() {
		count1++;

		if (count1 == 1) {
			$('.checkCls1').prop("checked", true);
		} else {
			count1 = 0;
			$('.checkCls1').prop("checked", false);
		}
	}

	var count2 = 0;
	function allCheck2() {
		count2++;

		if (count2 == 1) {
			$('.checkCls2').prop("checked", true);
		} else {
			count2 = 0;
			$('.checkCls2').prop("checked", false);
		}
	}

	var count3 = 0;
	function allCheck3() {
		count3++;

		if (count3 == 1) {
			$('.checkCls3').prop("checked", true);
		} else {
			count3 = 0;
			$('.checkCls3').prop("checked", false);
		}
	}

	var count4 = 0;
	function allCheck4() {
		count4++;

		if (count4 == 1) {
			$('.checkCls4').prop("checked", true);
		} else {
			count4 = 0;
			$('.checkCls4').prop("checked", false);
		}
	}

	var count5 = 0;
	function allCheck5() {
		count5++;

		if (count5 == 1) {
			$('.checkCls5').prop("checked", true);
		} else {
			count5 = 0;
			$('.checkCls5').prop("checked", false);
		}
	}

	var count6 = 0;
	function allCheck6() {
		count6++;

		if (count6 == 1) {
			$('.checkCls6').prop("checked", true);
		} else {
			count6 = 0;
			$('.checkCls6').prop("checked", false);
		}
	}

	var count7 = 0;
	function allCheck7() {
		count7++;

		if (count7 == 1) {
			$('.checkCls7').prop("checked", true);
		} else {
			count7 = 0;
			$('.checkCls7').prop("checked", false);
		}
	}

	var count = 0;
	function allCheck() {
		count++;

		if (count == 1) {
			$('.checkCls').prop("checked", true);
		} else {
			count = 0;
			$('.checkCls').prop("checked", false);
		}
	}

	var count = 0;
	function allCheck() {
		count++;

		if (count == 1) {
			$('.checkCls').prop("checked", true);
		} else {
			count = 0;
			$('.checkCls').prop("checked", false);
		}
	}

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";
		if ($('#searchBar').val() == null || $('#searchBar').val() == "") {
			id.style.display = "none";
		}
	}
	function locationCSV() {
		var dataset = [];
		gridOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
			dataset.push(rowNode.data);
		});
		gridOptions.api.exportDataAsCsv(dataset);
	}
	function contactCSV() {
		var dataset = [];
		gridContactOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
			dataset.push(rowNode.data);
		});
		gridContactOptions.api.exportDataAsCsv(dataset);
	}
	function bankdetailsCSV() {
		var dataset = [];
		gridBankOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
			dataset.push(rowNode.data);
		});
		gridBankOptions.api.exportDataAsCsv(dataset);
	}
	function activityCSV() {
		var dataset = [];
		activityOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
			dataset.push(rowNode.data);
		});
		activityOptions.api.exportDataAsCsv(dataset);
	}
	
</script>

<script type="text/javascript">
function vendorlistCSV() {
    var dataset = [];
    gridOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
        dataset.push(rowNode.data);
    });
    gridOptions.api.exportDataAsCsv(dataset);
}
	$(document).ready(function() {
		//$("#deleteVendor").attr("disabled", true);
		$("#deleteLocation").attr("disabled", true);
		$("#deleteContact").attr("disabled", true);
		$("#createUser").attr("disabled", true);
		$('#bankDltBtn').attr("disabled", true);
		$('#resetPassword').attr('disabled', true);
		$("#newBtn").click(function() {
			
			$('.formValidation').remove();
			newPage();
			$("#main").hide();	
			$("#myTbl").hide();
			$(".btn-hs").hide();
			$("#demo").show();	
			$("#main").show();
			//$("#myVendorGrid").hide();
			//$('#vendorStatus').prop('checked', true);
			gridOptions.api.setRowData();
			gridContactOptions.api.setRowData();
			gridBankOptions.api.setRowData();
			activityOptions.api.setRowData();
			//to blanck all vendor data
			$ ("#vendorId").val("");
			$("#vendorText").text("");
			$("#vendorName").val("");
			$("#vendorCode").val("");
		
			$("#type").val("");
			$("#companyOverView").val("");
			$('#imgLoc').attr('src', '');
			$('#imgLoc').attr('src', '../assets/images/noimage.jpg');
			 
		})

		$("#cancelBtn").click(function() {
			returnPage();
			$("#myTbl").show();
			$("#myVendorGrid").show();
			$(".btn-hs").show();
			$("#demo").hide();
			agGridVendor();
			agGridLocation();
			agGridContact();
			agGridBank();
			agGridActivity();
		});
		$("#quarter").click(function() {
			$("#myTbl").hide();
			("#myVendorGrid").hide();
			$(".btn-hs").hide();
			$("#demo").show();
		})

		$("#cancelBtn").click(function() {
			$("#myTbl").show();
			("#myVendorGrid").show();
			$(".btn-hs").show();
			$("#demo").hide();
		});
	});

	$("input[class='myCheckbox']").click(function() {
		if ($("#formID input:checkbox:checked").length > 0) {

			$(".checkSubmit").addClass('active');
		} else {
			$(".checkSubmit").removeClass('active');
		}
	});

	function changeOpt() {
		var Category = $("#Category").val();
			if(Category){
				$
				.ajax({
					type : "GET",
					url : "vendor-company-master-get-type-list?category="+Category,
					contentType : 'application/json',
					success : function(
							response) {
						if (response.message == "success") {
							console.log(response.body)
			
							$("#type").empty();
							$("#type").append("<option value=''>Select</option>");
			
							for (var i = 0; i < response.body.length; i++) {
								var option = $("<option></option>");
								$(option).val(response.body[i].key);
								$(option).html(response.body[i].name);
								$("#type").append(option);
							}
						}
					},
					error : function(data) {
						console.log(data);
						$("#type").empty();
						$("#type").append("<option value=''>Select</option>");
					}
				})
			} else {
				$("#type").empty();
				$("#type").append("<option value=''>Select</option>");
			}
	}
	function changeOptEdit(cat,cattype) {
			if(cat){
				$
				.ajax({
					type : "GET",
					url : "vendor-company-master-get-type-list?category="+cat,
					contentType : 'application/json',
					success : function(
							response) {
						if (response.message == "success") {
							console.log(response.body)
			
							$("#type").empty();
							$("#type").append("<option value=''>Select</option>");
			
							for (var i = 0; i < response.body.length; i++) {
								var option = $("<option></option>");
								$(option).val(response.body[i].key);
								$(option).html(response.body[i].name);
								$("#type").append(option);
							}
							$("#type").val(cattype);
						}
					},
					error : function(data) {
						console.log(data);
						$("#type").empty();
						$("#type").append("<option value=''>Select</option>");
					}
				})
			} else {
				$("#type").empty();
				$("#type").append("<option value=''>Select</option>");
			}
	}
	
	function hideSave() {
		if ($("#collapseSix").attr('class') == "panel-collapse collapse show") {
			$('#saveVendor').attr("disabled", false);
			$('#cancelBtn').attr("disabled", false);
		}
		if ($("#collapseSix").attr('class') == "panel-collapse collapse") {
			$('#saveVendor').attr("disabled", true);
			$('#cancelBtn').attr("disabled", true);
		}
	}
	
	 function checkAlphabet(fieldId) {
			
		    var tempVal = $("#" + fieldId).val().replace(/[^a-zA-Z. ]/g,'');
		    tempVal=tempVal.replace(/^\w/, c => c.toUpperCase());
		    
		    const input = document.getElementById(fieldId);
		    const position = input.selectionStart;	
		    if(position == 1 && tempVal.charAt(0) == ' '){
		    	$("#" + fieldId).empty();
		    	tempVal = '';
		   } 
		   $("#" + fieldId).val(tempVal);
		}
	 function checkNumeric(fieldId) {
			
		 var tempVal = $("#" + fieldId).val().replace(/[^0-9 ]/g, '');
		    
		    const input = document.getElementById(fieldId);
		    const position = input.selectionStart;	
		    if(tempVal.slice(-1) == ' '){
		     	$("#" + fieldId).empty();
		     	tempVal = '';
		     } 
		   $("#" + fieldId).val(tempVal);
		}
	 //phone validation
	 var phoneValid;

			function phoneVal() {
			    var mob = $('#phone').val();
			    var phoneno = /^\d{10}$/;
			    if (mob != '') {
			        if (phoneno.test(mob)) {
			        	
			            $("#error9").hide();
			           
			            phoneValid = true;
			            return true;
			        } else {
			        	
			            $("#error9").html(
			                "please enter  10 digit mobile number  ex:7089451278");
			        	 $("#error9").show();
			        	 phoneValid= false;
			            return false;
			        }
			    } else {
			       /*  $("#error9").html(" Mobile No is Required");
			        
			        phoneValid = false;
			        return false */;
			        
			        $("#error9").hide();
			        phoneValid = true;
			         return true
			    }
			}
			//Mail validation
			  var emailValid;

			 function emailVal() {
			     var mail = $('#email').val();
			     var mid =  /^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/;
			    	 
			     if (mail != "") {
			         if (mid.test(mail)) {
			             $("#error3").hide();
			             emailValid = true;
			             return true;
			         } else {
			             $("#error3").show();
			             $("#error3").html("Please enter a valid email id.");
			             emailValid = false;
			             return false;
			         }

			     } else {
			         $("#error3").hide();
			         emailValid = true;
			         return true;
			     }

			 }	
			//IFSC Validation
				
			 var ifscValid;

				function ifscVal() {
					
				    var ifsc = $('#ificb').val();
				    
				    var ifscid = /[A-Z]{4}[0][A-Z0-9]{6}$/; 
				    var format = /[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
				    if (ifsc != '' && ifsc.toUpperCase() === ifsc && !format.test(ifsc)) {
				        if (ifscid.test(ifsc)) {
				        	
				            $("#error13").hide();
				            ifscValid = true;
				            return true;
				        } else {
				            $("#error13").show();
				            $("#error13").html("Please enter a valid ifsc code");
				            ifscValid = false;
				            return false;
				        }

				    } else {
				    	$('#ificb').val("");
				        $("#error13").hide();
				        ifscValid = false;
				        return false;
				    }

		}
				
				//website validation		
				var websiteValid;

				 function websiteVal() {
				     var cwebsite = $('#website').val();
				     var cmid =  /(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&/=]*)/;
				    	 
				     if (cwebsite != "") {
				         if (cmid.test(cwebsite)) {
				             $("#error4").hide();
				             websiteValid = true;
				             return true;
				         } else {
				             $("#error4").show();
				             $("#error4").html("Please enter a valid website");
				             websiteValid = false;
				             return false;
				         }

				     } else {
				         $("#error4").hide();
				         websiteValid = true;
				         return true;
				     }

				 }	
				 
				 function checkAmt(fieldId) {   
						var myField = document.getElementById("grossAnnualSale")
						 var reg = /^\d{0,10}(\.\d{0,2})?$/;   
						 if (reg.test(myField.value))
						 {       
							 $("#" + fieldId).val();
							 reg = '';  
						 }else{        
							 $("#" + fieldId).val(null);    
							 }
						 } 
</script>

<script>
	var x, i, j, l, ll, selElmnt, a, b, c;
	/*look for any elements with the class "custom-select":*/
	x = document.getElementsByClassName("selectbox");
	l = x.length;
	for (i = 0; i < l; i++) {
		selElmnt = x[i].getElementsByTagName("select")[0];
		ll = selElmnt.length;
		/*for each element, create a new DIV that will act as the selected item:*/
		a = document.createElement("DIV");
		a.setAttribute("class", "select-selected");
		a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
		x[i].appendChild(a);
		/*for each element, create a new DIV that will contain the option list:*/
		b = document.createElement("DIV");
		b.setAttribute("class", "select-items select-hide");
		for (j = 1; j < ll; j++) {
			/*for each option in the original select element,
			create a new DIV that will act as an option item:*/
			c = document.createElement("DIV");
			c.innerHTML = selElmnt.options[j].innerHTML;
			c
					.addEventListener(
							"click",
							function(e) {
								/*when an item is clicked, update the original select box,
								and the selected item:*/
								var y, i, k, s, h, sl, yl;
								s = this.parentNode.parentNode
										.getElementsByTagName("select")[0];
								sl = s.length;
								h = this.parentNode.previousSibling;
								for (i = 0; i < sl; i++) {
									if (s.options[i].innerHTML == this.innerHTML) {
										s.selectedIndex = i;
										h.innerHTML = this.innerHTML;
										y = this.parentNode
												.getElementsByClassName("same-as-selected");
										yl = y.length;
										for (k = 0; k < yl; k++) {
											y[k].removeAttribute("class");
										}
										this.setAttribute("class",
												"same-as-selected");
										break;
									}
								}
								h.click();
							});
			b.appendChild(c);
		}
		x[i].appendChild(b);
		a.addEventListener("click", function(e) {
			/*when the select box is clicked, close any other select boxes,
			and open/close the current select box:*/
			e.stopPropagation();
			closeAllSelect(this);
			this.nextSibling.classList.toggle("select-hide");
			this.classList.toggle("select-arrow-active");
		});
	}
	function closeAllSelect(elmnt) {
		/*a function that will close all select boxes in the document,
		except the current select box:*/
		var x, y, i, xl, yl, arrNo = [];
		x = document.getElementsByClassName("select-items");
		y = document.getElementsByClassName("select-selected");
		xl = x.length;
		yl = y.length;
		for (i = 0; i < yl; i++) {
			if (elmnt == y[i]) {
				arrNo.push(i)
			} else {
				y[i].classList.remove("select-arrow-active");
			}
		}
		for (i = 0; i < xl; i++) {
			if (arrNo.indexOf(i)) {
				x[i].classList.add("select-hide");
			}
		}
	}
	/*if the user clicks anywhere outside the select box,
	 then close all select boxes:*/
	document.addEventListener("click", closeAllSelect);
</script>


<script>
function saveFile() {
	
	var uFile = $('#fileUpload')[0].files[0]; 
	var fileName = $('#fileUpload').val();
	
	var lastIndex = fileName.lastIndexOf("\\");
	if(lastIndex >= 0) {
		fileName = fileName.substring(lastIndex + 1);
	}
	var iURL = URL.createObjectURL(uFile);
	
	$('#imgLoc').attr('src', '');
	$('#imgLoc').attr('src', iURL);
	
	var fileData = new FormData();
	fileData.append('file',uFile);
	fileData.append('path','none');
	
	$.ajax({
		type        : "POST",
		url         : "vendor-company-master-upload-file",
		enctype     : "multipart/form-data",
		contentType : false,
		data        : fileData,
		processData : false,
		cache       : false,
		success     : function(response){
						
					},			  
		error       : function(e) {
			
			  		}
	});
}

function deleteFile() {
	
	$('#imgLoc').attr('src', '');
	$('#imgLoc').attr('src', '../assets/images/noimage.jpg');
	
	var fileData = new FormData();
	
	fileData.append('file','none');
	fileData.append('path','none');
	
	$.ajax({
		type        : "POST",
		url         : "manage-location-delete-file",
		enctype     : "multipart/form-data",
		contentType : false,
		/* data        : fileData, */
		processData : false,
		cache       : false,
		success     : function(response){
						console.log("ABC")
					},			  
		error       : function(e) {
			
			  		}
	});
}
function submitVendor(dataset) {
    //console.log(dataset)
    var validAll = true;
		if (!validationUpdated("Vendor Name Required", "vendorName")) {
			validAll = false;
		}

		if (!validationUpdated("Vendor Code Required", "vendorCode")) {
			validAll = false;
		}
		if (validAll) {
    $.ajax({
        type: "POST",
        url: "vendor-company-master-save",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify(dataset),
        success: function(response) {
            if (response.message == "Success") {
            	
            	agGrid.simpleHttpRequest({
					url : "vendor-company-master-data-through-ajax"
				}).then(function(data) {
					var len = data.length;
					$('#totalVendor').find('span').html(len);
					gridVendorOptions.api.setRowData(data);
				});
            	returnPage();
				$("#messageParagraph").text("Data Added Successfully");
				$("#msgOkModal").removeClass("btn3");
				$("#msgOkModal").addClass("btn1");
				$("#msgModal").modal('show');
				$('#reqDltBtn').attr('disabled', true);
				$('#reqCopyBtn').attr('disabled', true);
				$('#reqAppvBtn').attr('disabled', true);
				$('#rfqDistBtn').attr('disabled', true);
            	var vendorId=$("#vendorId").val();
            	$("#main").show();
            	$("#vendorText").text("");
            	$("#vendorId").val(response.body.vendorId);
				$("#vendorText").text("Vendor Id:"+response.body.vendorId);
				agGridVendor();
				agGrid.simpleHttpRequest({
					url : 'vendor-company-master-activity-through-ajax?id=' + response.body.vendorId
				}).then(function(data) {
					activityOptions.api.setRowData(data);
				});
				
            } else {
                swal({
                    title: response.code,
                    text: response.message,
                    type: "warning"
                })
            }
        },
        error: function(response) {
            console.log(response);
        }
    })
		}
}
function submitVendorInfo(dataset) {
    //console.log(dataset)
    var validAll = true;
		if (!validationUpdated("Vendor Name Required", "vendorName")) {
			validAll = false;
		}

		if (!validationUpdated("Vendor Code Required", "vendorCode")) {
			validAll = false;
		}
		if (validAll) {
    $.ajax({
        type: "POST",
        url: "vendor-company-master-save",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify(dataset),
        success: function(response) {
            if (response.message == "Success") {
            	
            	agGrid.simpleHttpRequest({
					url : "vendor-company-master-data-through-ajax"
				}).then(function(data) {
					var len = data.length;
					$('#totalVendor').find('span').html(len);
					gridVendorOptions.api.setRowData(data);
				});
				$("#messageParagraph").text("Data Added Successfully");
				$("#msgOkModal").removeClass("btn3");
				$("#msgOkModal").addClass("btn1");
				$("#msgModal").modal('show');
				$('#reqDltBtn').attr('disabled', true);
				$('#reqCopyBtn').attr('disabled', true);
				$('#reqAppvBtn').attr('disabled', true);
				$('#rfqDistBtn').attr('disabled', true);
            	var vendorId=$("#vendorId").val();
            	$("#main").show();
            	$("#vendorText").text("");
            	$("#vendorId").val(response.body.vendorId);
				$("#vendorText").text("Vendor Id:"+response.body.vendorId);
				agGridVendor();
				agGrid.simpleHttpRequest({
					url : 'vendor-company-master-activity-through-ajax?id=' + response.body.vendorId
				}).then(function(data) {
					activityOptions.api.setRowData(data);
				});
				
            } else {
                swal({
                    title: response.code,
                    text: response.message,
                    type: "warning"
                })
            }
        },
        error: function(response) {
            console.log(response);
        }
    })
		}
}
//submit vendor location
function submitVendorLocation(dataset) {
    $.ajax({
        type: "POST",
        url: "vendor-company-master-location-save",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify(dataset),
        success: function(response) {
            if (response.message == "Success") {
            	agGridLocation();
            	closeNav();
            	agGridActivity();
            } else {
                swal({
                    title: response.code,
                    text: response.message,
                    type: "warning"
                })
            }
        },
        error: function(response) {
            console.log(response);
        }
    })
}

function submitVendorContact(dataset) {
	emailVal();
	phoneVal();
    console.log("contact",dataset)
    $.ajax({
        type: "POST",
        url: "vendor-company-master-contact-save",
        dataType: "json",
        contentType: "application/json",
        data: JSON.stringify(dataset),
        success: function(response) {
            if (response.message == "Success") {
            	agGridContact();
            	closeContactNav();
            	agGridActivity();
            } else {
                swal({
                    title: response.code,
                    text: response.message,
                    type: "warning"
                })
            }
        },
        error: function(response) {
            console.log(response);
        }
    })
}
function submitVendorDocument(dataset) {
    $.ajax({
        type: "POST",
        url: "vendor-company-master-document-save",
        dataType: "json",
        contentType: "application/json; charset=utf-8",
        data: JSON.stringify(dataset),
        success: function(response) {
        	console.log(response)
            if (response.message == "success") {
            	$('.loader').hide();
				$("#messageParagraph").text("Data Saved Successfully");
				$("#msgOkModal").removeClass("btn3");
				$("#msgOkModal").addClass("btn1");
				$("#msgModal").modal('show');
                	agGridContact();
            	closeContactNav();
            	agGridActivity();
            } else {
                swal({
                    title: response.code,
                    text: response.message,
                    type: "warning"
                })
            }
        },
        error: function(response) {
            console.log(response);
        }
    })
}
//function for submit bank details
function submitbankdetils(dataset) {
	ifscVal();
	var ifscno=$("#ificb").val();
	if(ifscno==null || ifscno==""){
		ifscValid=true;
		 $("#error13").hide();
	}
		$.ajax({
	        type: "POST",
	        url: "vendor-company-master-bankdetails-save",
	        dataType: "json",
	        contentType: "application/json",
	        data: JSON.stringify(dataset),
	        success: function(response) {
	            if (response.message == "Success") {
	            	// console.log("in side success")
	            	 closeNav3();
	            	 agGridBank();
	            	 agGridActivity();
	            } else {
	                swal({
	                    title: response.code,
	                    text: response.message,
	                    type: "warning"
	                })
	            }
	        },
	        error: function(response) {
	            console.log(response);
	        }
	    })
	}
//function for submit bank details end
//function for edit location
function editLocation(id){

	openNav();
	if(id) {
		$.ajax({
			type : "POST",
			url : "vendor-company-master-location-edit",
			dataType : 'json',
			contentType : 'application/json',
			data : id,
			success : function(response) {
				if (response.message == "success") {
				
					$ ("#vendorLocationId").val(response.body.vendorLocationId);
					$("#vendorLocationName").val(response.body.vendorLocationName);
					$("#vendorLocationType").val(response.body.vendorLocationType);
					
					var vendorBillingStatus = response.body.vendorBillingStatus;
					
					if(vendorBillingStatus == '1') {
						$('#billingStatus').prop('checked', true);
					} else {
						$('#billingStatus').prop('checked', false);
					}
					var vendorPrimaryStatus = response.body.vendorPrimaryStatus;
					
					if(vendorPrimaryStatus == '1') {
						$('#primaryStatus').prop('checked', true);
					} else {
						$('#primaryStatus').prop('checked', false);
					}
					$("#vendorLocAddress").val(response.body.vendorLocAddress);
					$("#vendorCountry").val(response.body.vendorCountry);
					$("#vendorState").empty();
					$("#vendorState").append("<option value=''>Select</option>");
					for(var i=0; i < response.body.stateList.length; i++) {
						$("#vendorState").append("<option value='"+response.body.stateList[i].key+"'>"+response.body.stateList[i].name+"</option>");
					}
					
					$("#vendorState").val(response.body.vendorState);
					
					$("#vendorCity").empty();
					$("#vendorCity").append("<option value=''>Select</option>");
					for(var i=0; i < response.body.cityList.length; i++) {
						$("#vendorCity").append("<option value='"+response.body.cityList[i].key+"'>"+response.body.cityList[i].name+"</option>");
					}
					$("#vendorCity").val(response.body.vendorCity);
				}
			}, error : function(data) {
				console.log(data)
			}
		});
	}
}
//function for edit location
function editContact(id){

	openContactNav();
	if(id) {
		$.ajax({
			type : "POST",
			url : "vendor-company-master-contact-edit",
			dataType : 'json',
			contentType : 'application/json',
			data : id,
			success : function(response) {
				if (response.message == "success") {
				
					$ ("#contactId").val(response.body.contactId);
					$("#contactName").val(response.body.contactName);
					$("#contactDesignation").val(response.body.contactDesignation);
					$("#contactFunction").val(response.body.contactFunction);
					$("#location").val(response.body.location);
					$("#phone").val(response.body.phone);
					$("#email").val(response.body.email);
					
					var primaryStatusContact = response.body.primaryStatusContact;
					
					if(primaryStatusContact == '1') {
						$('#primaryStatusContact').prop('checked', true);
					} else {
						$('#primaryStatusContact').prop('checked', false);
					}
					
				}
			}, error : function(data) {
				console.log(data)
			}
		});
	}
}

//function for edit vendor
function editVendor(id){
	$('.formValidation').remove();
	newPage();
  $("#myTbl").hide();
 $(".btn-hs").hide(); 
$("#demo").show();		
$("#myVendorGrid").hide();


	 
	if(id) {
		$.ajax({
			type : "POST",
			url : "vendor-company-master-edit",
			dataType : 'json',
			contentType : 'application/json',
			data : id,
			success : function(response) {
				if (response.message == "success") {
					//console.log(response.body)
					$("#main").show();
					$ ("#vendorId").val(response.body.vendorId);
					$("#vendorText").text("Vendor Id: "+response.body.vendorId);
					$("#vendorName").val(response.body.vendorName);
					$("#vendorCode").val(response.body.code);
					 
					$("#Category").val(response.body.category);
					var cat=response.body.category;
					var cattype=response.body.categoryType;
					changeOptEdit(cat,cattype);
					
					$("#companyOverView").val(response.body.comapanyOverview);
					
					var vendorStatus = response.body.vendorStatus;
					
					if(vendorStatus == '1') {
						$('#vendorStatus').prop('checked', true);
					} else {
						$('#vendorStatus').prop('checked', false);
					}
 
					$('#imgLoc').attr('src', '');
					if(response.body.fileVendor!=null && response.body.fileVendor!="") {
						$('#imgLoc').attr('src', response.body.fileVendor);
					} else {
						$('#imgLoc').attr('src', '../assets/images/noimage.jpg');
					}
					$("#companyDate") .val(response.body.companyDate);
					 
			          $("#companyDateCalendar").val(response.body.companyDate);
					   
					 $("#grossAnnualSale").val(response.body.grossAnnualSale);
					$("#currency").val(response.body.currency);
					$("#totalEmployee").val(response.body.totalEmployee);
					$("#website").val(response.body.website);
					
					var date = "";
					/* if(response.body.companyDate != null && response.body.companyDate != "") {
						date = dateFormat(response.body.companyDate);
						$('#companyDate').val(date);
					} */
						//dateFormat(response.body.companyDate);
					
					 
					agGridLocation();
					agGridContact();
					agGridBank();
					agGridVendor();
					agGridActivity();
					agGridDocument(id);
					 
				}
			}, error : function(data) {
				console.log(data)
			}
		});
	}
}
//edit bank details 

function editBankDetails(id){

	openNav3();
	if(id) {
		$.ajax({
			type : "POST",
			url : "vendor-company-master-bank-edit",
			dataType : 'json',
			contentType : 'application/json',
			data : id,
			success : function(response) {
				if (response.message == "success") {
					
					$ ("#bankId").val(response.body.ebankId);
					$ ("#banknameid").val(response.body.ebankName);
					var bankPrimaryStatus = response.body.bankPrimaryStatus;
					
					if(bankPrimaryStatus == '1') {
						$('#primaryStatusBank').prop('checked', true);
					} else {
						$('#primaryStatusBank').prop('checked', false);
					}
					$("#addressid_b").val(response.body.ebankAddress);
					 
					$("#countryid_b").val(response.body.ebankCountry);
					$("#accountNOb").val(response.body.ebankAccountNo);
					$("#ificb").val(response.body.eIfic);
					
					$("#stateid_b").empty();
					$("#stateid_b").append("<option value=''>Select</option>");
					for(var i=0; i < response.body.stateList.length; i++) {
						$("#stateid_b").append("<option value='"+response.body.stateList[i].key+"'>"+response.body.stateList[i].name+"</option>");
					}
					
					$("#stateid_b").val(response.body.ebankState);
					
					$("#cityid").empty();
					$("#cityid").append("<option value=''>Select</option>");
					for(var i=0; i < response.body.cityList.length; i++) {
						$("#cityid").append("<option value='"+response.body.cityList[i].key+"'>"+response.body.cityList[i].name+"</option>");
					}
					$("#cityid").val(response.body.ebankCity);
					
					
				}
			}, error : function(data) {
				console.log(data)
			}
		});
	}
}
//edit bank detailds end
/* function for cancel delete location */
function cancelModalLocationBtn() {
		$("#deleteModalBtn").removeAttr("disabled");
		$('#deleteLocation1').modal('hide');
	}
function cancelModalVendorBtn() {
	$("#deleteModalVendorBtn").removeAttr("disabled");
	$('#deleteVendor').modal('hide');
	$('#deleteVendorModel').modal('hide');
}
function cancelModalContactsBtn() {
	//$("#deleteModalBtn").removeAttr("disabled");
	$('#deleteContacts').modal('hide');
}
function cancelModalBankBtn() {
	//$("#deleteModalBtn").removeAttr("disabled");
	$('#deleteBank').modal('hide');
}

/* function for cancel delete location end */

/* function for delete vendor */
function deleteVendorOnclick() {
	 
	var selectedRows = gridVendorOptions.api.getSelectedRows();
	var selectedRowsString = '';
	var selectedId= '';
	selectedRows.forEach(function(selectedRow, index) {
		if (index > 0) {
			selectedRowsString += ',';
			selectedId+= ',';
			}
			selectedRowsString += '"' + selectedRow.vendorId + '"';
			selectedId +=selectedRow.vendorId;
			});
	
	if (selectedRowsString) {
		$('.loader').show();
		$("body").addClass("overlay");
	
		 
		$.ajax({
			type : "POST",
			url : "vendor-company-master-delete?id="+ selectedRowsString +"&simpleid="+selectedId ,
			success : function(response) {
			 if (response.message == "success") {
				 agGridVendor();
				 cancelModalVendorBtn();
				 //deleteVendorModel
				 $('.loader').hide();
				$("body").removeClass("overlay");
			} 
			},
			error : function(data) {
			console.log(data);
			}
		})
		
	} else {
		$("#alert").modal('show');
		document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
	}
	 
	

	}
	//delete location 
	function deleteLocationOnclick() {
	var vendorId=$("#vendorId").val();
	var selectedRows = gridOptions.api.getSelectedRows();
	var selectedRowsString = '';
	var selectedId= '';
	selectedRows.forEach(function(selectedRow, index) {
		if (index > 0) {
			selectedRowsString += ',';
			selectedId+= ',';
			}
			selectedRowsString += '"' + selectedRow.vendorLocationId + '"';
			selectedId +=selectedRow.vendorLocationId;
			});
	
	if (selectedRowsString) {
	
		/* var item = {};
		item.vendorLocationId = selectedRowsString; */
		$.ajax({
			type : "POST",
			url : "vendor-company-master-location-delete?id="+ selectedRowsString +"&simpleid="+selectedId+"&vendorId="+vendorId ,
			success : function(response) {
			 if (response.message == "success") {
				alert(JSON.stringify(response));
				$('#deleteLocation1').modal('hide');
				 agGridLocation();
			} 
			},
			error : function(data) {
			console.log(data);
			}
		})
		
	} else {
		$("#alert").modal('show');
		document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
	}
		cancelModalLocationBtn();

	}
	
	
	
	//Delete Contacts
	function deleteContactsOnclick() {
		var vendorId = $("#vendorId").val();
		var selectedRows = gridContactOptions.api.getSelectedRows();
		var selectedRowsString = '';
		var selectedId = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
				selectedId += ',';
			}
			selectedRowsString += '"' + selectedRow.contactId + '"';
			selectedId += selectedRow.contactId;
		});

		if (selectedRowsString) {

			
			$.ajax({
				type : "POST",
				url : "vendor-company-master-contact-delete?id="
						+ selectedRowsString + "&simpleid=" + selectedId
						+ "&vendorId=" + vendorId,
				success : function(response) {
					if (response.message == "success") {
						agGridContact();
					}
				},
				error : function(data) {
					console.log(data);
				}
			})

		} else {
			$("#alert").modal('show');
			document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
		}
		cancelModalContactsBtn();

	} 
	 
	//Delete Bank Details
	      function deleteBankOnclick() {
		var vendorId = $("#vendorId").val();
		var selectedRows = gridBankOptions.api.getSelectedRows();
		var selectedRowsString = '';
		var selectedId = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
				selectedId += ',';
			}
			selectedRowsString += '"' + selectedRow.ebankId + '"';
			selectedId += selectedRow.ebankId;
		});

		if (selectedRowsString) {

			
			$.ajax({
				type : "POST",
				url : "vendor-company-master-bank-delete?id="
						+ selectedRowsString + "&simpleid=" + selectedId
						+ "&vendorId=" + vendorId,
				success : function(response) {
					if (response.message == "success") {
						agGridBank();
					}
				},
				error : function(data) {
					console.log(data);
				}
			})

		} else {
			$("#alert").modal('show');
			document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
		}
		cancelModalBankBtn();

	} 
	
function deleteVendorLocation() {
	$('#deleteLocation1').modal('show');
}
function deleteVendorData() {
	
	$('#deleteVendorModel').modal('show');
}

function deleteVendorContacts() {
	$('#deleteContacts').modal('show');
}
function deleteVendorBank() {
	$('#deleteBank').modal('show');
}

  
 function addMore1() {
	
		var lengthOfTableRow = $("#doctbodyData").children('tr').length;
		var cloneHtml = $("#docTbl tbody tr:first").clone();

		$("#docTbl tbody").append($("#docTbl tbody tr:first").clone());
		$("#myTable tbody tr td:last").html("");
		//var addMore = '<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMore1();"><span class="ti-plus"></span></button>&nbsp;'
 
		$("#docTbl tbody tr:last").find(".documentclss").val("");
		$("#docTbl tbody tr:last").find(".docNoclss").val("");
		$("#docTbl tbody tr:last").find(".documentclssup").val("");
		$("#docTbl tbody tr:last").find(".uploadedBillCls").empty();
		$("#docTbl tbody tr:last").find(".uploadHidCls").empty();
		$("#docTbl tbody tr:last").find(".imageName").empty();
		
		/* var editTr = 0;

		if (lengthOfTableRow > editTr) {

			$("#docTbl tbody tr").eq(lengthOfTableRow - 1).find('td:last')
					.append(removeMore);
		} */
		
		$("#docTbl > #doctbodyData > tr").each(function(i) {
			
			var selectInput = $(this).find('select');
			var textInput = $(this).find('input');
			var fileInput = $(this).find('file');
			var divInput = $(this).find('div');
			var label = $(this).find('label');
			selectInput.eq(0).attr('id', "docid_" + i);

			textInput.eq(1).attr('id', "docnoid_" + i);
			textInput.eq(2).attr('id', "uploadDoc_" + i);
			label.eq(1).attr('for', "uploadDoc_" + i);	
			textInput.eq(3).attr('id', "uploadHidden_" + i);
			divInput.eq(4).attr('id', "uploadedBillDiv_" + i);
			divInput.eq(5).attr('id', "imageName_" + i);
			
			
		})

	}
 function saveMultiFile(event) {
		var AssignItemQty = event.currentTarget.value;
		var currentFldId = event.currentTarget.getAttribute('id');
		var l = currentFldId.split("_");
		var counter = l[1];
		var currentFldId = "#" + currentFldId;
		
		var uFile = $(currentFldId)[0].files[0];
		var fileName = event.currentTarget.value;
		var lastIndex = fileName.lastIndexOf("\\");
		if (lastIndex >= 0) {
			fileName = fileName.substring(lastIndex + 1);
		}
		var extension = fileName.split(".");
		
		var iURL = URL.createObjectURL(uFile);
		$("#uploadedBillDiv_" + counter).html("");
		
		/* var LightImg = "<a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'>Preview Image</a>"; */
		if(extension[1] == "jpg" || extension[1] == "png"){
		var LightImg ="<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><img src='"+iURL+"' height='20' width='20'></a></div>";
		}else if(extension[1] == "pdf"){
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-pdf-o'></i> </a></div>";
		}else{
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'>Preview Image</a></div>";
		}
		$("#uploadedBillDiv_" + counter).html(LightImg);
		$("#imageName_" + counter).html(fileName);
		
		}
 
 
/* Done By Sagar 27-01-2021 */ 
 
$(document).ready(function(){
	$("#createUser").click(function(){
		var selectedRows = gridContactOptions.api.getSelectedRows();
		var vendContactId = "";
		var vendorId = "";
		var contactName = "";
		var phone = "";
		var email = "";
		selectedRows.forEach(function(selectedRow, index) {
			vendContactId = selectedRow.contactId;
			vendorId = selectedRow.vendorId;
			contactName = selectedRow.contactName;
			phone = selectedRow.phone;
			email = selectedRow.email;
		});
		
		obj = {};
		
		obj.contactId = vendContactId;
		obj.vendorId = vendorId;
		obj.contactName = contactName;
		obj.phone = phone;
		obj.email = email; 
		if(vendContactId) {
			$('.loader').show();
        	$("body").addClass("overlay");
			$.ajax({
		        type: "POST",
		        url: "vendor-company-master-create-user",
		        dataType: "json",
		        contentType: "application/json",
		        data: JSON.stringify(obj),
		        success: function(response) {
		            if (response.message == "success") {
		            	$('.loader').hide();
		            	$("body").removeClass("overlay");
		            	agGridContact();
		            	$("#messageParagraph").text("User Created Successfully");
			        	$("#msgOkModal").removeClass("btn3");
			        	$("#msgOkModal").addClass("btn1");
			        	$("#msgModal").modal('show');
		            }else{
						swal({
							title : response.code,
							text : response.message,
							type : "warning"
						})
						$('.loader').hide();
				        $("body").removeClass("overlay");
					}
		        }, error: function(data) {
		        	console.log(data)
		        	$('.loader').hide();
		        	$("body").removeClass("overlay");
		        }
			});
		}
	})
	
	$("#resetPassword").click(function(){
		var cnt = 0;
		var contactId = "";
		var emailId = "";
		var contactName = "";
		var vendorId = "";
		gridContactOptions.api.forEachNode(function(rowNode,index){
			if(rowNode.data.contactStatus == "1") {
				cnt = cnt + 1;
				contactId = rowNode.data.contactId;
				vendorId = rowNode.data.vendorId;
				emailId = rowNode.data.email;
				contactName = rowNode.data.contactName;
			}
		})
		obj = {};
		
		obj.contactId = contactId;
		obj.contactName = contactName;
		obj.email = emailId;
		obj.vendorId = vendorId;
		console.log(obj)
		if(contactId) {
			$('.loader').show();
        	$("body").addClass("overlay");
			$.ajax({
		        type: "POST",
		        url: "vendor-company-master-reset-password",
		        dataType: "json",
		        contentType: "application/json",
		        data: JSON.stringify(obj),
		        success: function(response) {
		            if (response.message == "success") {
		            	$('.loader').hide();
		            	$("body").removeClass("overlay");
		            	$("#messageParagraph").text("Password Reset Successfully");
			        	$("#msgOkModal").removeClass("btn3");
			        	$("#msgOkModal").addClass("btn1");
			        	$("#msgModal").modal('show');
		            }
		        }, error: function(data) {
		        	console.log(data)
		        	$('.loader').hide();
		        	$("body").removeClass("overlay");
		        }
			});
		}
	})
})
/* 
$(document).ready(function() {
		var dateFormat = localStorage.getItem("dateFormat");

		$("#companyDateCalendar").datetimepicker({
			format : dateFormat,
			closeOnDateSelect : true,
			timepicker : false,
		}).on("change", function() {
			$('#companyDate').val($(this).val());
		})

		$('#companyDate').blur(function() {
			$("#companyDateCalendar").val($(this).val());
		})
	}) */
	 function returnPage() {
		$("#total").show();
		$("#vendorTable").show();
		$("#totalVendor").show();
		$("#searchDiv").show();
		$("#btndiv").show();
		$("#myVendorGrid").show();
		$("#stable").hide();
		$("#accordionExample").hide();
		$("#headingItem").hide();
		$("#deleteVendor").attr("disabled", true);
		$("#newBtn").attr("disabled", false);
	}
	function newPage() {
		$("#vendorTable").hide();
		$("#totalVendor").hide();
		$("#searchDiv").hide();
		$("#btndiv").hide();
		$("#myVendorGrid").hide();
		$("#stable").show();
		$("#accordionExample").show();
		$("#headingItem").show();
		//headerStatus()
	}
	
	
	
	 //VENDOR PROFILE DOCUMENT FUNCTIONS START
	$(document).ready(function() {
		var dateFormat = localStorage.getItem("dateFormat");

		$("#companyDateCalendar").datetimepicker({
			format : dateFormat,
			closeOnDateSelect : true,
			timepicker : false,
		}).on("change", function() {
			$('#companyDate').val($(this).val());
		})

		$('#companyDate').blur(function() {
			$("#companyDateCalendar").val($(this).val());
		})
		
		var gridDiv5 = document.querySelector('#myGrid5');
		new agGrid.Grid(gridDiv5, gridOptions5);
		
		$("#newadd").show();
		$("#dadd").show();
		$("#ddelete").show();
		$("#docadd").show();
		$("#docdelete").show();
		
		$('#docdelete').attr("disabled", true);
		$('#docadd').attr("disabled", false);
		
		$("#submitDoc").click(function() {
			$(".formValidation").remove();
				data = {};
				data.documentId = $("#documentId").val();
				data.vendorId = $("#vendorId").val();
				data.documentType = $("#documentType").val();
				data.documentNo = $("#docno").val();
				data.documentImage = $("#imageName_0").html();
				data.status = $("#docstatus").val();
	
				var valid=true;
				 if (data.documentImage == null || data.documentImage == "") {
					 valid = validationUpdated("Please Upload Document", "validationDiv");
					}
				   if (!validationUpdated(" Select Document Type ", "documentType")) {
						valid = false;
					}

				if(valid){
					$(".formValidation").remove();
					submitDocument(data);
				}
			})
	})
	 function returnPage() {
		$("#total").show();
		$("#vendorTable").show();
		$("#totalVendor").show();
		$("#searchDiv").show();
		$("#btndiv").show();
		$("#myVendorGrid").show();
		$("#stable").hide();
		$("#accordionExample").hide();
		$("#headingItem").hide();
	}
	function newPage() {
		$("#vendorTable").hide();
		$("#totalVendor").hide();
		$("#searchDiv").hide();
		$("#btndiv").hide();
		$("#myVendorGrid").hide();
		$("#stable").show();
		$("#accordionExample").show();
		$("#headingItem").show();
		//headerStatus()
	} 
	//aggrid	
	var columnDefs5 = [ 
		{
			headerName : "",
			field : "documentId",
			headerCheckboxSelection : false,
			headerCheckboxSelectionFilteredOnly : true,
			checkboxSelection : true,
			sortable : false,
			filter : false,
			resizable : true,
			width : 30
		},
	{
		headerName : "Document Type",
		field : "documentType",
		width : 340,
		cellRenderer : function(params) {
			return '<a onclick=editDoc("'
					+ params.data.documentId
					+ '") href="javascript:void(0)">'
					+ params.data.documentType + '</a>';
	}
	},   {
		headerName : "Document Number",
		field : "documentNo",
	},   {
		headerName : "Document",
		field : "documentImage",
		cellStyle : {
			textAlign : 'center'
		},
		cellRenderer : function(params) {
			var div = "";
			if (params.data.documentImage) {
				var ext = params.data.documentImage.split(".");
				if (ext[1] == "pdf") {
					div = div
					+ " "
					+ '<div class ="fa fa-file-pdf-o" style="cursor: pointer; color: red;" onclick=viewImage("'+ params.data.documentImage + '")> </div>';
				}else{
					div = div
					+ " "
					+ '<div class ="fa fa-picture-o" style="cursor: pointer; color: blue;" onclick=viewImage("'+ params.data.documentImage + '")> </div>';
				}
			}
			return div;
		},
		}, {
			headerName : "Status",
			field : "status",
			cellStyle : {
				textAlign : 'center'
			},
			cellRenderer: function(params){
				if(params.data.status == "1"){
				return '<div style="color:green">' + "Active"+ '</div>';
				} else{
				return '<div>' + "Inactive" + '</div>';
				}
				}
		} ];

	var gridOptions5 = {
		columnDefs : columnDefs5,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 220,
			height : 20
	},
	rowSelection : 'single',
	onSelectionChanged : onSelectionChangedDoc,
	suppressRowClickSelection : true,
	getRowNodeId : function(data) {
		return data.documentType;
	}
	};
	
	function openNav5() {
		$('#saveEmployee').attr("disabled", true);
		$('#profilecancelbtn').attr("disabled", true);
		$('#documentType').val("");
		$('#docno').val("");
		$('#imageName_0').html("");
		$('#docStatus').val("");
		$("#uploadedBillDiv_0").html("");
		document.getElementById("mySidenav5").style.cssText = "width: 30%; position: absolute; right:-10px; overflow: hidden; height:auto;bottom:10px;";
		document.getElementById("main").style.width = "70%";
		
		$("#documentType").attr('disabled',false);
		$("#ddtype").addClass("select");
	}

	function closeNav5() {
		var id = $("#employeeId").val();
		$(".formValidation").remove();
		
		$('#saveEmployee').attr("disabled", false);
		$('#profilecancelbtn').attr("disabled", false);
		
		document.getElementById("mySidenav5").style.width = "0";
		document.getElementById("main").style.width = "100%";
	}
	
	
	//Vendor document submit
	function submitDocument(dataset) {
		
		$.ajax({
			type : "POST",
			url : " vendor-company-profile-document-save",
			dataType : "json",
			contentType : "application/json",
			data : JSON.stringify(dataset),
			success : function(response) {
				if (response.message == "Success") {
					
					closeNav5();
					var id=$("#vendorId").val();
					agGridDocument(id);
					$("#messageParagraph").text(
					"Data saved successfully"); 
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
				} 
			},
			error : function(response) {
				console.log(response);
			}
		})
	}
	
	function onSelectionChangedDoc(){
		var selectedRows = gridOptions5.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
				$('#docdelete').attr("disabled", false);
				$('#docadd').attr("disabled", true);
			}else{
				$('#docdelete').attr("disabled", true);
				$('#docadd').attr("disabled", false);
			}
	}
	
	
	//Vendor document delete
	function deleteDocument(){
		var selectedRows = gridOptions5.api.getSelectedRows();
		 var docid=selectedRows[0].documentId;
		if (docid) {
			$.ajax({
				type : "GET",
				url : "vendor-company-profile-document-delete?docid="+docid,
				success : function(response) {
				if (response.message == "Success") {
					$('#docdelete').attr("disabled", true);
					$('#docadd').attr("disabled", false);
					var id=$("#vendorId").val();
					agGridDocument(id);
					$("#messageParagraph").text(
					"Data deleted successfully"); 
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
				}
				},
				error : function(data) {
				console.log(data);
				}
			})
		} else {
			$('#reqinsu').modal('toggle');
		}
	}
	
	
	//vendor document edit
	function editDoc(id) {
		$.ajax({
			type : "GET",
			url : "vendor-company-profile-document-edit?docid="+ id,
			async : false,
			success : function(response) {
				console.log(response)
				if (response.message == "Success") {
					openNav5();
					$("#myGrid5").show();
					$("#documentId").val(response.body.documentId);
					$("#documentType").val(response.body.documentType);
					$("#docno").val(response.body.documentNo);
					$("#docstatus").val(response.body.status);
					var fileName=response.body.documentImage;
					if (fileName != null) {
						var ext = response.body.documentImage.split(".");
						$("#imageName_0").html(fileName);
 
			           if (ext[1] == "jpg" || ext[1] == "png") {
							var LightImg = '<div class ="uploadicon position-l"><a class="example-image-link" target="_balnk"><i class="fa fa-picture-o" style="color: blue" onclick=viewImage("'
								+ fileName + '")></i></a> </div>';
						}else if (ext[1] == "pdf") {
							var LightImg = '<div class ="uploadicon position-l"><a class="example-image-link" target="_balnk"><i class="fa fa-file-pdf-o" style="color: red" onclick=viewImage("'
								+ fileName + '")></i></a> </div>';
						} else {
							var LightImg = "<div class='uploadicon position-l'> </div>";
						}  

						$("#uploadedBillDiv_0").html(LightImg);
						
					}
 
					}
			}
		});
}
	/* save document file */
	function saveMultiFileDoc(event) {
		$(".formValidation").remove();
		var uFile = $(uploadDoc_0)[0].files[0];
		var fileName = event.currentTarget.value;
		var lastIndex = fileName.lastIndexOf("\\");
		if (lastIndex >= 0) {
			fileName = fileName.substring(lastIndex + 1);
		}
		var extension = fileName.split(".");
		var iURL = URL.createObjectURL(uFile);
		$("#uploadedBillDiv_0").html("");
 /* alert(extension[1])
alert(fileName) */ 
		if (extension[1] == "jpg" || extension[1] == "png"|| extension[1] == "jpeg") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-picture-o' style='color: blue'></i></a></div>";
		}else if (extension[1] == "pdf") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-pdf-o' style='color: red'></i></a></div>";
		} else {
			var LightImg = "<div class='uploadicon position-l'> </div>";
		}
		$("#uploadedBillDiv_0").html(LightImg);
		$("#imageName_0").html(fileName);
		var fileData = new FormData();
		fileData.append('file', uFile);
		fileData.append('path', 'none');
		$.ajax({
			type : "POST",
			url : "vendor-company-master-doc-upload-file",
			enctype : "multipart/form-data",
			contentType : false,
			data : fileData,
			processData : false,
			cache : false,
			success : function(response) {

			},
			error : function(e) {

			}
		});
	}	
	function viewImage(id){
		window.open("/document/document/"+id,'_blank');
	}		
 
	
</script>
</head>
<body>
	<div layout:fragment="content" class="maincontent">

		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
					<div class="content_padding">
						<div class="row" id="vendorTable">
							<div class="d-flex justify-content-between">
								<div class=" btn-hs" id="total">
									<div class="font-design" id="totalVendor">Vender Profile
									</div>

								</div>

								<div class="btn-hs" id="searchDiv">
									<div class="input-style">
										<input type="text" placeholder="Search.." name="search"
											class="searchboxinput" onkeyup="cancelBar()"
											oninput="onQuickFilterChanged()" id="searchBar"
											autocomplete="off">
										<div class="searchicon">
											<a href="javascript:void(0)"><span
												style="display: none; border-right: 1px solid #ccc; padding-right: 5px;"
												id="closeKey"
												onclick="gridVendorOptions.api.setQuickFilter(null);$('#searchBar').val('');document.getElementById('closeKey').style.display='none';"
												class="close_i"><i class="ti-close srchicon"></i></span></a><a
												href="javascript:void(0)"><i class="ti-search srchicon"></i></a>
										</div>
									</div>
								</div>

								<div class="butttonsec btn-hs" id="btndiv">
									<button class="download-btn" id="downloadVendor"
										onclick="vendorlistCSV()">Download</button>
									<!-- <button class="upload-btn">Upload</button> -->
									<!-- <div class="buttongap"></div> -->
									<!-- 						<button class="delete-btn" data-toggle="modal" data-target="#delete"
									onclick="deleteVendorData();">DELETE</button> -->
									<!-- 	<button class="new-btn" id="newBtn">NEW</button> -->
								</div>
							</div>
						</div>
						<div id="myVendorGrid" style="width: 100%; height: 500px;"
							class="ag-theme-alpine"></div>

						<div class="collapse" id="demo">
							<div class="innerstickybg" id="headingItem">
								<div class="row">

									<div class="col-md-4" id="vendorText">Vendor ID:</div>
									<input type="hidden" id="vendorId" />
									<div class="col-md-4">
										<hr>
										<div class="main-div">
											<div class="section2">
												<div class="green-box">
													<div class="green-box-heading">CREATED</div>
													<div class="date">9-OCT-20</div>
												</div>
											</div>
											<div class="section3">
												<div class="green-box">
													<div class="green-box-heading">ACTIVE</div>
													<div class="date">11-OCT-20</div>
												</div>
											</div>
											<div class="section4">
												<div class="grey-box">
													<div>CLOSED</div>
												</div>
											</div>

										</div>
									</div>
									<div class="col-md-4" align="right">
										<button class="cancel-btn" id="cancelBtn">Cancel</button>
										<button class="approve-btn" id="saveVendor">Save</button>
									</div>
								</div>

							</div>
							<div class="row innersticky_contentgap" id="stable">
								<div class="col-md-3">
									<div class="hvrbox">
										<img src="../assets/images/noimage.jpg" id="imgLoc"
											alt="Location" class="hvrbox-layer_bottom img-fluid"
											style="height: 203px; width: 241px;">
										<div class="hvrbox-layer_top">
											<div class="hvrbox-text">
												<input type="file" id="fileUpload" onchange="saveFile();" />
												<span><label for="fileUpload"><i
														class="ti-files" style="cursor: pointer;"></i> <!-- <i class="fa fa-pencil-square-o"></i> --></label></span>
												<span><i class="fa fa-trash red"
													onclick="deleteFile();"></i></span>
											</div>
										</div>
									</div>
								</div>
								<div class="col-md-9">
									<div class="row">
										<div class="col-md-12">

											<input type="text" name="code" value="" id="vendorName"
												placeholder="Vendor Name" class="form-control_big"
												maxLength="50" autocomplete="off"
												onkeyup="checkAlphabet('vendorName');">
										</div>
									</div>
									<div class="row">
										<div class="col-md-4">
											<div class="form-group">
												<label>Code</label> <input type="text" name="code" value=""
													autocomplete="off" maxLength="10" id="vendorCode"
													placeholder="Code" class="form-control"
													onkeyup="checkNumeric('vendorCode');">
											</div>
										</div>

										<div class="col-md-4">
											<div class="form-group">
												<label>Category</label>

												<div class="select">
													<select id="Category" onchange="changeOpt()">
														<option th:value="NULL">Select</option>
														<option th:each="c:${categoryTypeList}"
															th:value='${c.key}' th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>

										<div class="col-md-4">
											<div class="form-group">
												<label>Type</label>
												<div class="select">
													<select id="type">
														<option th:value="NULL">Select</option>
													</select>
												</div>
											</div>
										</div>
										<div class="col-md-8">
											<div class="form-group">
												<label>Company Overview</label>
												<textarea id="companyOverView"></textarea>

											</div>
										</div>

										<div class="col-md-4">
											<div class="form-group">

												<input type="checkbox" name="isActive" id="vendorStatus"
													value="1"> <label
													style="position: relative; top: 1px;">Active</label>
											</div>
										</div>


									</div>
								</div>
							</div>

							<!-- 	main div start here -->
							<div id="main">
								<!-- 	sidenave for vendor location start here -->
								<div id="mySidenav" class="sidenav">
									<div class="slidebox">
										<div class="row">
											<div class="col-md-10">
												<div class="edit edittxt">Location</div>
												<input type="text"
													class="form-control transparenttxtbox idfield"
													placeholder="id" id="vendorLocationId">
											</div>
											<div class="col-md-2">
												<div class="arrow">
													<a href="javascript:void(0)" class="closebtn"
														onclick="closeNav()"><i class="ti-arrow-right"></i></a>
												</div>
											</div>
										</div>
										<div class="chartbtnsec">
											<div align="right">
												<button class="cancel-btn" onclick="closeNav()">CANCEL</button>
												<!-- <button class="btn3" onclick="deleteLocNav();">DELETE</button> -->
												<button class="approve-btn" id="saveVendorLocation">SAVE</button>
											</div>
										</div>
										<div class="clearfix"></div>
										<div class="col-md-12">
											<div class="form-group">
												<label>Name</label> <input type="text"
													class="form-control transparenttxtbox"
													id="vendorLocationName">
											</div>
										</div>
										<div class="col-md-12">
											<div class="form-group">
												<label>Type</label>
												<div class="select">
													<select id="vendorLocationType">
														<option th:value="NULL">Select</option>
														<option th:each="c,iter:${locationTypeList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="row " style="padding: 0px 15px;">
											<div class="col-md-6">
												<div class="form-group">
													<label style="position: relative; top: 1px;">Billing</label>
													<input type="checkbox" name="isBillingActive"
														id="billingStatus" value="1">
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label style="position: relative; top: 1px;">Primary</label>
													<input type="checkbox" name="isPrimaryActive"
														id="primaryStatus" value="1">
												</div>
											</div>
										</div>
										<div class="col-md-12">
											<div class="form-group">
												<label>Address</label> <input type="text"
													class="form-control transparenttxtbox"
													id="vendorLocAddress">
											</div>
										</div>

										<div class="col-md-12">
											<div class="form-group">
												<label>Country</label>
												<div class="select">
													<select id="vendorCountry">
														<option th:value="NULL">Select</option>
														<option th:each="c:${countryList}" th:value='${c.key}'
															th:text="${c.name}"></option>


													</select> <span class="focus"></span>
												</div>
											</div>

										</div>
										<div class="col-md-12">
											<div class="form-group">
												<label>State</label>
												<div class="select">
													<select id="vendorState">
														<option th:value="NULL">Select</option>
													</select> <span class="focus"></span>
												</div>
											</div>
										</div>
										<div class="col-md-12">
											<div class="form-group">
												<label>City</label>
												<div class="select">
													<select id="vendorCity">
														<option th:value="NULL">Select</option>
													</select> <span class="focus"></span>
												</div>
											</div>
										</div>



									</div>
								</div>

								<div id="mySideContactnav" class="sidenav">

									<div class="slidebox">
										<div class="row">
											<div class="col-md-10">
												<div class="edit edittxt">Contact</div>
												<input type="text"
													class="form-control transparenttxtbox idfield"
													id="contactId">
											</div>
											<div class="col-md-2">
												<div class="arrow">
													<a href="javascript:void(0)" class="closebtn"
														onclick="closeContactNav()"><i class="ti-arrow-right"></i></a>
												</div>
											</div>
										</div>
										<div class="chartbtnsec">
											<div align="right">
												<button class="cancel-btn" onclick="closeContactNav()">CANCEL</button>
												<!-- <button class="btn3" onclick="deleteLocNav();">DELETE</button> -->
												<button class="approve-btn" id="saveVendorContact">SAVE</button>
											</div>
										</div>

										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Name</label> <input type="text" autocomplete="off"
													placeholder="Name" class="form-control transparenttxtbox"
													id="contactName" maxLength="50"
													onkeyup="checkAlphabet('contactName');">
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group">
												<label style="position: relative; top: 1px;">Primary</label>
												<input type="checkbox" name="isContactPrimaryActive"
													id="primaryStatusContact" value="1">
											</div>
										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Designation</label>
												<div class="select">
													<select id="contactDesignation">

														<option th:value="NULL">Select</option>
														<!-- <option th:value="JTM00001">It Developer</option> -->
														<option th:each="c,iter:${jobTypeList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>

										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Function</label>
												<div class="select">
													<select id="contactFunction">

														<option th:value="NULL">Select</option>

														<option th:each="c,iter:${DepartmentList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>

										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Location</label>
												<div class="select">
													<select id="location">

														<option th:value="NULL">Select</option>

														<option th:each="c:${jobLocationList}" th:value='${c.key}'
															th:text="${c.name}"></option>


													</select> <span class="focus"></span>
												</div>
											</div>

										</div>

										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Mobile No.</label> <input type="text"
													autocomplete="off" name="mobileno" value=""
													placeholder="mobile no"
													class="form-control transparenttxtbox" id="phone"
													maxLength="10" onkeyup="phoneVal();checkNumeric('phone');">
												<span id="error9" class="formValidation1"></span>
											</div>
										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Email</label> <input type="text" autocomplete="off"
													name="email" value="" placeholder="email"
													class="form-control transparenttxtbox" id="email"
													onkeyup="emailVal();"> <span id="error3"
													class="formValidation1"></span>
											</div>
										</div>



									</div>
								</div>

								<div id="mySidenav3" class="sidenav">
									<div class="slidebox">
										<div class="row">
											<div class="col-md-10">
												<div class="edit edittxt">Banks</div>
												<input type="text"
													class="form-control transparenttxtbox idfield" id="bankId">
											</div>
											<div class="col-md-2">
												<div class="arrow">
													<a href="javascript:void(0)" class="closebtn"
														onclick="closeNav3()"><i class="ti-arrow-right"></i></a>
												</div>
											</div>
										</div>
										<div class="chartbtnsec">
											<div align="right">
												<button class="cancel-btn" onclick="closeNav3()">CANCEL</button>

												<button class="approve-btn" id="submitbankdetils">SAVE</button>
											</div>
										</div>

										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Bank Name</label>
												<div class="select">
													<select class="bankclsss" id="banknameid">
														<option value="">Select</option>
														<option th:each="c,iter:${BankNameList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group">
												<label style="position: relative; top: 1px;">Primary</label>
												<input type="checkbox" name="isBankPrimaryActive"
													id="primaryStatusBank" value="1">
											</div>
										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Address</label> <input type="text" name="Address"
													value="" placeholder="Address"
													class="form-control adresscls" id="addressid_b">
											</div>
										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">

												<label>Country</label>
												<div class="select">
													<select class="countryclss" id="countryid_b">
														<option value="">Select</option>
														<option th:each="c,iter:${counntryList}"
															th:value="${c.key}" th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">

												<label>State</label>
												<div class="select">
													<select class="stateclss" id="stateid_b">
														<option value="">Select</option>
														<option th:each="c,iter:${stateList}" th:value="${c.key}"
															th:text="${c.name}"></option>
													</select>
												</div>

											</div>

										</div>
										<div class="col-md-12 mt-15">
											<div class="form-group">

												<label>City</label>
												<div class="select">
													<select class=" cityclsss" id="cityid">
														<option value="">Select</option>
														<option th:each="c,iter:${cityList}" th:value="${c.key}"
															th:text="${c.name}"></option>
													</select>
												</div>

											</div>
										</div>



										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>Acc No</label> <input type="text" name="AccountNO "
													value="" placeholder="AccountNO" autocomplete="off"
													class="form-control  accontnoclss" id="accountNOb"
													maxLength="18" onkeyup="checkNumeric('accountNOb');">
											</div>
										</div>



										<div class="col-md-12 mt-15">
											<div class="form-group">
												<label>IFSC Code</label> <input type="text" name="IFIC "
													autocomplete="off" value="" placeholder="ific"
													class="form-control  IFICcls" id="ificb" maxLength="11"
													onkeyup="ifscVal();"> <span id="error13"
													class="formValidation1"></span>
											</div>
										</div>



									</div>
								</div>
								<!-- side nave for bank detail end -->

								<div id="main">
									<div class="accordion" id="accordionExample">
										<div class="accordion-item">
											<h2 class="accordion-header" id="headingOne">
												<button class="accordion-button" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseOne"
													aria-expanded="true" aria-controls="collapseOne">
													Location</button>
											</h2>
											<div id="collapseOne" class="aaccordion-collapse collapse "
												aria-labelledby="headingOne"
												data-bs-parent="#accordionExample">
												<div class="row">

													<div class="col-md-5 btn-hs1">
														<div class="font-design"></div>
													</div>

													<div class="col-md-7 butttonsec">
														<button class="download-btn mt-4" onclick="locationCSV()">Download</button>
														<!-- <div class="buttongap"></div> -->
														<button class="delete-btn mt-4" data-toggle="modal"
															data-target="#delete" id="deleteLocation"
															onclick="deleteVendorLocation();">DELETE</button>
														<button class="new-btn mt-4" id="newLocation"
															onclick="openNav();">NEW</button>
													</div>
												</div>
												<div id="myGrid" style="width: 100%; height: 100px;"
													class="ag-theme-alpine"></div>


											</div>
										</div>




										<div class="accordion-item">
											<h2 class="accordion-header" id="headingTwo">
												<button class="accordion-button" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseTwo"
													aria-expanded="true" aria-controls="collapseTwo">
													Contacts</button>
											</h2>
											<div id="collapseTwo" class="panel-collapse collapse"
												role="tabpanel" aria-labelledby="headingTwo">
												<div class="row">

													<div class="col-md-5 btn-hs1">
														<div class="font-design">
															<!-- Vendor LIST <span>(10)</span> -->
														</div>
													</div>

													<div class="col-md-7 butttonsec">
														<!-- <button class="upload-btn mt-4">Upload</button> -->
														<button class="download-btn mt-4" onclick="contactCSV()">Download</button>

														<button class="delete-btn mt-4" data-toggle="modal"
															data-target="#delete" id="deleteContact"
															onclick="deleteVendorContacts();">DELETE</button>
														<button class="new-btn mt-4" id="newContact"
															onclick="openContactNav();">NEW</button>
														<button class="approve-btn mt-4" disabled="disabled"
															id="createUser">CREATE USER</button>
														<button class="approve-btn mt-4" id="resetPassword">RESET
															PASSWORD</button>
													</div>


												</div>
												<div id="myContactGrid" style="width: 100%; height: 100px;"
													class="ag-theme-alpine"></div>

											</div>
										</div>





										<div class="accordion-item">
											<h2 class="accordion-header" id="headingNine">
												<button class="accordion-button" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseNine"
													aria-expanded="true" aria-controls="collapseNine">
													Legal Information</button>
											</h2>
											<div id="collapseNine" class="accordion-collapse collapse"
												aria-labelledby="headingNine" role="tabpanel"
												data-bs-parent="#accordionExample">

												<div class="accordion-body">

													<div id="mySidenav5" class="sidenav">
														<div class="slidebox">
															<div class="row">
																<div class="col-md-10">
																	<div class="edit">Other Document</div>
																</div>
																<div class="col-md-2">
																	<div class="arrow">
																		<a href="javascript:void(0)" class="closebtn"
																			onclick="closeNav5()"><i class="ti-arrow-right"></i></a>
																	</div>
																</div>
															</div>
															<div class="chartbtnsec">
																<div align="right">
																	<button class="cancel-btn" onclick="closeNav5()">CANCEL</button>

																	<button class="approve-btn" id="submitDoc">SAVE</button>
																</div>
															</div>
															<div class="clearfix"></div>
															<div class="row">
																<input type="hidden" id="documentId">
																<div class="col-md-12">
																	<div class="form-group">
																		<label>Document Type</label>
																		<div class="select" id="ddtype">
																			<select class="form-control fromtxt"
																				id="documentType">
																				<option value="">Select</option>
																				<option th:each="c,iter:${documentTypeList}"
																					th:value="${c.key}" th:text="${c.name}"></option>
																			</select>
																		</div>
																	</div>
																</div>
																<div class="col-md-12">
																	<div class="form-group">
																		<label>Document Number</label> <input type="text"
																			autocomplete="off" name="doc no" value=""
																			placeholder="document number" class="form-control"
																			id="docno">
																	</div>
																</div>

																<div class="col-md-12">
																	<label style="margin-bottom: 10px;">Document
																		Image</label>

																	<div class="control-group position-r">
																		<label class="custom-file-upload" for="uploadDoc_0"
																			style="margin-top: 18px;"> <i class="ti-plus"></i>
																		</label>
																		<div class="controls">
																			<input type="file" class="document" id="uploadDoc_0"
																				accept=".jpeg, .jpg, .png, .pdf" name="userImage"
																				onchange="saveMultiFileDoc(event)" />
																		</div>
																	</div>
																	<input type="hidden" id="uploadHidden_0"
																		class="uploadHidCls">
																	<div id="uploadedBillDiv_0" align="center"
																		class="uploadedBillCls" style="margin-top: 10px;"></div>
																	<div id="imageName_0" class="imageName"
																		style="margin-top: 10px;"></div>
																	<div id="validationDiv"></div>
																</div>


																<div class="col-md-12">
																	<div class="form-group">
																		<label>Status</label>
																		<div class="select">
																			<select class="form-control" id="docstatus">
																				<option value="1">Active</option>
																				<option value="0">Inactive</option>
																			</select>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
													<div class="row">
														<div class="col-md-8"></div>
														<div class="col-md-4 " align="right">
															<button class="delete-btn" id="docdelete"
																onclick="deleteDocument()">Delete</button>
															<button class="new-btn" id="docadd" onclick="openNav5();">New</button>

														</div>
													</div>

													<div id="myGrid5" style="width: 100%; height: 130px;"
														class="ag-theme-alpine"></div>


												</div>
											</div>
										</div>




										<div class="accordion-item">
											<h2 class="accordion-header" id="headingFour">
												<button class="accordion-button" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseFour"
													aria-expanded="true" aria-controls="collapseFour">
													Bank Details</button>
											</h2>
											<div id="collapseFour" class="panel-collapse collapse"
												role="tabpanel" aria-labelledby="headingFour">
												<div class="row">


													<div class="col-md-5  btn-hs1">
														<div class="font-design">
															<!-- Vendor LIST <span>(10)</span> -->
														</div>
													</div>

													<div class="col-md-7 butttonsec">
														<!-- <button class="upload-btn mt-4">Upload</button> -->
														<button class="download-btn mt-4"
															onclick="bankdetailsCSV()">Download</button>

														<button class="delete-btn mt-4" data-toggle="modal"
															data-target="#delete" id="bankDltBtn"
															onclick="deleteVendorBank()">DELETE</button>
														<button class="new-btn mt-4" id="newBtn1"
															onclick="openNav3();">NEW</button>
													</div>




												</div>

												<div id="myGrid3" style="width: 100%; height: 100px;"
													class="ag-theme-alpine"></div>


											</div>
										</div>




										<div class="accordion-item">
											<h2 class="accordion-header" id="headingFive">
												<button class="accordion-button" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseFive"
													aria-expanded="true" aria-controls="collapseFive">
													Company Information</button>
											</h2>
											<div id="collapseFive" class="panel-collapse collapse"
												role="tabpanel" aria-labelledby="headingFive">
												<div class="row">


													<div class="col-md-5  btn-hs1">
														<div class="font-design">
															<!-- Vendor LIST <span>(10)</span> -->
														</div>
													</div>

													<div class="col-md-7 butttonsec">
														<!-- <button class="delete-btn" data-toggle="modal"
															data-target="#delete">DELETE</button> -->
														<button class="approve-btn mt-4"
															id="saveVendorCompanyInfo">SAVE</button>
													</div>


												</div>

												<div class="row">

													<div class="col-md-3">
														<!-- 													<div class="form-group">
															<label>Date Of Company Established</label>
															<input type="text" id="companyDate" class="form-control"
																th:attr="onkeyup=|formatDate('companyDate','${session.DATEFORMAT_JS}')|">
															<i class="ti-calendar picker_calendar"
																id="companyDateCalendar"></i>

														</div> -->
														<div class="form-group calendar_box">
															<label>Date Of Company Established</label> <input
																type="text" id="companyDate" class="form-control"
																th:attr="onkeyup=|formatDate('companyDate','${session.DATEFORMAT_JS}')|"
																readonly> <i class="ti-calendar picker_calendar"
																id="companyDateCalendar"></i>
														</div>
													</div>

													<div class="col-md-3">
														<div class="form-group">
															<label>Gross Annual Sale</label> <input type="text"
																onkeyup="checkAmt('grossAnnualSale')"
																onclick="hideData()" id="grossAnnualSale" value=""
																class="form-control">
														</div>
													</div>

													<div class="col-md-3">
														<div class="form-group">
															<label>Sales Currency</label> <input type="text"
																id="currency" value="" class="form-control">
														</div>
													</div>
													<div class="col-md-3">
														<div class="form-group">
															<label>Total Employee</label> <input type="text"
																onkeyup="checkNumeric('totalEmployee')" maxLength="5"
																id="totalEmployee" value="" class="form-control">
														</div>
													</div>
													<div class="col-md-3">
														<div class="form-group">
															<label>Website</label> <input type="text"
																autocomplete="off" id="website" placeholder="website"
																value="" class="form-control" onkeyup="websiteVal();"><span
																id="error4" class="formValidation1"></span>
														</div>
													</div>
												</div>

											</div>
										</div>


										<div class="accordion-item">
											<h2 class="accordion-header" id="headingSix">
												<button class="accordion-button" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseSix"
													aria-expanded="true" aria-controls="collapseSix">
													Activity</button>
											</h2>
											<div id="collapseSix" class="panel-collapse collapse"
												role="tabpanel" aria-labelledby="headingSix">
												<div class="row">

													<div class="col-md-5  btn-hs1">
														<div class="font-design">
															<!-- Vendor LIST <span>(10)</span> -->
														</div>
													</div>

													<div class="col-md-7 butttonsec">
														<button class="download-btn mt-4" onclick="activityCSV()">Download</button>
														<!-- <button class="upload-btn mt-4">Upload</button> -->

													</div>



												</div>


												<div id="activity" style="width: 100%; height: 100px;"
													class="ag-theme-alpine"></div>


											</div>
										</div>



									</div>
								</div>


							</div>

							<!-- 	main div end here -->
						</div>
						<!-- delete modal start -->
						<div id="deleteLocation1" class="modal fade show"
							aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalLocationBtn()">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -30px;">

										<button type="button" class="cancel-btn" data-dismiss="modal"
											onclick="cancelModalLocationBtn();">Cancel</button>
										<button type="button" class="delete-btn"
											onclick="deleteLocationOnclick()">Delete</button>
									</div>
								</div>
							</div>
						</div>
						<!-- delete vendor -->
						<div id="deleteVendorModel" class="modal fade show"
							aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalVendorBtn()">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -30px;">

										<button type="button" class="cancel-btn" data-dismiss="modal"
											onclick="cancelModalVendorBtn();">Cancel</button>
										<button type="button" class="delete-btn" data-dismiss="modal"
											onclick="deleteVendorOnclick()">Delete</button>
									</div>
								</div>
							</div>
						</div>
						<!-- 	Delete Contacts -->
						<div id="deleteContacts" class="modal fade show" aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalContactsBtn()">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -30px;">

										<button type="button" class="cancel-btn" data-dismiss="modal"
											onclick="cancelModalContactsBtn();">Cancel</button>
										<button type="button" class="delete-btn"
											onclick="deleteContactsOnclick()">Delete</button>
									</div>
								</div>
							</div>
						</div>
						<!-- 	Delete Bank -->
						<div id="deleteBank" class="modal fade show" aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalBankBtn()">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -30px;">

										<button type="button" class="cancel-btn" data-dismiss="modal"
											onclick="cancelModalBankBtn();">Cancel</button>
										<button type="button" class="delete-btn"
											onclick="deleteBankOnclick()">Delete</button>
									</div>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>