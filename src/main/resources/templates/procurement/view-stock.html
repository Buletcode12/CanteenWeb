<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">
<head>
<style>
 #myModal input[type=checkbox] {
	width: 0px;
	margin-right: 16px;
	position: relative;
	top: -2px;
	float: none;
}
 
.small-box {
	border-radius: 10px;
	position: relative;
	display: block;
	margin-bottom: 20px;
	box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
}

.bg-aqua {
	background-color: #a9dce9 !important;
}

.bg-green {
	background-color: #78e7b4 !important;
}

.bg-yellow {
	background-color: #e7ca74 !important;
}

.bg-red {
	background-color: #ed8477 !important;
}

.bg-blue {
	background-color: #819bce !important;
}

.bg-deepgreen {
	background-color: #7cc0b3 !important;
}

.bg-white {
	background-color: #FFFFFF !important;
}

.bg-new {
	background-color: #c0957c !important;
}

.small-box>.small-box-footer {
	position: relative;
	text-align: center;
	padding: 3px 0;
	color: #fff;
	color: rgba(255, 255, 255, 0.8);
	display: block;
	z-index: 10;
	background: rgba(0, 0, 0, 0.1);
	text-decoration: none;
}

.small-box p {
	font-size: 15px;
	color: #929292;
	font-weight: bold;
}

.small-box>.inner {
	padding: 10px;
}

.small-box>.inner>h3 {
	/* color: #000; */
	color: #929292;
	font-size: 2rem !important;
	font-weight: 50 !important;
}

.mt--15 {
	margin-top: -20px;
}

.mt {
	margin-top: 5px;
}

.dashboardbox {
	background: #FFF;
	border-radius: 5px;
	box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0
		rgba(0, 0, 0, 0.19);
}

.dashboardbox h4 {
	color: #929292;
	padding: 10px 15px;
	font-size: 16px;
}

text tspan {
	color: #929292 !important;
}

.SimpleChart {
	position: relative;
}

.SimpleChart #tip {
	background-color: #f0f0f0;
	border: 1px solid #d0d0d0;
	position: absolute;
	left: -200px;
	top: 30px;
}

.down-triangle {
	width: 0;
	height: 0;
	border-top: 10px solid #d0d0d0;
	border-left: 6px solid transparent;
	border-right: 6px solid transparent;
	position: absolute;
	left: -200px;
}

.SimpleChart #highlighter {
	position: absolute;
	left: -200px;
}

.-simple-chart-holder {
	/* float: left;*/
	position: relative;
	width: 100%;
	background-color: #fff;
	border: 1px solid #cecece;
	/*padding: 6px;*/
}

.SimpleChart .legendsli {
	list-style: none;
}

.SimpleChart .legendsli span {
	float: left;
	vertical-align: middle;
}

.SimpleChart .legendsli span.legendindicator {
	position: relative;
	top: 5px;
	display: none;
}

.SimpleChart .legendsli span.legendindicator .line {
	width: 12px;
	/*height: 3px;*/
	display: none;
}

.SimpleChart .legendsli span.legendindicator .circle {
	width: 12px;
	height: 12px;
	border-radius: 20px;
	position: relative;
	top: 3px;
	right: 0px;
}

/******Starts::Horizontal Alignment of Legends******/
.simple-chart-legends {
	/* background: #E7E7E7;*/
	border-bottom: 3px solid #d6d7dd;
	padding: 5px;
	margin: 2px 0px;
	font-weight: bold;
	font-size: 11px;
	display: none;
}

.simple-chart-legends ul {
	
}

.simple-chart-legends ul li {
	display: inline;
	border-right: 1px solid #d6d7dd;
	float: left;
	padding: 3px;
	margin-bottom: 3px;
}

.simple-chart-legends ul li:last-child {
	border-right: 0px;
}

.simple-chart-legends.vertical {
	margin: 0px 10px;
}

.simple-chart-legends.vertical ul li {
	display: none;
	border: 0px;
	border-bottom: 1px solid #d6d7dd;
}

.simple-chart-legends.vertical ul li:last-child {
	border-bottom: 0px;
}

.simple-chart-legends .legendvalue {
	padding-left: 2px;
	background: #fff;
}

.highcharts-exporting-group {
	display: none;
}

/******Starts::Horizontal Alignment of Legends******/
.simple-chart-Header {
	position: absolute;
	font-size: 16px;
}

tspan {
	color: #929292 !important;
	font-family: 'HelveticaNeue';
	font-weight: 100;
}
</style>

<script type="text/javascript">
	
 
	/*  function closeNav() {
		document.getElementById("mySidenav").style.width = "0";
		document.getElementById("main").style.width = "480px";
	} 
 */
	var count = 0;
	function allCheck() {
		count++;

		if (count == 1) {
			$('.checkCls').prop("checked", true);
		} else {
			count = 0;
			$('.checkCls').prop("checked", false);
		}
	}

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";
		if ($('#searchBar').val() == null || $('#searchBar').val() == "") {
			id.style.display = "none";
		}
	}
 	 $(document).ready(function() {
		$("#profile").hide();
		$("#profilecancelbtn").click(function() {
			deleteFile();
			$("#newId").show();
			$(".btn-hs").show();
			$("#profile").hide();
			//$('.panel-heading').removeClass('active');
			//$('.collapse').removeClass('show');
			$("#productCategoryCBDiv").attr("df","0");
			$("#prCategoryId").val("");
			$("#tempCategoryId").val("");
			$("#prLevelId").val("");
			$("#catDesc").text("");
			$("#vertical").empty();
			var img = '<li data-thumb="../assets/css/extend/sld-noimg.jpg"><img src="../assets/css/extend/sld-noimg.jpg" id="imgLoc" alt="Mountains" class="hvrbox-layer_bottom img-fluid"></li>';
			$("#vertical").append(img);
			
			agGrid.simpleHttpRequest({
				url : 'view-stock-get-sku-listing'
			}).then(function(data) {
				var len = data.length;
				$('#totalReq').find('span').html(len);
				console.log(data)
				gridOptions.api.setRowData(data);
			}); 
			
		});
	}); 
function viewPurchaseData(){
	agGrid.simpleHttpRequest({ 
		url : 'view-stock-trough-ajax?type='+"Purchase"
	}).then(function(data) {
		var len = data.length;
		$('#totalStock').find('span').html(len);
		gridOptions.api.setRowData(data);
	});
}
</script>

<script type="text/javascript">
	$(document).ready(function() { 
		$("#deletess").attr("disabled", true);
		$("#deletes").attr("disabled", true);
		$('#newReqBtn').attr('disabled', true);
		$('#viewPoBtn').attr('disabled', true);
		$('#viewStaockBtn').attr('disabled', true);
		viewPurchaseData();
		$("#lineGraphDiv").hide();
		$("#newBtn").click(function() {
			$("#myTbl").hide();
			$(".btn-hs").show();
			$("#demo").show();
		})
		$("#newBtn1").click(function() {
			$("#myTbl").hide();
			$(".btn-hs").show();
			$("#demo").show();
		})

		$("#cancelBtn").click(function() {
			$("#myTbl").show();
			$(".btn-hs").show();
			$("#demo").hide();
		});
		$("#quarter").click(function() {
			$("#myTbl").hide();
			$(".btn-hs").hide();
			$("#demo").show();
		})

		$("#cancelBtn").click(function() {
			$("#myTbl").show();
			$(".btn-hs").show();
			$("#demo").hide();
		}); 
		
		 
		
	    $("#productSave").click(function(){
	    	$("#myGrid").show();
	    	$("#profile").hide();
				$("#newId").show();
				$(".btn-hs").show();
				$("#profile").hide();
	    	$('.loader').show();
	    	
	    	$("body").addClass("overlay");
	    	var data = [];
	        $(".hvrbox-layer_bottom").each(function(i) {
	        	var xyz = "";
	        	 toDataUrl($(this).attr("src"), function(myBase64) {
	        		// console.log(myBase64)
	        		 xyz = myBase64;
	        		 data.push(myBase64);
	        		 console.log(xyz)
	        	});  
	        	 //data.push(xyz);
	        	 
	        })
	        
	        //setTimeout(function(){ alert("Hello"); }, 3000);
	        
	        obj = {};
	       // setTimeout(function() {
	        	
	            obj['productId'] = $("#productId").val();
	            obj['productName'] = $("#productName").val();
	            obj['brand'] = $("#brand").val();
	            obj['mode'] = $("#mode").val();
	            obj['hsnCode'] = $("#hsnCode").val();
	            obj['sicCode'] = $("#sicCode").val();
	            obj['productStatus'] = $("input[name='isActive']:checked").val();
	            obj['productCategory'] = $("#prCategoryId").val();
	            obj['productCategoryText'] = $("#catDesc").text();
	            obj['imgList'] = data;
	           /*  if(data.length > 0) {
	            	obj['imgList'] = data;
	            } */
	            
	            $(".formValidation").remove();
	    		allPValid = true;
	    		if( $("#productName").val() == null || $("#productName").val() == ""){
	    			allPValid = false;
	    			validationModal("Product Name Required","productName");
	    		} 
	    		if( $("#brand").val() == null || $("#brand").val() == ""){
	    			allPValid = false;
	    			validationModal("Brand Required","brand");
	    		} 
	    		if( $("#mode").val() == null || $("#mode").val() == ""){
	    			allPValid = false;
	    			validationModal("Mode Required","mode");
	    		} 
	    		if( $("#hsnCode").val() == null || $("#hsnCode").val() == ""){
	    			allPValid = false;
	    			validationModal("HSN Code Required","hsnCode");
	    		} 
	            
	            if(allPValid) {
	            	submitProduct(obj);
	            }
	        //}, 3000);
	        
	        
	    })
	    $("#selectCategory").click(function(){ 
    	var id = $("#tempCategoryId").val();
		var lvl = $("#prLevelId").val();
		
		if(id && lvl) {
			$("#prCategoryId").val(id);
			if(lvl == 'L1') {
				var textDesc = $("#lbl_"+id).text();
				$("#catDesc").text(textDesc);
			} else {
				var res = lvl.substring(1, 1000000);
				
				var lastText = $("#lbl_"+id).text();
				var textDesc = "";
				for(i = res; i > 1; i--) {
					var pUL = $("#"+id).attr("data-node-pid");
					//pUL = pUL.substring(3, 10000000000000);
					var newText = $("#lbl_"+pUL).text();
					console.log(newText+" "+i)
					textDesc =  newText+" > "+textDesc ; 
					id = pUL;
				}
				textDesc = textDesc + lastText;
				$("#catDesc").html(textDesc);
			}
		}
		$("#myModal").modal("hide");
		closeModal();
    }) 
	    
	    
	    $("#categoryBtn").click(function(){
		    	$("#myModal").modal('show');
		    	getCategoryList();
		    })
	    
	   $("#saveSKUData").click(function(){
    	
    	obj = {};
    	
    	obj.isEdit = $("#isEdit").val();
    	obj.productId = $("#productId").val();
    	obj.sku = $("#skuId").val();
    	obj.model = $("#model").val();
    	obj.manufacture = $("#manufacture").val();
    	obj.variationType = $("#variationType").val();
    	obj.variationValue = $("#variationValue").val();
    	obj.unit = $("#unit").val();
    	var price = $("#salePrice").val();
    	price = price.replaceAll(",","");
    	obj.salePrice = price;
    	obj.saleTax = $("#saleTax").val();
    	obj.saleCess = $("#saleCess").val();
    	
    	$(".formValidation").remove();
		allValid = true;
		if( obj.sku == null || obj.sku == ""){
			allValid = false;
			validationModal("SKU Required","skuId");
		} 
		if( obj.model == null || obj.model == ""){
			allValid = false;
			validationModal("Model Required","model");
		} 
		if( obj.manufacture == null || obj.manufacture == ""){
			allValid = false;
			validationModal("Manufacture Item Required","manufacture");
		} 
		if( obj.variationType == null || obj.variationType == ""){
			allValid = false;
			validationModal("Variation Type Required","variationType");
		} 
		if( obj.variationValue == null || obj.variationValue == ""){
			allValid = false;
			validationModal("Variation Value Required","variationValue");
		} 
		if( obj.unit == null || obj.unit == ""){
			allValid = false;
			validationModal("UOM Required","unit");
		} 
		if( obj.salePrice == null || obj.salePrice == ""){
			allValid = false;
			validationModal("Sale Price Required","salePrice");
		} 
		/* if( obj.saleTax == null || obj.saleTax == ""){
			allValid = false;
			validationModal("Sale Tax Required","saleTax");
		}  */
    	
		if(allValid) {
			submitProductDetails(obj);
		}
    	
    }) 
	    
	    
        $("#savePurchaseDtls").click(function(){
    	
    	obj = {};
    	
    	obj.isEdit = $("#isEditPurchase").val();
    	obj.productId = $("#productId").val();
    	obj.sku = $("#skuPurchase").val();
    	obj.vendorId = $("#vendorId").val();
    	var price = $("#purchasePrice").val();
    	price = price.replaceAll(",","");
    	obj.salePrice = price;
    	obj.saleTax = $("#purchaseTax").val();
    	obj.saleCess = $("#purchaseCess").val();
    	obj.moq = $("#moq").val();
    	obj.editSKUId = $("#editSKUId").val();
    	obj.editVendorId = $("#editVendorId").val();
    	
    	
    	$(".formValidation").remove();
		allPurValid = true;
		if( $("#skuPurchase").val() == null || $("#skuPurchase").val() == ""){
			allPurValid = false;
			validationModal("SKU Required","skuPurchase");
		} 
		if( obj.vendorId == null || obj.vendorId == ""){
			allPurValid = false;
			validationModal("Vendor Required","vendorId");
		} 
		if( obj.salePrice == null || obj.salePrice == ""){
			allValid = false;
			validationModal("Purchase Price Required","purchasePrice");
		} 
		/* if( obj.saleTax == null || obj.saleTax == ""){
			allPurValid = false;
			validationModal("Purchase Tax Required","purchaseTax");
		}  */
		if( obj.moq == null || obj.moq == ""){
			allPurValid = false;
			validationModal("MOQ Required","moq");
		} 
    	
		if(allPurValid) {
			submitPurchaseDetails(obj);
		}
    	
    })
    
    
   
    
		
	});

	$("input[class='myCheckbox']").click(function() {
		if ($("#formID input:checkbox:checked").length > 0) {
			$(".checkSubmit").addClass('active');
		} else {
			$(".checkSubmit").removeClass('active');
		}
	});

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";
		if ($('#quickFilter').val() == null || $('#quickFilter').val() == "") {
			id.style.display = "none";
		}
	}
</script>

<script>
function openNav() {
 $(".formValidation").remove();
	closeVendor();
	var productId = $("#productId").val();
	$("#skuPrdId").text(productId);
	$("#isEdit").val(""); 
	$("#skuId").val("");
	$("#model").val("");
	$("#manufacture").val("");
	$("#variationType").val("");
	$("#variationValue").val("");
	$("#unit").val("");
	$("#salePrice").val("");
	$("#saleTax").val("");
	$("#saleCess").val("");
	

	document.getElementById("mySidenav").style.cssText = "width: 30%; position: absolute; right:-10px; overflow: hidden; height:auto;bottom:160px;";

	document.getElementById("main").style.width = "70%";
}
function closeModal(){
	$("#myModal").modal("hide");
}

function closeNav() {
	$("#isEdit").val("");
	$("#skuId").val("");
	$("#model").val("");
	$("#manufacture").val("");
	$("#variationType").val("");
	$("#variationValue").val("");
	$("#unit").val("");
	$("#salePrice").val("");
	$("#saleTax").val("");
	$("#saleCess").val("");
	document.getElementById("mySidenav").style.width = "0";
	document.getElementById("main").style.width = "100%";
}
function openVendor() {
	closeNav();
	$(".formValidation").remove();
	var productId = $("#productId").val();
	$("#skuPurchasePrdId").text(productId);
	
	$("#variantTypeSpan").text("");
	$("#variantValueSpan").text("");
	$("#skuPurchase").val("");
	$("#vendorId").val("");
	$("#purchasePrice").val("");
	$("#purchaseTax").val("");
	$("#purchaseCess").val("");
	$("#moq").val("");
	$("#isEditPurchase").val("");
	$("#editSKUId").val("");
	$("#editVendorId").val("");
	
	
	document.getElementById("myVendorSidenav").style.cssText = "width: 30%; position: absolute; right:-10px; overflow: hidden; height:auto;bottom:140px;";

	document.getElementById("main").style.width = "70%";
}

function closeVendor() {
	
	$("#variantTypeSpan").text("");
	$("#variantValueSpan").text("");
	$("#skuPurchase").val("");
	$("#vendorId").val("");
	$("#purchasePrice").val("");
	$("#purchaseTax").val("");
	$("#purchaseCess").val("");
	$("#moq").val("");
	$("#isEditPurchase").val("");
	$("#editSKUId").val("");
	$("#editVendorId").val("");
	
	document.getElementById("myVendorSidenav").style.width = "0";
	document.getElementById("main").style.width = "100%";
}





	//AG GRID

	var columnDefs = [ {
		headerCheckboxSelection : true,
		headerCheckboxSelectionFilteredOnly : true,
		checkboxSelection : true,
		sortable : false,
		filter : false,
		resizable : true,
		width : 20
	}, {
		headerName : "SKU",
		field : "sku",
		width: 80,
		cellRenderer : function(params) {
			return '<a onclick=editProduct("' + params.data.itemId
					+ '") href="javascript:void(0)">' + params.data.sku
					+ '</a>';
		}

	}, {
		headerName : "Item Id",
		field : "itemId",
		hide : "true"
	}, {
		headerName : "BrandId",
		field : "brand",
		hide:"true"
	},{
		headerName : "Brand",
		field : "brandName",
		width: 100,
	},{
		headerName : "Item Name",
		field : "itemName",
		width: 200,

	}, {
		headerName : "Model",
		field : "model",
		width: 100,

	}, {
		headerName : "Mode",
		field : "mode",
		hide:"true"

	}, {
		headerName : "UOM",
		field : "uom",
		width: 100,

	}, {
		headerName : "Min Stock",
		field : "minStock",
		width: 150,
		type : 'rightAligned',
		valueFormatter : currencyFormatter

	}, {
		headerName : "Stock In Hand",
		field : "stockInHand",
		type : 'rightAligned',
		width: 150,
		valueFormatter : currencyFormatter

	}, {
		headerName : "Stock In Transit",
		field : "stockInTransit",
		type : 'rightAligned',
		width: 150,
		valueFormatter : currencyFormatter

	}, {
		headerName : "Total Stock",
		field : "totalStock",
		type : 'rightAligned',
		width: 150,
		valueFormatter : currencyFormatter

	}, {
		headerName : "Last Po Qty",
		field : "lastPoQty",
		type : 'rightAligned',
		width: 150,
		valueFormatter : currencyFormatter

	}, {
		headerName : "Last Po Date",
		field : "lastPoDate",
		width: 150,
		cellStyle : {
			textAlign : 'center'
		}


	}, {
		headerName : "Last Receive Qty",
		field : "lastReceiveQty",
		type : 'rightAligned',
		width: 200,
		valueFormatter : currencyFormatter

	}, {
		headerName : "Last Receive Date",
		field : "lastReceiceDate",
		width: 200,
		cellStyle : {
			textAlign : 'center'
		}


	} ];
	
	// let the grid know which columns and what data to use
	var gridOptions = {
		columnDefs : columnDefs,
		rowSelection : 'multiple',
		groupSelectsChildren : true,
		suppressRowClickSelection : true,
		suppressAggFuncInHeader : true,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 153
		},
		onSelectionChanged : onSelectionChanged,

	};
	
	
	
	
	var columnPurchaseDefs = [{
	    headerCheckboxSelection: true,
	    headerCheckboxSelectionFilteredOnly: true,
	    checkboxSelection: true,
	    width: 10,
	    sortable: false,
	    filter: false,
	    resizable: true
	},
	{
	    headerName: "SKU",
	    field: "sku",
	    cellRenderer: function(params) {
	        return '<a onclick=openPurchaseDetails("' + params.data.sku + '","'+params.data.productId+'","'+params.data.vendorId+'") href="javascript:void(0)">' + params.data.sku + '</a>';
	    }
	},
	{
	    headerName: "Vendor Id",
	    field: "vendorId"
	},
	{
	    headerName: "Vendor Name",
	    field: "createdBy" //Here CreatedBy Variable is used for Vendor Name
	},
	{
	    headerName: "Variation Type",
	    field: "variationType"
	},
	{
	    headerName: "Variation Value",
	    field: "variationValue"
	},
	{
	    headerName: "UOM",
	    field: "unit"
	},
	{
	    headerName: "Unit Purchase Price",
	    field: "sPrice",
	    cellStyle: {textAlign: 'right'}
	},
	{
	    headerName: "MOQ",
	    field: "sMoq",
	    cellStyle: {textAlign: 'right'}
	},
	/* {
	    headerName: "Sale Tax",
	    field: "saleTax",
	    cellStyle: {textAlign: 'right'}
	},
	{
	    headerName: "Sale Cess",
	    field: "saleCess",
	    cellStyle: {textAlign: 'right'}
	}, */
	{
	    headerName: "Create Date",
	    field: "createdDate",
	    cellStyle: {textAlign: 'center'}
	}
	];

	var columnSKUDefs = [{
	    headerCheckboxSelection: true,
	    headerCheckboxSelectionFilteredOnly: true,
	    checkboxSelection: true,
	    width: 10,
	    sortable: false,
	    filter: false,
	    resizable: true
	},
	{
	    headerName: "SKU",
	    field: "sku",
	    cellRenderer: function(params) {
	        return '<a onclick=openSKUDetails("' + params.data.sku + '","'+params.data.productId+'") href="javascript:void(0)">' + params.data.sku + '</a>';
	    }
	},
	{
	    headerName: "Model",
	    field: "model"
	},
	{
	    headerName: "Manufacture Item",
	    field: "manufacture"
	},
	{
	    headerName: "Variation Type",
	    field: "variationType"
	},
	{
	    headerName: "Variation Value",
	    field: "variationValue"
	},
	{
	    headerName: "UOM",
	    field: "unit"
	},
	{
	    headerName: "Unit Sale Price",
	    field: "sPrice",
	    cellStyle: {textAlign: 'right'}
	},
	/* {
	    headerName: "Sale Tax",
	    field: "saleTax",
	    cellStyle: {textAlign: 'right'}
	},
	{
	    headerName: "Sale Cess",
	    field: "saleCess",
	    cellStyle: {textAlign: 'right'}
	}, */
	{
	    headerName: "Create Date",
	    field: "createdDate",
	    cellStyle: {textAlign: 'center'}
	}
	];

	

	var skuOptions = {
	columnDefs: columnSKUDefs,
	rowSelection: 'multiple',
	defaultColDef: {
		sortable: true,
	    filter: true,
	    resizable: true,
	    width: 149,
	    height: 10
	},
	 rowSelection: 'multiple',
	suppressRowClickSelection : true,
	onSelectionChanged: onSelectionChangedsku 
	};

	var purchaseOptions = {
	columnDefs: columnPurchaseDefs,
	rowSelection: 'multiple',
	defaultColDef: {
		sortable: true,
	    filter: true,
	    resizable: true,
	    width: 149,
	    height: 10
	},
	 rowSelection: 'multiple',
	suppressRowClickSelection : true,
	onSelectionChanged: onSelectionChangedvender 
	};

	
	function saveFile() {
		
		var uFile = $('#fileUpload')[0].files[0];
		var fileName = $('#fileUpload').val();

		var lastIndex = fileName.lastIndexOf("\\");
		if (lastIndex >= 0) {
			fileName = fileName.substring(lastIndex + 1);
		}
		var iURL = URL.createObjectURL(uFile);

		$('#imgemp').attr('src', '');
		$('#imgemp').attr('src', iURL);

		var fileData = new FormData();
		fileData.append('file', uFile);
		fileData.append('path', 'none');

		$.ajax({
			type : "POST",
			url : "view-stock-upload-file",
			enctype : "multipart/form-data",
			contentType : false,
			data : fileData,
			processData : false,
			cache : false,
			success : function(response) {

			},
			error : function(e) {

			}
		});
		
	}
	
	function deleteFile() {

		$('#imgemp').attr('src', '');
		$('#imgemp').attr('src', '../assets/images/noimage.jpg');

		var fileData = new FormData();

		fileData.append('file', 'none');
		fileData.append('path', 'none');

		$.ajax({
			type : "POST",
			url : "view-stock-delete-file",
			enctype : "multipart/form-data",
			contentType : false,
			/* data        : fileData, */
			processData : false,
			cache : false,
			success : function(response) {
			},
			error : function(e) {

			}
		});
	}
	// setup the grid after the page has finished loading
	document.addEventListener('DOMContentLoaded', function() {
		var gridDiv = document.querySelector('#myGrid');
		new agGrid.Grid(gridDiv, gridOptions);
	});
	document.addEventListener('DOMContentLoaded', function() {
	    var gridDiv = document.querySelector('#mySKUGrid');
	    new agGrid.Grid(gridDiv, skuOptions);
	});

	document.addEventListener('DOMContentLoaded', function() {
	    var gridDiv = document.querySelector('#myPurchaseGrid');
	    new agGrid.Grid(gridDiv, purchaseOptions);
	});

	function onSelectionChanged() {
		var selectedRows = gridOptions.api.getSelectedRows();
		var rowCount = 0;
		selectedRows.forEach(function(selectedRow, index) {
			rowCount = rowCount + 1;
		});

		if (rowCount > 0) {
			$('#viewStaockBtn').attr('disabled', false);
			$('#newReqBtn').attr('disabled', false);
			$('#viewPoBtn').attr('disabled', false);
		} else {
			$('#viewStaockBtn').attr('disabled', true);
			$('#newReqBtn').attr('disabled', true);
			$('#viewPoBtn').attr('disabled', true);
		}

	}

	function resetState() {
		gridOptions.columnApi.resetColumnState();

	}

	function onQuickFilterChanged() {
		gridOptions.api
				.setQuickFilter(document.getElementById('quickFilter').value);
	}
	function profileSelect() {
		$(".formValidation").remove();
		$('#newId').hide();
		$("#profile").show();
		$("#prCategoryId").val("");
		$("#tempCategoryId").val("");
		$("#prLevelId").val("");
		$("#productId").val("");
		$("#catDesc").text("");
		$("#vertical").empty();
		var img = '<li data-thumb="../assets/css/extend/sld-noimg.jpg"><img src="../assets/css/extend/sld-noimg.jpg" id="imgLoc" alt="Mountains" class="hvrbox-layer_bottom img-fluid"></li>';
		$("#vertical").append(img);
		$("#productName").val("");
	    $("#brand").val("");
	    $("#mode").val("");
	    $("#hsnCode").val("");
	    $("#sicCode").val("");
	    $("#prodStatus").prop("checked",false);
	    closeNav();
	    closeVendor();
	    
	    agGrid.simpleHttpRequest({
			url : 'view-stock-get-sku-by-product?id=0'
		}).then(function(data) {
			console.log(data)
			skuOptions.api.setRowData(data);
			$("#skuPurchase").empty();
			$("#skuPurchase").append("<option value>Select</option>");
		});
	    agGrid.simpleHttpRequest({
	    	url : 'view-stock-get-purchase-by-product?id=0'
		}).then(function(data) {
			console.log(data)
			purchaseOptions.api.setRowData(data);
		});
	}
	
	function onSelectionChangedsku(){
		 var selectedNodes = skuOptions.api.getSelectedNodes();
		 var selectedData = selectedNodes.map(node => node.data);
		 skuId= selectedData.map(node => node.skuId);
		
		var selectedRows =skuOptions.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
		        $('#deletess').attr("disabled", false);
		        $('#newBtn').attr("disabled", true);
				
		}else{
			    $('#deletess').attr("disabled", true);
			    $('#newBtn').attr("disabled", false);
			
		}
	}
	
	function onSelectionChangedvender(){
		var selectedRows = purchaseOptions.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
		        $('#deletes').attr("disabled", false);
		        $('#newBtn1').attr("disabled", true);
		       
			
		}else{
			    $('#deletes').attr("disabled", true);
			    $('#newBtn1').attr("disabled", false);
		        
			   
				
		}
	} 
	
	
	
	
	
	function editProduct(id) {
		$("#productId").val("");
		$("#productName").val("");
		$("#brand").val("");
		$("#mode").val("");
		$("#prodStatus").prop("checked",false);
		$("#prCategoryId").val("");
		$("#tempCategoryId").val("");
		$("#prLevelId").val("");
		$("#catDesc").text("");
		profileSelect();
		
		if(id) {
			$.ajax({
				type : "POST",
				url : "view-stock-get-product-details",
				dataType : 'json',
				contentType : 'application/json',
				data : id,
				success : function(response) {
					console.log(response)
					if (response.message == "success") {
					console.log(response.body)
						$("#productId").val(response.body.productId);
						$("#productName").val(response.body.productName);
						$("#brand").val(response.body.brand);
						$("#mode").val(response.body.mode);
						if(response.body.productStatus == "1") {
							$("#prodStatus").prop("checked",true);
						} else {
							$("#prodStatus").prop("checked",false);
						}
						
						$("#prCategoryId").val(response.body.productCategory);
						$("#catDesc").text(response.body.productCategoryText);
						$("#hsnCode").val(response.body.hsnCode);
						$("#sicCode").val(response.body.sicCode);
						$('#imgemp').attr('src', '');
						if(response.body.pImgName!=null && response.body.pImgName!="") {
							$('#imgemp').attr('src', response.body.pImgName);
						} else {
							$('#imgemp').attr('src', '../assets/images/noimage.jpg');
						}
					
						agGrid.simpleHttpRequest({
							url : 'view-stock-get-sku-by-product?id='+response.body.productId
						}).then(function(data) {
							console.log(data)
							skuOptions.api.setRowData(data);
							
							$("#skuPurchase").empty();
							$("#skuPurchase").append("<option value>Select</option>");
							for(var i = 0; i < data.length; i++) {
								
								$("#skuPurchase").append("<option value='"+data[i].sku+"'>"+data[i].sku+"</option>");
							}
						});
						
						agGrid.simpleHttpRequest({
							url : 'view-stock-get-purchase-by-product?id='+response.body.productId 
						}).then(function(data) {
							console.log(data)
							purchaseOptions.api.setRowData(data);
						}); 
						
					}
				}, error : function(data) {
					console.log(data)
				}
			});
		}
	}

	function submitProduct(dataset) {
	    console.log(dataset)
	    $.ajax({
	    	 type: "POST",
	         url: "view-stock-save",
	         dataType: 'json',
	         contentType: 'application/json',
	         data: JSON.stringify(dataset),
	        success: function(response) {
	            if (response.message == "Success") {
	            	
	            	//returnPage();
	    			 viewPurchaseData();
	            	$('.loader').hide();
	            	$("body").removeClass("overlay");
	            	$("#messageParagraph").text("Data Saved Successfully");
	            	$("#msgOkModal").removeClass("btn3");
	            	$("#msgOkModal").addClass("btn1");
	            	$("#msgModal").modal('show');
	            	$("#productId").val(response.body.productId);

	            } else {
	            	$('.loader').hide();
	            	$("body").removeClass("overlay");
	                swal({
	                    title: response.code,
	                    text: response.message,
	                    type: "warning"
	                })
	            }
	        },
	        error: function(response) {
	        	$('.loader').hide();
	        	$("body").removeClass("overlay");
	            console.log(response);
	        }
	    }) 
	}
	
	
	
	function submitProductDetails(dataset) {
	    console.log(dataset)
	    $.ajax({
	    	 type: "POST",
	         url: "view-stock-save-sku-dtls",
	         dataType: 'json',
	         contentType: 'application/json',
	         data: JSON.stringify(dataset),
	        success: function(response) {
	            if (response.message == "Success") {
	            closeNav();
	            	var productId = $("#productId").val();
	            	agGrid.simpleHttpRequest({
						url : 'view-stock-get-sku-by-product?id='+productId
						
					}).then(function(data) {
						console.log(data)
						skuOptions.api.setRowData(data);
						
						  $("#skuPurchase").empty();
						$("#skuPurchase").append("<option value>Select</option>");
						for(var i = 0; i < data.length; i++) {
							$("#skuPurchase").append("<option value='"+data[i].sku+"'>"+data[i].sku+"</option>");
						}  
					});
	            	$('.loader').hide();
	            	$("body").removeClass("overlay");
	            	$("#messageParagraph").text("Data Saved Successfully");
	            	$("#msgOkModal").removeClass("btn3");
	            	$("#msgOkModal").addClass("btn1");
	            	$("#msgModal").modal('show');
	            	$("#productId").val(response.body.productId);
	            	//location.reload();
	            	
	            	agGrid.simpleHttpRequest({
						url : 'view-stock-get-purchase-by-product?id='+productId 
					}).then(function(data) {
						console.log(data)
						purchaseOptions.api.setRowData(data);
					});
	            } else {
	                swal({
	                    title: response.code,
	                    text: response.message,
	                    type: "warning"
	                })
	            }
	        },
	        error: function(response) {
	            console.log(response);
	        }
	    })
	}
	
	function submitPurchaseDetails(dataset) {
	    console.log(dataset)
	    $.ajax({
	    	 type: "POST",
	         url: "view-stock-save-purchase-dtls",
	         dataType: 'json',
	         contentType: 'application/json',
	         data: JSON.stringify(dataset),
	        success: function(response) {
	            if (response.message == "Success") {
	            	closeVendor();
	            	var productId = $("#productId").val();
	            	agGrid.simpleHttpRequest({
						url : 'view-stock-get-purchase-by-product?id='+productId 
					}).then(function(data) {
						console.log(data)
						purchaseOptions.api.setRowData(data);
					});
	            	$('.loader').hide();
	            	$("body").removeClass("overlay");
	            	$("#messageParagraph").text("Data Saved Successfully");
	            	$("#msgOkModal").removeClass("btn3");
	            	$("#msgOkModal").addClass("btn1");
	            	$("#msgModal").modal('show');
	            	$("#productId").val(response.body.productId);
	            	
	            } else {
	                swal({
	                    title: response.code,
	                    text: response.message,
	                    type: "warning"
	                })
	            }
	        },
	        error: function(response) {
	            console.log(response);
	        }
	    })
	}
	
	
	
	function deletesku(){
	/* 	 console.log()
		 var selectedRows = skuOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			
	console.log(selectedRow)
		if (index > 0) {
		selectedRowsString += ',';
		}
		selectedRowsString += '"' + selectedRow.sku + '"';
		});
		alert(selectedRowsString) */
		
		 var selectedNodes = skuOptions.api.getSelectedNodes();
		 var selectedData = selectedNodes.map(node => node.data);
		 sku= selectedData.map(node => node.sku);
		 alert(sku)
			var id = $('#productId').val();
		$.ajax({
				type : "GET",
				url : "view-stock-delete?id="+ sku,
				success : function(response) {
				if (response.message == "Success") {
					closeNav();
					agGrid.simpleHttpRequest({
						url : 'view-stock-get-sku-by-product?id=' + id
					}).then(function(data) {
						skuOptions.api.setRowData(data);
					});
					$("#messageParagraph").text(
					"Data deleted successfully"); 
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
				}
				},
				error : function(data) {
				console.log(data);
				}
			})
		
	}
	
	function deletepurchase(){
		/* 	 console.log()
			 var selectedRows = skuOptions.api.getSelectedRows();
			var selectedRowsString = '';
			selectedRows.forEach(function(selectedRow, index) {
				
		console.log(selectedRow)
			if (index > 0) {
			selectedRowsString += ',';
			}
			selectedRowsString += '"' + selectedRow.sku + '"';
			});
			alert(selectedRowsString) */
			
			 var selectedNodes = purchaseOptions.api.getSelectedNodes();
			 var selectedData = selectedNodes.map(node => node.data);
			 sku= selectedData.map(node => node.sku);
			 alert(sku)
			 
			
				var id = $('#productId').val();
			$.ajax({
					type : "GET",
					url : "view-stock-purchase-delete?id="+ sku,
					success : function(response) {
					if (response.message == "Success") {
						closeVendor();
						agGrid.simpleHttpRequest({
							url : 'view-stock-get-purchase-by-product?id=' + id
						}).then(function(data) {
							purchaseOptions.api.setRowData(data);
						});
						$("#messageParagraph").text(
						"Data deleted successfully"); 
						$("#msgOkModal").removeClass("btn3");
						$("#msgOkModal").addClass("btn1");
						$("#msgModal").modal('show');
						
					}
					},
					error : function(data) {
					console.log(data);
					}
				})
			
		}

	
	function toDataUrl(url, callback) {
	    var xhr = new XMLHttpRequest();
	    xhr.onload = function() {
	        var reader = new FileReader();
	        reader.onloadend = function() {
	            callback(reader.result);
	        }
	        reader.readAsDataURL(xhr.response);
	    };
	    xhr.open('GET', url);
	    xhr.responseType = 'blob';
	    xhr.send();
	}
	
	function openSKUDetails(skuid, id) {
		$(".formValidation").remove();
		document.getElementById('skuId').readOnly = true;
		$("#isEdit").val("");
		$("#skuId").val("");
		$("#model").val("");
		$("#manufacture").val("");
		$("#variationType").val("");
		$("#variationValue").val("");
		$("#unit").val("");
		$("#salePrice").val("");
		$("#saleTax").val("");
		$("#saleCess").val("");
		openNav();
		if(id) {
			
			obj = {};
			
			obj.key = id;
			obj.name = skuid;
			
			$.ajax({
				type : "POST",
				url : "view-stock-get-sku-details",
				dataType : 'json',
				contentType : 'application/json',
				data : JSON.stringify(obj),
				success : function(response) {
					if (response.message == "success") {
						
						$("#isEdit").val(response.body.isEdit);
						$("#skuId").val(response.body.sku);
						$("#model").val(response.body.model);
						$("#manufacture").val(response.body.manufacture);
						$("#variationType").val(response.body.variationType);
						$("#variationValue").val(response.body.variationValue);
						$("#unit").val(response.body.unit);
						$("#salePrice").val(response.body.salePrice);
						$("#saleTax").val(response.body.saleTax);
						$("#saleCess").val(response.body.saleCess);
					}
				}, error : function(data) {
					console.log(data)
				}
			});
		}
	}
	
	function openPurchaseDetails(skuid, id, vendorId) {
		$(".formValidation").remove();
		$("#variantTypeSpan").text("");
		$("#variantValueSpan").text("");
		$("#skuPurchase").val("");
		$("#vendorId").val("");
		$("#purchasePrice").val("");
		$("#purchaseTax").val("");
		$("#purchaseCess").val("");
		$("#moq").val("");
		$("#isEditPurchase").val("");
		$("#editSKUId").val("");
		$("#editVendorId").val("");
		openVendor();
		if(id) {
			
			obj = {};
			
			obj.productId = id;
			obj.sku = skuid;
			obj.vendorId = vendorId;
			
			$.ajax({
				type : "POST",
				url : "view-stock-get-purchase-details-edit",
				dataType : 'json',
				contentType : 'application/json',
				data : JSON.stringify(obj),
				success : function(response) {
					if (response.message == "success") {
						
						$("#variantTypeSpan").text(response.body.variationType);
						$("#variantValueSpan").text(response.body.variationValue);
						$("#skuPurchase").val(response.body.sku);
						$("#vendorId").val(response.body.vendorId);
						$("#purchasePrice").val(response.body.salePrice);
						$("#purchaseTax").val(response.body.saleTax);
						$("#purchaseCess").val(response.body.saleCess);
						$("#moq").val(response.body.moq);
						$("#isEditPurchase").val(response.body.isEdit);
						$("#editSKUId").val(response.body.sku);
						$("#editVendorId").val(response.body.vendorId);
					}
				}, error : function(data) {
					console.log(data)
				}
			});
		}
	}
	
	
	function getCategoryList() {
		$('.loader').show();
		$("body").addClass("overlay");
		$("#productDiv").modal("show");
		$.ajax({
	        type: "POST",
	        url: "view-stock-get-total-list",
	        dataType: "json",
	        contentType: "application/json",
	        //data: "a",
	        success: function(response) {
	        	if (response.message == "Success") {
	            	for(var i = 0; i < response.body.length; i++) {
	            		var row = "";
	            		$("#costCeneterCBDiv").empty();
	            		if(response.body[i].categoryId == response.body[i].parentId) {
	            			if(response.body[i].nodeCount > 0) {
	            				row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'+
	    						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'+response.body[i].categoryName+'</td></tr>';
	            			} else {
	            				row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'+
	    						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk" type="checkbox" id="ccCheck_'+ response.body[i].categoryId +'" value="'+ response.body[i].categoryId +
	    						'" name="'+ response.body[i].categoryName +'" onchange=selectCheckBox("'+response.body[i].categoryId+'","'+response.body[i].catLevel+'")>'+response.body[i].categoryName+'</td></tr>';
	            			}
	            			
	            		} else {
	            			if(response.body[i].nodeCount > 0) {
	            				row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'+
	    						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'+response.body[i].categoryName+'</td></tr>';
	            			} else {
	            				
	            					row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'+
	        						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk" type="checkbox" id="ccCheck_'+ response.body[i].categoryId +'" value="'+ response.body[i].categoryId +'" name="'+
	        						response.body[i].categoryName +'" onchange=selectCheckBox("'+response.body[i].categoryId+'","'+response.body[i].catLevel+'")>'+response.body[i].categoryName+'</td></tr>';
	            			}
	            		}
						$("#costCeneterCBDiv").append(row);
						
	            	}
	        		
	        		var pcat = $("#prCategoryId").val();
	        		$(".benefitChk").prop("checked", false);
	        		$("#ccCheck_"+pcat).prop("checked", true);
	            	
	            	$('.loader').hide();
	            	$("body").removeClass("overlay");
	            	
	            	$('#basic').simpleTreeTable({
	            	    expander: $('#expander'),
	            	    collapser: $('#collapser'),
	            	    store: 'session',
	            		storeKey: 'simple-tree-table-basic'
	            	});
	            }
	        }, error: function(data) {
	        	console.log(data)
	        	$('.loader').hide();
	        	$("body").removeClass("overlay");
	        	$("#productDiv").modal("show");
	        }
		});
	}
	
</script>

<script type="text/javascript">
	function stockReport() {

		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += selectedRow.sku;
		});

		if (selectedRowsString) {
			$("#lineGraphDiv").show();
			$
					.ajax({
						type : "GET",
						url : "/inventory/view-stock-daily-report?id="
								+ selectedRowsString,
						dataType : 'json',
						data : selectedRowsString,
						success : function(response) {
							if (response.message == "success") {
								$("#graphTable").empty();
								lineGrapg(response.body.dataList,
										response.body.dates, 'Stock');
								var tableHeader = '<tr>';
								for (var i = 0; i < response.body.dates.length; i++) {

									tableHeader = tableHeader
											+ '<td class="txthead" width="30">'
											+ response.body.dates[i] + '</td>';
								}
								tableHeader = tableHeader + '</tr>';
								$("#graphTable").append(tableHeader);

								for (var i = 0; i < response.body.dataList.length; i++) {
									var tableBody = '<tr><td class="textamount" width="120">'
											+ response.body.dataList[i].name
											+ '</td>';
									for (var j = 0; j < response.body.dataList[i].data.length; j++) {
										tableBody = tableBody
												+ '<td class="textamount" width="30">'
												+ response.body.dataList[i].data[j]
												+ '</td>';
									}
									tableBody = tableBody + '</tr>';
									$("#graphTable").append(tableBody);
								}

							}
						},
						error : function(data) {
							console.log(data);
						}
					})
		} else {
			swal("Please Select At least One Product.");
		}

	}

	function getExcelReport() {
		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += selectedRow.sku;
		});

		window.location.href = "/inventory/view-stock-daily-report-excel?id="
				+ selectedRowsString;
	}

	function viewReq() {
		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsItem = [];
		selectedRows.forEach(function(selectedRow, index) {
			 selectedRowsItem.push(selectedRow);
		});
		localStorage.setItem('productData', JSON.stringify(selectedRowsItem));
		
		sessionStorage.setItem('activity', 'ACT0020');
		window.location.href = "/inventory/view-requisition";
		
	} 
	
	
	// for csv requisition
	function stockCSV() {
		var dataset = [];
		gridOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
			dataset.push(rowNode.data);
		});
		gridOptions.api.exportDataAsCsv(dataset);
	}
	 function skuProductCSV() {
		var dataset = [];
		skuOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
			dataset.push(rowNode.data);
		});
		skuOptions.api.exportDataAsCsv(dataset);
	}

	function purchaseProductCSV() {
		var dataset = [];
		purchaseOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
			dataset.push(rowNode.data);
		});
		purchaseOptions.api.exportDataAsCsv(dataset);
	} 
	
	 function returnPage() {
		$("#reqTable").show();
		$("#total").show();
		$("#totalStock").show();
		$("#searchDiv").show();
		$("#btndiv").show();
		$("#myGrid").show();
		$("#mainPage").hide();
		$("#accordionExample").hide();
		$("#headingItem").hide();
	}
	
	function newPage() {
		$("#reqTable").hide();
		$("#totalStock").hide();
		//$("#total").hide();
		$("#searchDiv").hide();
		$("#btndiv").hide();
		$("#myGrid").hide();
		$("#mainPage").show();
		$("#accordionExample").show();
		$("#headingItem").show();
		headerStatus()
	}
 
	
</script>
</head>
<body>

	<div layout:fragment="content" class="maincontent">

		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
					<div class="content_padding">
						<div id="newId">
							 <div class="row" id="lineGraphDiv">
								<div class="col-md-12">

									<div id="chart" class="collapse show">
										<div align="right">
											<a data-toggle="collapse" data-target="#chart"
												class="chartclose"> <i class="ti-close"></i>
											</a>
										</div>
										<div style="width: 90%; height: 280px; margin: 0 auto;">
											<div id="container1" style="width: 100%; height: 280px;"></div>
										</div>
										<div style="width: 90%; height: auto; margin: 0 auto;">
											<div class="row">
												<div class="col-md-12">

													<div align="right" class="pdficonsec">
														<i class="fa fa-file-pdf-o fa-2x pdf"
															onclick="downloadChartPdf()"></i> <i
															class="fa fa-file-excel-o fa-2x excel"
															onclick="getExcelReport()"></i>
													</div>
													<table id="graphTable" class="newtbl">
													</table>
												</div>

											</div>
										</div>
									</div>
								</div>
							</div> 

							<div class="row" id="reqTable">
								<div class="d-flex justify-content-between">
									<div class="btn-hs" id="total">
										<div class="font-design" id="totalStock">
											PRODUCT LIST (<span></span>)
										</div>
									</div>
									<div class="btn-hs" id="searchDiv">
										<div class="input-style">
											<input type="text" placeholder="Search.." name="search"
												class="searchboxinput" onkeyup="cancelBar()"
												oninput="onQuickFilterChanged()" id="quickFilter"
												autocomplete="off">
											<div class="searchicon">
												<a href="javascript:void(0)"><span
													style="display: none; border-right: 1px solid #ccc; padding-right: 5px;"
													id="closeKey"
													onclick="gridOptions.api.setQuickFilter(null);$('#quickFilter').val('');document.getElementById('closeKey').style.display='none';"
													class="close_i"><i class="ti-close srchicon"></i></span></a><a
													href="javascript:void(0)"><i class="ti-search srchicon"></i></a>
											</div>
										</div>

									</div>

									<div class="buttonsec btn-hs" id="btndiv">
										<button class="download-btn" onclick="stockCSV()">Download</button>
										<!-- <div class="buttongap"></div> -->
								<!-- 		<button class="approve-btn" id="viewStaockBtn"
											onclick="stockReport()">STOCK HISTORY</button>
										<button class="approve-btn" id="viewPoBtn" onclick="stockReport()">View PO</button> -->
										<!-- <div class="buttongap"></div> -->
										<button class="new-btn" id="newReqBtn" onclick="viewReq()">NEW
											REQUISITION</button>
									</div>

								</div>
							</div>


							<div id="myGrid" style="width: 100%; height: 500px"
								class="ag-theme-alpine"></div>
						</div>
						<div id="profile" class="collapse">
							<div class="row">
								<div class="col-md-6 btn-hs"></div>
								<div class="col-md-12" align="right">
								<button class="cancel-btn" id="profilecancelbtn">Cancel</button>
									<button class="approve-btn" id="productSave">Save</button>
									

								</div>
								<div class="col-md-4">
											<div class="demo">
												<div class="item">
													<div class="clearfix" style="max-width: 360px">
													<div class="hvrbox">
											<img src="../assets/images/noimage.jpg" id="imgemp"
												alt="Location" class="hvrbox-layer_bottom img-fluid">

											<div class="hvrbox-layer_top">
												<div class="hvrbox-text">
													<!-- <span><i class="fa fa-pencil-square-o"></i></span> -->
													<input type="file" id="fileUpload" onchange="saveFile();" />
													<span><label for="fileUpload"><i
															class="fa fa-camera"
															style="cursor: pointer; font-size: 16px;"></i> <!-- <i class="fa fa-pencil-square-o"></i> --></label></span>
													<span><i class="fa fa-trash red"
														onclick="deleteFile();"></i></span>
												</div>
											</div>
										</div>
			
													</div>
												</div>
		
											</div>
										</div>
								<div class="col-md-8">
									<div class="row">
										<div class="col-md-12">
											<input type="hidden" id="productId"> <input
												type="text" name="code" value="" id="productName"
												placeholder="Product Name" class="form-control textbig"
												onblur="removeValid(event);">
										</div>
									</div>
									<div class="row">
										<div class="col-md-4">
											<div class="form-group">
												<label>Brand</label>
												<div class="select">
													<select class="" id="brand" onblur="removeValid(event);">
														<option value="">Select</option>
														<option th:each="c,iter:${brandList}" th:value="${c.key}"
															th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="col-md-4">
											<div class="form-group">
												<label>Mode</label>
												<div class="select">
													<select class="" id="mode" onblur="removeValid(event);">
														<option value="">Select</option>
														<option th:each="c,iter:${modeList}" th:value="${c.key}"
															th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="col-md-2">
											<div class="form-group" style="margin-top: 28px;">
												<input type="checkbox" name="isActive"
													style="margin-top: 8px;" id="prodStatus" value="1">
												<label>Active</label>
											</div>
										</div>
										<div class="col-md-4">
											<div class="form-group">
												<label>HSN</label> <input type="text" value=""
													placeholder="HSN" class="form-control" id="hsnCode"
													onblur="removeValid(event);">
											</div>
										</div>

										<div class="col-md-4">
											<div class="form-group">
												<label>SIC Code</label> <input type="text" value=""
													placeholder="SIC Code" class="form-control" id="sicCode">
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-3">
											<button class="approve-btn modalbtn" id="categoryBtn">Select
												Category</button>
											<input type="hidden" id="prCategoryId"> <input
												type="hidden" id="tempCategoryId"> <input
												type="hidden" id="prLevelId">
										</div>
										<div class="col-md-9 catdiv">
											<div class="innerbreadcrumb" id="catDesc"></div>
										</div>
									</div>
								</div>
							</div>

							<div id="main">
								<div class="accordion" id="accordionExample">

									<div class="accordion-item">
										<h2 class="accordion-header" id="headingOne">
										<!-- 	onclick="closeAllNav()"> -->
											<button class="accordion-button collapsed" type="button"
												data-bs-toggle="collapse" data-bs-target="#collapseOne"
												aria-expanded="false" aria-controls="collapseOne">
												Product Details</button>

										</h2>
										<div id="collapseOne" class="accordion-collapse collapse"
											aria-labelledby="headingOne"
											data-bs-parent="#accordionExample">
											<div class="accordion-body">

												<div id="mySidenav" class="sidenav">
													<div class="slidebox">
														<div class="row">
															<div class="col-md-10">
																<div class="edit">
																	Product Id: <span id="skuPrdId"></span>
																</div>
															</div>
															<div class="col-md-2">
																<div class="arrow">
																	<a href="javascript:void(0)" class="closebtn"
																		onclick="closeNav()"><i class="ti-arrow-right"></i></a>
																</div>
															</div>
														</div>
														<div class="chartbtnsec">
															<div align="right">
																<button class="cancel-btn" onclick="closeNav()">CANCEL</button>
																<!-- <button class="btn3">DELETE</button> -->
																<button class="approve-btn" id="saveSKUData">SAVE</button>
															</div>
														</div>
														<div class="clearfix"></div>

														<div class="row">
															<div class="col-lg-6">
																<div class="form-group">
																	<label>SKU</label> <input type="hidden" id="isEdit">
																	<input type="text" value="" placeholder=""
																		class="form-control" id="skuId"
																		onblur="removeValid(event);">
																</div>
															</div>
															<div class="col-lg-6">
																<div class="form-group">
																	<label>Model</label> <input type="text" value=""
																		placeholder="" class="form-control" id="model"
																		onblur="removeValid(event);">
																</div>
															</div>
														</div>
														<div class="row">
															<div class="col-md-12">
																<div class="form-group">
																	<label>Manufacture Item</label> <input type="text"
																		value="" placeholder="" class="form-control"
																		id="manufacture" onblur="removeValid(event);">
																</div>
															</div>

														</div>

														<div class="row">
															<div class="col-md-6">
																<div class="form-group">
																	<label>Variation Type</label>
																	<div class="select">
																		<select class="" id="variationType"
																			onblur="removeValid(event);">
																			<option value="">Select</option>
																			<option th:each="c,iter:${variationTypeList}"
																				th:value="${c.key}" th:text="${c.name}"></option>
																		</select>
																	</div>

																</div>
															</div>
															<div class="col-md-6">
																<div class="form-group">
																	<label>Variation Value</label> <input type="text"
																		value="" onblur="removeValid(event);" placeholder=""
																		class="form-control" id="variationValue">
																</div>
															</div>

														</div>

														<div class="row">
															<div class="col-md-6">
																<div class="form-group">
																	<label>UOM</label>
																	<div class="select">
																		<select class="" id="unit"
																			onblur="removeValid(event);">
																			<option value="">Select</option>
																			<option th:each="c,iter:${unitList}"
																				th:value="${c.key}" th:text="${c.name}"></option>
																		</select>
																	</div>
																</div>
															</div>
															<div class="col-md-6">
																<div class="form-group">
																	<label>Unit Sale Price</label> <input type="text"
																		value="" onclick="salaryBack(event)"
																		onblur="removeValid(event);salaryCheck(event)"
																		placeholder="" class="form-control" id="salePrice">
																</div>
															</div>
														</div>
													</div>
												</div>


												<div id="myVendorSidenav" class="sidenav">
													<div class="slidebox">
														<div class="row">
															<div class="col-md-10">
																<div class="edit">
																	Product Id: <span id="skuPurchasePrdId"></span>
																</div>
															</div>
															<div class="col-md-2">
																<div class="arrow">
																	<a href="javascript:void(0)" class="closebtn"
																		onclick="closeVendor()"><i class="ti-arrow-right"></i></a>
																</div>
															</div>
														</div>
														<div class="chartbtnsec">
															<div align="right">
																<button class="cancel-btn" onclick="closeVendor()">CANCEL</button>
																<!-- <button class="btn3">DELETE</button> -->
																<button class="approve-btn" id="savePurchaseDtls">SAVE</button>
															</div>
														</div>
														<div class="clearfix"></div>

														<div class="row">
															<div class="col-lg-12">
																<div class="form-group">
																	<label>SKU</label>
																	<div class="select">
																		<input type="hidden" id="isEditPurchase"> <input
																			type="hidden" id="editSKUId"> <input
																			type="hidden" id="editVendorId"> <select
																			id="skuPurchase" onblur="removeValid(event);">
																			<option value="">Select</option>
																		</select>
																	</div>
																</div>
															</div>
															</div>
															<div class="row">
															<div class="col-lg-6">
																<div class="form-group">
																	<span class="slide-span">Variation Type: </span><span
																		id="variantTypeSpan" class="slide-span-text"></span>
																</div>
															</div>
														</div>
														<div class="row">
															<div class="col-md-12">
																<div class="form-group">
																	<span class="slide-span">Variation Value: </span><span
																		id="variantValueSpan" class="slide-span-text"></span>
																</div>
															</div>

														</div>

														<div class="row">
															<div class="col-md-12">
																<div class="form-group">
																	<label>Vendor</label>
																	<div class="select">
																		<select id="vendorId" class=""
																			onblur="removeValid(event);">
																			<option value="">Select</option>
																			<option th:each="c,iter:${vendorList}"
																				th:value="${c.key}" th:text="${c.name}"></option>
																		</select>
																	</div>

																</div>
															</div>
															</div>
															<div class="row">
															<div class="col-md-6">
																<div class="form-group">
																	<label>Unit Purchase Price</label> <input type="text"
																		value="" placeholder="" class="form-control"
																		id="purchasePrice"
																		onblur="removeValid(event);salaryCheck(event)"
																		onclick="salaryBack(event)">
																</div>
															</div>

													

														
															<div class="col-md-6">
																<div class="form-group">
																	<label>MOQ</label> <input type="text" value=""
																		placeholder="" class="form-control" id="moq"
																		onblur="removeValid(event);">
																</div>
															</div>

														</div>
													</div>
												</div>

												<div class="row">
													 <div class="col-md-4 btn-hs1"> 
														<div class="font-design"></div>
													 </div> 
													<div class="col-md-8 butttonsec">
														<!-- <button class="upload-btn">Upload</button> -->
														 <button class="download-btn" onclick="skuProductCSV();">Download</button>
														<!-- <div class="buttongap"></div> -->
														<button class="delete-btn" data-toggle="modal" id="deletess"
															data-target="#delete" onclick="deletesku()">DELETE</button>
														<button class="new-btn" id="newBtn" onclick="openNav()">NEW</button>
													</div>
													
												</div>
												<div class="row">
												<div class="col-md-12">
													<div id="mySKUGrid" style="width: 100%; height: 100px;"
														class="ag-theme-alpine"></div>
														</div>
												</div>
											 <br> 
												<div class="row">

													<div class="col-md-4"></div>
													<div class="col-md-8 butttonsec btn-hs">
														<!-- <button class="upload-btn" id="uploads">Upload</button> -->
														<button class="download-btn" id="downloads"
															onclick="purchaseProductCSV();">Download</button>
														<!-- 	<div class="buttongap"></div> -->
														<button class="delete-btn" data-toggle="modal"
															data-target="#delete" id="deletes" onclick="deletepurchase()">DELETE</button>
														<button class="new-btn" id="newBtn1" onclick="openVendor()">NEW</button>
													</div>
												</div>
												<div class="row">
													<div class="col-md-12">
														<div id="myPurchaseGrid"
															style="width: 100%; height: 100px;"
															class="ag-theme-alpine"></div>
													</div>
												</div>
											</div>
										</div>
									</div>

								</div>
							</div>




						</div>
					</div>
				</div>

			</div>
		</div>
		<div class="modal fade" id="myModal">
			<div class="modal-dialog modal-lg" style="margin-top: 130px;">
				<div class="modal-content">

					<!-- Modal Header -->
					<div class="modal-header">
						<h4 class="modal-title md-color">Select Product Category</h4>
						<button type="button" class="close cp" onclick="closeModal();"
							data-dismiss="modal">&times;</button>
					</div>

					<!-- Modal body -->
					<div class="modal-body modal-cat">
						<div class="row">
							<table id="basic">
								<tbody id="costCeneterCBDiv"></tbody>
							</table>
						</div>
					</div>

					<!-- Modal footer -->
					<div class="modal-footer">
						<button class="cancel-btn" data-dismiss="modal" id="closemodal"
							onclick="closeModal();">Cancel</button>
						<button class="approve-btn" id="selectCategory">Select</button>
					</div>

				</div>
			</div>
		</div>
		<div id="delete" class="modal fade show" aria-modal="true">
			<div class="modal-dialog modal-confirm">
				<div class="modal-content">
					<div class="modal-header flex-column">
					</div>
					<div class="modal-body">
						<p>Do you really want to delete these records? This process
							cannot be undone.</p>
					</div>
					<div class="modal-footer justify-content-center"
						style="margin-top: -30px;">
						<button type="button" class="cancel-btn" data-dismiss="modal"
							onclick="cancelModalBtn();">Cancel</button>
						<button type="button" class="delete-btn" id="deleteModalBtn">Delete</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>