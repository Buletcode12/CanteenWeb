<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">

<head>
<script src="../assets/js/extend/grid-ent.js"></script>
<script>

$(document)
.ready(
		function() {
			$("#myGrid").hide();
			$("#myGrid1").hide();
			$("#cancelgrid").hide();
			$("#cancelgrid2").hide();
			$("#addgrid").hide();
			$("#addgrid2").hide();
			var gridDiv = document.querySelector('#myGrid');
			new agGrid.Grid(gridDiv, gridOptions);
			var gridDiv1 = document.querySelector('#myGrid1');
			new agGrid.Grid(gridDiv1, gridOptions1);
			
			var gridDiv2 = document.querySelector('#myGrid2');
			new agGrid.Grid(gridDiv2, gridOptions2)
		});

var columnDefs = [
	{
	headerCheckboxSelection : true,
	headerCheckboxSelectionFilteredOnly : true,
	checkboxSelection : true,
	width : 10,
	sortable : false,
	filter : false,
	resizable : true
},
	{
		headerName : "Slno.",
		field : "slno",
		width : 150,
/* 
		cellRenderer : function(params) {
			return '<a instrno="editId" onclick=editId("'
					+ params.data.slno
					+ '") href="javascript:void(0)">'
					+ params.data.slno + '</a>';
		}, */
		cellStyle : {
			textAlign : 'center'
		}
	}, {
		headerName : "Start Date",
		field : "sdate",
		editable: true,
		width : 150
	}, {
		headerName : "End Date",
		field : "edate",
		width : 150,
		editable: true,
	}, {
		headerName : 'Phase/Task',
		field : "phase",
		editable: true,
		type : 'rightAligned',
		//valueFormatter : currencyFormatter,
		width : 150
	}, {
		headerName : "Assigned To",
		field : "assign",
		editable: true,
		width : 150
	}, {
		headerName : "Quality Needed",
		field : "qty",
		editable: true,
		width : 150
	}, {
		headerName : "Planned Hours",
		field : "planned",
		editable: true,
		width : 150
	}, {
		headerName : 'Notes',
		field : "note",
		editable: true,
		width : 150
	}, {
		headerName : 'Created By',
		field : "createdBy",
	},{
		headerName : 'Created On',
		field : "createdOn",
	}, {
		headerName : 'Updated By',
		field : "updatedBy",
	},{
		headerName : 'Updated On',
		field : "updatedOn",
	}
			  ];
const rowData = [
	  // First row
	  {
	    slno: 1,
	    sdate: "2023-06-01",
	    edate: "2023-06-05",
	    phase: "Phase 1",
	    assign: "John",
	    qty: "High",
	    planned: 8,
	    note: "Note 1",
	    createdBy: "User1",
	    createdOn: "2023-05-30",
	    updatedBy: "User2",
	    updatedOn: "2023-05-31"
	  },
	  // Second row
	  {
	    slno: 2,
	    sdate: "2023-06-06",
	    edate: "2023-06-10",
	    phase: "Phase 2",
	    assign: "Jane",
	    qty: "Medium",
	    planned: 6,
	    note: "Note 2",
	    createdBy: "User3",
	    createdOn: "2023-05-29",
	    updatedBy: "User4",
	    updatedOn: "2023-05-30"
	  },
	  // Add more rows as needed...
	];
var gridOptions = {
		columnDefs : columnDefs,
		rowData: rowData,
		
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 200,
			height : 20
		},
		rowSelection : 'multiple',
		//onSelectionChanged : onSelectionChanged
	};
var columnDefs1 = [
	{
	headerCheckboxSelection : true,
	headerCheckboxSelectionFilteredOnly : true,
	checkboxSelection : true,
	width : 10,
	sortable : false,
	filter : false,
	resizable : true
},
	{
		headerName : "Slno.",
		field : "slno",
		width : 150,
/* 
		cellRenderer : function(params) {
			return '<a instrno="editId" onclick=editId("'
					+ params.data.slno
					+ '") href="javascript:void(0)">'
					+ params.data.slno + '</a>';
		}, */
		cellStyle : {
			textAlign : 'center'
		}
	}, {
		headerName : " Planned Start Date",
		field : "psdate",
		width : 150
	}, {
		headerName : "Planned End Date",
		field : "pedate",
		width : 150,
	},
	 {
		headerName : " Actual Start Date",
		field : "asdate",
		width : 150
	}, {
		headerName : "Actual End Date",
		field : "aedate",
		width : 150,
	},{
		headerName : 'Phase/Task',
		field : "phase",
		type : 'rightAligned',
		//valueFormatter : currencyFormatter,
		width : 150
	}, {
		headerName : "Assigned To",
		field : "assign",
		width : 150
	}, {
		headerName : "Quality Needed",
		field : "qtyneed",
		width : 150
	},
	 {
		headerName : "Quality Received",
		field : "qtyreceive",
		width : 150
	},{
		headerName : "Planned Hours",
		field : "plannedhr",
		width : 150
	},
	{
		headerName : "Actual Hours",
		field : "actualhr",
		width : 150
	},{
		headerName : "Attachment",
		field : "attachment",
		width : 150
	},{
		headerName : 'Notes',
		field : "note",
		width : 150
	}, {
		headerName : 'Created By',
		field : "createdBy",
	},{
		headerName : 'Created On',
		field : "createdOn",
	}, {
		headerName : 'Updated By',
		field : "updatedBy",
	},{
		headerName : 'Updated On',
		field : "updatedOn",
	}
			  ];
const rowData1 = [
	  // First row
	  {
	    slno: 1,
	    psdate: "2023-06-01",
	    pedate: "2023-06-05",
	    asdate: "2023-06-02",
	    aedate: "2023-06-06",
	    phase: "Phase 1",
	    assign: "John",
	    qtyneed: "High",
	    qtyreceive: "Medium",
	    plannedhr: 8,
	    actualhr: 7,
	    attachment: "File 1",
	    note: "Note 1",
	    createdBy: "User1",
	    createdOn: "2023-05-30",
	    updatedBy: "User2",
	    updatedOn: "2023-05-31"
	  },
	  // Second row
	  {
	    slno: 2,
	    psdate: "2023-06-06",
	    pedate: "2023-06-10",
	    asdate: "2023-06-07",
	    aedate: "2023-06-12",
	    phase: "Phase 2",
	    assign: "Jane",
	    qtyneed: "Medium",
	    qtyreceive: "Low",
	    plannedhr: 6,
	    actualhr: 5,
	    attachment: "File 2",
	    note: "Note 2",
	    createdBy: "User3",
	    createdOn: "2023-05-29",
	    updatedBy: "User4",
	    updatedOn: "2023-05-30"
	  },
	  // Add more rows as needed...
	];
var gridOptions1 = {
		columnDefs : columnDefs1,
		rowData: rowData1,
		
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 200,
			height : 20
		},
		rowSelection : 'multiple',
		//onSelectionChanged : onSelectionChanged
	};
	

	var columnDefs2 = [ {
		headerCheckboxSelection : true,
		headerCheckboxSelectionFilteredOnly : true,
		checkboxSelection : true,
		width : 10,
		sortable : false,
		filter : false,
		resizable : true
	}, {
		headerName : "Project Id",
		field : "projectId",
	}, {
		headerName : "Project Name",
		field : "projectName",
	}, {
		headerName : "Creation Date",
		field : "creationDate",
		width : 150,
	}, {
		headerName : "Category",
		field : "category",
		width : 150,
	}, {
		headerName : 'Location',
		field : "location",
		width : 130,
	}, {
		headerName : "State",
		field : "stateId",
		width : 150,
	}, {
		headerName : 'Pin',
		field : "pinId",
	}, {
		headerName : 'Project Incharge',
		field : "projectIncharge",
	}, {
		headerName : 'Customer Name',
		field : "customerName",
	}, {
		headerName : 'Customer Address',
		field : "customerAddress",
	}, {
		headerName : 'State',
		field : "stateId1",
		width : 150,

	}, {
		headerName : 'Pin',
		field : "pinId1",
		width : 150,

	}, {
		headerName : 'Email',
		field : "email",
		width : 150,

	}, {
		headerName : 'Mobile',
		field : "mobile",
		width : 150,

	}, {
		headerName : 'Remarks',
		field : "remarks",
		width : 150,

	}, {
		headerName : 'Status',
		field : "status",
		width : 150,

	} ];
	const rowData2 = [
			{
				projectId : "RFP001",
				projectName : "Iterarch Building Product PVT ltd",
				creationDate : "15-05-2023",
				category : "Manpower",
				location : "Panipat,Haryana",
				stateId : "Haryana",
				pinId : "132103",
				projectIncharge : "Incharge 1",
				customerName : "Customer 1",
				customerAddress : "GRASIM INDUSTRIES LTD., 48-62, HSIIDC, INDUSTRIAL ESTATE REFINERY ROAD, PANIPAT",
				stateId1 : "Haryana",
				pinId1 : "Customer Pin 1",
				email : "customer1@example.com",
				mobile : "1234567890",
				remarks : "Some remarks",
				status : "Active",

			},
			{
				projectId : "RFP002",
				projectName : "SMCC CONSTRUCTION INDIA LIMITED",
				creationDate : "15-05-2023",
				category : "Manpower",
				location : "Panipat,Haryana",
				stateId : "Haryana",
				pinId : "132140",
				projectIncharge : "Incharge 1",
				customerName : "Customer 1",
				customerAddress : "PANIPAT REFINERY",
				stateId1 : "Haryana",
				pinId1 : "Customer Pin 1",
				email : "customer1@example.com",
				mobile : "1234567890",
				remarks : "Some remarks",
				status : "Active",

			},
			{
				projectId : "RFP003",
				projectName : "Bhusan Power & Steel",
				creationDate : "15-05-2023",
				category : "Purchase tools and tackles",
				location : "BECHARAJI, GUJARAT",
				stateId : "GUJARAT",
				pinId : "382130",
				projectIncharge : "Incharge 1",
				customerName : "Customer 1",
				customerAddress : "TDS LITHIUM-ION BATTERY GUJARAT PVT LTD.PLOT NO.1,2,3 & 9, BLOCK NO.334 & 335",
				stateId1 : "GUJARAT",
				pinId1 : "Customer Pin 1",
				email : "customer1@example.com",
				mobile : "1234567890",
				remarks : "Some remarks",
				status : "Active",

			},

			{
				projectId : "RFP004",
				projectName : "Shree Cement",
				creationDate : "15-05-2023",
				category : "Hiring of equipment and machineries",
				location : "AURANGABAD, BIHAR",
				stateId : "BIHAR",
				pinId : "132103",
				projectIncharge : "Incharge 1",
				customerName : "Customer 1",
				customerAddress : "Address 1",
				stateId1 : "Customer State 1",
				pinId1 : "Customer Pin 1",
				email : "customer1@example.com",
				mobile : "1234567890",
				remarks : "Some remarks",
				status : "Active",

			},

	];

	var gridOptions2 = {
		columnDefs : columnDefs2,
		rowData : rowData2,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 200,
			height : 20
		},
		rowSelection : 'multiple',
	//onSelectionChanged : onSelectionChanged 
	};

	function OpenNav() {
		$("#drpdowndetails").hide();
		$("#cancelgrid").show();
		$("#cancelgrid2").hide();
		$("#addgrid").show();
		$("#addgrid2").hide();
		$("#cancel").hide();
		$("#saveBudgetPlan").hide();
		$("#download").hide();
		$("#cancelgrid").show();
		$("#basic").hide();
		$("#myGrid").show();
		$("#myGrid1").hide();
	}
	function CloseNav() {
		$("#drpdowndetails").show();
		$("#cancelgrid").hide();
		$("#cancelgrid2").hide();
		$("#addgrid").hide();
		$("#addgrid2").hide();
		$("#basic").show();
		$("#myGrid").hide();
		$("#cancel").show();
		$("#myGrid1").hide();
		$("#saveBudgetPlan").show();
		$("#download").show();
	}
	function OpenNav2() {
		$("#drpdowndetails").hide();
		$("#cancelgrid").hide();
		$("#cancelgrid2").show();
		$("#addgrid").hide();
		$("#addgrid2").show();
		$("#cancel").hide();
		$("#cancel2").hide();
		$("#saveBudgetPlan").hide();
		$("#download").hide();
		$("#basic").hide();
		$("#myGrid").hide();
		$("#myGrid1").show();
	}
	function CloseNav2() {
		$("#drpdowndetails").show();
		$("#cancelgrid").hide();
		$("#cancelgrid2").hide();
		$("#addgrid").hide();
		$("#addgrid2").hide();
		$("#basic").show();
		$("#myGrid").hide();
		$("#myGrid1").hide();
		$("#cancel").show();
		$("#saveBudgetPlan").show();
		$("#download").show();
	}
	function AddNav2() {

		/* $("#activityDateId").val("");
		$("#activityStartTimeId").val("");
		$("#activityEndTimeId").val("");
		$("#activityId").val("");
		$("#activityRemarkId").val(""); */
		document.getElementById("mySidenav2").style.cssText = "width:25%; position: absolute; right:-10px; overflow: hidden; height:auto; top:109px;";
		document.getElementById("myGrid1").style.width = "75%";
		$("#addNotiId").hide();
		$("#cancelNotiId").hide();
		$("#addId").hide();
		$("#cancelId").hide();
	}
	function closeNav3() {
		//$("#mainaddbtn").show();
		document.getElementById("mySidenav2").style.width = "0";
		document.getElementById("myGrid1").style.width = "100%";
		$("#addId").show();
		$("#cancelId").show();
		$("#addNotiId").show();
		$("#cancelNotiId").show();
	}
	function AddNav3() {

		/* $("#activityDateId").val("");
		$("#activityStartTimeId").val("");
		$("#activityEndTimeId").val("");
		$("#activityId").val("");
		$("#activityRemarkId").val(""); */
		document.getElementById("mySidenav3").style.cssText = "width:25%; position: absolute; right:-10px; overflow: hidden; height:auto; top:109px;";
		document.getElementById("myGrid1").style.width = "75%";
		$("#addNotiId").hide();
		$("#cancelNotiId").hide();
		$("#addId").hide();
		$("#cancelId").hide();
	}
	function closeNav4() {
		//$("#mainaddbtn").show();
		document.getElementById("mySidenav3").style.width = "0";
		document.getElementById("myGrid").style.width = "100%";
		$("#cancelgrid").hide();
		$("#cancelgrid2").hide();
		$("#addgrid").hide();
		$("#addgrid2").hide();
		$("#basic").show();
		//$("#myGrid").hide();
		$("#myGrid1").hide();
		$("#cancel").show();
		$("#saveBudgetPlan").show();
		$("#download").show();
	}

	$(document).ready(function() {

		getYearDataList();

		$("#submitYear").click(function() {
			obj = {};

			obj.year = $("#yearVal").val();

			$(".formValidation").remove();
			allPValid = true;
			if ($("#yearVal").val() == null || $("#yearVal").val() == "") {
				allPValid = false;
				validationAll("Year Required", "yearVal");
			}

			if (allPValid) {
				$('.loader').show();
				$("body").addClass("overlay");
				submitYearData(obj);
			}
		})

		$('#basic').simpleTreeTable({
			expander : $('#expander'),
			collapser : $('#collapser'),
			store : 'session',
			storeKey : 'simple-tree-table-basic'
		});

		$("#saveBudgetPlan").click(function() {

			$('.loader').show();
			$("body").addClass("overlay");

			var data = $("#hiddenMonthDataset").val();

			var monthlist = data.split(",");
			var monthset = [];
			for (var i = 0; i < monthlist.length - 1; i++) {
				monthset.push(monthlist[i].toLowerCase())
			}
			//console.log(monthset)
			var dataset = [];
			$("#basic > #tbodyData > tr").each(function() {
				var id = $(this).attr("id");
				console.log(id)
				var obj = {};
				obj['id'] = id;
				obj['year'] = $("#hiddenYear").val();
				for (var i = 0; i < monthset.length; i++) {
					var j = i + 1;
					var monthData = $(this).find(".m" + j + "_" + id).val();
					if (monthData == "" || monthData == null) {
						monthData = 0;
					} else {
						monthData = monthData.replace(",", "");
					}
					obj[monthset[i]] = parseFloat(monthData);
				}
				var total = $(this).find(".total_" + id).val();
				if (total == "" || total == null) {
					total = 0;
				} else {
					total = total.replace(",", "");
				}
				obj['total'] = parseFloat(total);
				dataset.push(obj)
			})
			submitBudgetPlan(dataset);
		})
	})

	function submitBudgetPlan(dataset) {
		$.ajax({
			type : "POST",
			url : "project-execution-save",
			dataType : "json",
			contentType : "application/json",
			data : JSON.stringify(dataset),
			success : function(response) {
				if (response.message == "success") {
					$('.loader').hide();
					$("body").removeClass("overlay");
				}
			},
			error : function(data) {
				console.log(data)
				$('.loader').hide();
				$("body").removeClass("overlay");
			}
		});
	}

	function formatNumber(num) {
		return num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
	}

	function getBudgetPlanData(id) {
		$("#tbodyData").empty();
		obj = {};
		obj.year = id;
		obj.id = $("#hiddenMonthDataset").val();
		$
				.ajax({
					type : "POST",
					url : "project-execution-get-cc-list",
					dataType : "json",
					contentType : "application/json",
					data : JSON.stringify(obj),
					success : function(response) {
						if (response.message == "success") {
							console.log(response.body)
							for (var i = 0; i < response.body.length; i++) {
								var row = "";
								if (i == 0) {
									if (response.body[i].count > 0) {
										row = '<tr data-node-id="'+response.body[i].id+'" class="abc" id="'+response.body[i].id+'">'
												+ '<td class="firstnode">'
												+ response.body[i].slNo
												+ ' - '
												+ response.body[i].name
												+ '</td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m1_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m1)
												+ '"><input type="hidden" value="'+response.body[i].m1+'" id="hdm1_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m2_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m2)
												+ '"><input type="hidden" value="'+response.body[i].m2+'" id="hdm2_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m3_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m3)
												+ '"><input type="hidden" value="'+response.body[i].m3+'" id="hdm3_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m4_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m4)
												+ '"><input type="hidden" value="'+response.body[i].m4+'" id="hdm4_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m5_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m5)
												+ '"><input type="hidden" value="'+response.body[i].m5+'" id="hdm5_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m6_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m6)
												+ '"><input type="hidden" value="'+response.body[i].m6+'" id="hdm6_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m7_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m7)
												+ '"><input type="hidden" value="'+response.body[i].m7+'" id="hdm7_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m8_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m8)
												+ '"><input type="hidden" value="'+response.body[i].m8+'" id="hdm8_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m9_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m9)
												+ '"><input type="hidden" value="'+response.body[i].m9+'" id="hdm9_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m10_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m10)
												+ '"><input type="hidden" value="'+response.body[i].m10+'" id="hdm10_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m11_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m11)
												+ '"><input type="hidden" value="'+response.body[i].m11+'" id="hdm11_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m12_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m12)
												+ '"><input type="hidden" value="'+response.body[i].m12+'" id="hdm12_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="total_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].total)
												+ '"></td></tr>';
									} else {
										row = '<tr data-node-id="'+response.body[i].id+'" class="abc" id="'+response.body[i].id+'">'
												+ '<td class="firstnode">'
												+ response.body[i].slNo
												+ ' - '
												+ response.body[i].name
												+ '</td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m1_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m1)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",1)><input type="hidden" value="'+response.body[i].m1+'" id="hdm1_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m2_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m2)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",2)><input type="hidden" value="'+response.body[i].m2+'" id="hdm2_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m3_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m3)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",3)><input type="hidden" value="'+response.body[i].m3+'" id="hdm3_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m4_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m4)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",4)><input type="hidden" value="'+response.body[i].m4+'" id="hdm4_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m5_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m5)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",5)><input type="hidden" value="'+response.body[i].m5+'" id="hdm5_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m6_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m6)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",6)><input type="hidden" value="'+response.body[i].m6+'" id="hdm6_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m7_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m7)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",7)><input type="hidden" value="'+response.body[i].m7+'" id="hdm7_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m8_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m8)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",8)><input type="hidden" value="'+response.body[i].m8+'" id="hdm8_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m9_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m9)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",9)><input type="hidden" value="'+response.body[i].m9+'" id="hdm9_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m10_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m10)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",10)><input type="hidden" value="'+response.body[i].m10+'" id="hdm10_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m11_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m11)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",11)><input type="hidden" value="'+response.body[i].m11+'" id="hdm11_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="m12_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m12)
												+ '" onkeyup=setTotalRowWise(event);setParentData("'
												+ response.body[i].id
												+ '","'
												+ response.body[i].parentId
												+ '",12)><input type="hidden" value="'+response.body[i].m12+'" id="hdm12_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  data-idval="'
												+ response.body[i].id
												+ '" class="total_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].total)
												+ '" disabled></td></tr>';
									}

								} else {
									if (response.body[i].count > 0) {
										row = '<tr data-node-id="'+response.body[i].id+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].id+'">'
												+ '<td class="firstnode">'
												+ response.body[i].slNo
												+ ' - '
												+ response.body[i].name
												+ '</td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m1_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m1)
												+ '"><input type="hidden" value="'+response.body[i].m1+'" id="hdm1_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m2_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m2)
												+ '"><input type="hidden" value="'+response.body[i].m2+'" id="hdm2_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m3_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m3)
												+ '"><input type="hidden" value="'+response.body[i].m3+'" id="hdm3_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m4_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m4)
												+ '"><input type="hidden" value="'+response.body[i].m4+'" id="hdm4_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m5_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m5)
												+ '"><input type="hidden" value="'+response.body[i].m5+'" id="hdm5_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m6_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m6)
												+ '"><input type="hidden" value="'+response.body[i].m6+'" id="hdm6_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m7_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m7)
												+ '"><input type="hidden" value="'+response.body[i].m7+'" id="hdm7_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m8_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m8)
												+ '"><input type="hidden" value="'+response.body[i].m8+'" id="hdm8_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m9_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m9)
												+ '"><input type="hidden" value="'+response.body[i].m9+'" id="hdm9_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m10_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m10)
												+ '"><input type="hidden" value="'+response.body[i].m10+'" id="hdm10_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m11_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m11)
												+ '"><input type="hidden" value="'+response.body[i].m11+'" id="hdm11_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="m12_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].m12)
												+ '"><input type="hidden" value="'+response.body[i].m12+'" id="hdm12_'+response.body[i].id+'"></td>'
												+ '<td><input type="text"  disabled data-idval="'
												+ response.body[i].id
												+ '" class="total_'
												+ response.body[i].id
												+ '" value="'
												+ formatNumber(response.body[i].total)
												+ '"></td></tr>';
									} else {

										if (response.body[i].chartAccList.length > 0) {
											row = '<tr data-node-id="'+response.body[i].id+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].id+'">'
													+ '<td class="firstnode">'
													+ response.body[i].slNo
													+ ' - '
													+ response.body[i].name
													+ '</td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m1_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m1)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",1)><input type="hidden" value="'+response.body[i].m1+'" id="hdm1_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m2_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m2)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",2)><input type="hidden" value="'+response.body[i].m2+'" id="hdm2_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m3_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m3)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",3)><input type="hidden" value="'+response.body[i].m3+'" id="hdm3_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m4_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m4)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",4)><input type="hidden" value="'+response.body[i].m4+'" id="hdm4_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m5_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m5)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",5)><input type="hidden" value="'+response.body[i].m5+'" id="hdm5_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m6_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m6)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",6)><input type="hidden" value="'+response.body[i].m6+'" id="hdm6_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m7_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m7)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",7)><input type="hidden" value="'+response.body[i].m7+'" id="hdm7_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m8_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m8)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",8)><input type="hidden" value="'+response.body[i].m8+'" id="hdm8_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m9_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m9)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",9)><input type="hidden" value="'+response.body[i].m9+'" id="hdm9_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m10_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m10)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",10)><input type="hidden" value="'+response.body[i].m10+'" id="hdm10_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m11_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m11)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",11)><input type="hidden" value="'+response.body[i].m11+'" id="hdm11_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="m12_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m12)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",12)><input type="hidden" value="'+response.body[i].m12+'" id="hdm12_'+response.body[i].id+'"></td>'
													+ '<td><input type="text" disabled data-idval="'
													+ response.body[i].id
													+ '" class="total_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].total)
													+ '" disabled></td></tr>';
											var row1 = "";
											for (var j = 0; j < response.body[i].chartAccList.length; j++) {
												row1 = row1
														+ '<tr data-node-id="'+response.body[i].chartAccList[j].id+'" data-node-pid="'+response.body[i].chartAccList[j].parentId+'" class="abc" id="'+response.body[i].chartAccList[j].id+'">'
														+ '<td class="firstnode">'
														+ response.body[i].chartAccList[j].slNo
														+ ' - '
														+ response.body[i].chartAccList[j].name
														+ '</td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m1_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m1)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",1)><input type="hidden" value="'+response.body[i].chartAccList[j].m1+'" id="hdm1_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m2_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m2)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",2)><input type="hidden" value="'+response.body[i].chartAccList[j].m2+'" id="hdm2_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m3_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m3)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",3)><input type="hidden" value="'+response.body[i].chartAccList[j].m3+'" id="hdm3_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m4_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m4)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",4)><input type="hidden" value="'+response.body[i].chartAccList[j].m4+'" id="hdm4_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m5_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m5)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",5)><input type="hidden" value="'+response.body[i].chartAccList[j].m5+'" id="hdm5_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m6_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m6)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",6)><input type="hidden" value="'+response.body[i].chartAccList[j].m6+'" id="hdm6_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m7_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m7)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",7)><input type="hidden" value="'+response.body[i].chartAccList[j].m7+'" id="hdm7_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m8_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m8)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",8)><input type="hidden" value="'+response.body[i].chartAccList[j].m8+'" id="hdm8_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m9_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m9)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",9)><input type="hidden" value="'+response.body[i].chartAccList[j].m9+'" id="hdm9_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m10_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m10)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",10)><input type="hidden" value="'+response.body[i].chartAccList[j].m10+'" id="hdm10_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m11_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m11)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",11)><input type="hidden" value="'+response.body[i].chartAccList[j].m11+'" id="hdm11_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="m12_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].m12)
														+ '" onkeyup=setTotalRowWise(event);setParentData("'
														+ response.body[i].chartAccList[j].id
														+ '","'
														+ response.body[i].chartAccList[j].parentId
														+ '",12)><input type="hidden" value="'+response.body[i].chartAccList[j].m12+'" id="hdm12_'+response.body[i].chartAccList[j].id+'"></td>'
														+ '<td><input type="text"  data-idval="'
														+ response.body[i].chartAccList[j].id
														+ '" class="total_'
														+ response.body[i].chartAccList[j].id
														+ '" value="'
														+ formatNumber(response.body[i].chartAccList[j].total)
														+ '" disabled></td></tr>';
											}
											row = row + row1;
										} else {
											row = '<tr data-node-id="'+response.body[i].id+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].id+'">'
													+ '<td class="firstnode">'
													+ response.body[i].slNo
													+ ' - '
													+ response.body[i].name
													+ '</td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m1_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m1)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",1)><input type="hidden" value="'+response.body[i].m1+'" id="hdm1_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m2_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m2)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",2)><input type="hidden" value="'+response.body[i].m2+'" id="hdm2_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m3_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m3)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",3)><input type="hidden" value="'+response.body[i].m3+'" id="hdm3_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m4_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m4)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",4)><input type="hidden" value="'+response.body[i].m4+'" id="hdm4_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m5_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m5)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",5)><input type="hidden" value="'+response.body[i].m5+'" id="hdm5_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m6_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m6)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",6)><input type="hidden" value="'+response.body[i].m6+'" id="hdm6_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m7_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m7)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",7)><input type="hidden" value="'+response.body[i].m7+'" id="hdm7_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m8_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m8)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",8)><input type="hidden" value="'+response.body[i].m8+'" id="hdm8_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m9_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m9)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",9)><input type="hidden" value="'+response.body[i].m9+'" id="hdm9_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m10_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m10)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",10)><input type="hidden" value="'+response.body[i].m10+'" id="hdm10_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m11_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m11)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",11)><input type="hidden" value="'+response.body[i].m11+'" id="hdm11_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="m12_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].m12)
													+ '" onkeyup=setTotalRowWise(event);setParentData("'
													+ response.body[i].id
													+ '","'
													+ response.body[i].parentId
													+ '",12)><input type="hidden" value="'+response.body[i].m12+'" id="hdm12_'+response.body[i].id+'"></td>'
													+ '<td><input type="text"  data-idval="'
													+ response.body[i].id
													+ '" class="total_'
													+ response.body[i].id
													+ '" value="'
													+ formatNumber(response.body[i].total)
													+ '" disabled></td></tr>';
										}
									}
								}
								$("#tbodyData").append(row);
							}

							$('.loader').hide();
							$("body").removeClass("overlay");

							$('#basic').simpleTreeTable({
								expander : $('#expander'),
								collapser : $('#collapser'),
								store : 'session',
								storeKey : 'simple-tree-table-basic'
							});
						}
					},
					error : function(data) {
						console.log(data)
						$('.loader').hide();
						$("body").removeClass("overlay");
					}
				});
	}

	function setParentData(id, parentId, slno) {

		var m1 = $(".m" + slno + "_" + id).val();
		if (m1 == null || m1 == "") {
			m1 = 0;
		} else {
			m1 = m1.replace(",", "");
		}
		var hidVal = $("#hdm" + slno + "_" + id).val();
		var pVal = $("#tbodyData > #" + parentId).find(
				".m" + slno + "_" + parentId).val();
		if (pVal == null || pVal == "") {
			pVal = 0;
		} else {
			pVal = pVal.replace(",", "");
		}
		pVal = parseFloat(pVal) + parseFloat(m1) - parseFloat(hidVal);
		$("#hdm" + slno + "_" + id).val(m1);
		$("#" + parentId).find(".m" + slno + "_" + parentId).val("");
		$("#" + parentId).find(".m" + slno + "_" + parentId).val(
				formatNumber(pVal));
		var pId = $("#" + parentId).attr("data-node-pid");
		setTotalValue(parentId);
		setParentData(parentId, pId, slno);

	}

	function setTotalValue(dataval) {
		var m1 = $(".m1_" + dataval).val();
		if (m1 == null || m1 == "") {
			m1 = 0;
		} else {
			m1 = m1.replace(",", "");
		}
		var m2 = $(".m2_" + dataval).val();
		if (m2 == null || m2 == "") {
			m2 = 0;
		} else {
			m2 = m2.replace(",", "");
		}
		var m3 = $(".m3_" + dataval).val();
		if (m3 == null || m3 == "") {
			m3 = 0;
		} else {
			m3 = m3.replace(",", "");
		}
		var m4 = $(".m4_" + dataval).val();
		if (m4 == null || m4 == "") {
			m4 = 0;
		} else {
			m4 = m4.replace(",", "");
		}
		var m5 = $(".m5_" + dataval).val();
		if (m5 == null || m5 == "") {
			m5 = 0;
		} else {
			m5 = m5.replace(",", "");
		}
		var m6 = $(".m6_" + dataval).val();
		if (m6 == null || m6 == "") {
			m6 = 0;
		} else {
			m6 = m6.replace(",", "");
		}
		var m7 = $(".m7_" + dataval).val();
		if (m7 == null || m7 == "") {
			m7 = 0;
		} else {
			m7 = m7.replace(",", "");
		}
		var m8 = $(".m8_" + dataval).val();
		if (m8 == null || m8 == "") {
			m8 = 0;
		} else {
			m8 = m8.replace(",", "");
		}
		var m9 = $(".m9_" + dataval).val();
		if (m9 == null || m9 == "") {
			m9 = 0;
		} else {
			m9 = m9.replace(",", "");
		}
		var m10 = $(".m10_" + dataval).val();
		if (m10 == null || m10 == "") {
			m10 = 0;
		} else {
			m10 = m10.replace(",", "");
		}
		var m11 = $(".m11_" + dataval).val();
		if (m11 == null || m11 == "") {
			m11 = 0;
		} else {
			m11 = m11.replace(",", "");
		}
		var m12 = $(".m12_" + dataval).val();
		if (m12 == null || m12 == "") {
			m12 = 0;
		} else {
			m12 = m12.replace(",", "");
		}

		var sum = 0;

		sum = parseFloat(m1) + parseFloat(m2) + parseFloat(m3) + parseFloat(m4)
				+ parseFloat(m5) + parseFloat(m6) + parseFloat(m7)
				+ parseFloat(m8) + parseFloat(m9) + parseFloat(m10)
				+ parseFloat(m11) + parseFloat(m12);

		$(".total_" + dataval).val(formatNumber(sum));
	}

	function setTotalRowWise(e) {
		console.log(e)

		var dataval = e.target.dataset.idval;
		console.log(dataval)

		var m1 = $(".m1_" + dataval).val();
		if (m1 == null || m1 == "") {
			m1 = 0;
		} else {
			m1 = m1.replace(",", "");
		}
		var m2 = $(".m2_" + dataval).val();
		if (m2 == null || m2 == "") {
			m2 = 0;
		} else {
			m2 = m2.replace(",", "");
		}
		var m3 = $(".m3_" + dataval).val();
		if (m3 == null || m3 == "") {
			m3 = 0;
		} else {
			m3 = m3.replace(",", "");
		}
		var m4 = $(".m4_" + dataval).val();
		if (m4 == null || m4 == "") {
			m4 = 0;
		} else {
			m4 = m4.replace(",", "");
		}
		var m5 = $(".m5_" + dataval).val();
		if (m5 == null || m5 == "") {
			m5 = 0;
		} else {
			m5 = m5.replace(",", "");
		}
		var m6 = $(".m6_" + dataval).val();
		if (m6 == null || m6 == "") {
			m6 = 0;
		} else {
			m6 = m6.replace(",", "");
		}
		var m7 = $(".m7_" + dataval).val();
		if (m7 == null || m7 == "") {
			m7 = 0;
		} else {
			m7 = m7.replace(",", "");
		}
		var m8 = $(".m8_" + dataval).val();
		if (m8 == null || m8 == "") {
			m8 = 0;
		} else {
			m8 = m8.replace(",", "");
		}
		var m9 = $(".m9_" + dataval).val();
		if (m9 == null || m9 == "") {
			m9 = 0;
		} else {
			m9 = m9.replace(",", "");
		}
		var m10 = $(".m10_" + dataval).val();
		if (m10 == null || m10 == "") {
			m10 = 0;
		} else {
			m10 = m10.replace(",", "");
		}
		var m11 = $(".m11_" + dataval).val();
		if (m11 == null || m11 == "") {
			m11 = 0;
		} else {
			m11 = m11.replace(",", "");
		}
		var m12 = $(".m12_" + dataval).val();
		if (m12 == null || m12 == "") {
			m12 = 0;
		} else {
			m12 = m12.replace(",", "");
		}
		var sum = 0;

		sum = parseFloat(m1) + parseFloat(m2) + parseFloat(m3) + parseFloat(m4)
				+ parseFloat(m5) + parseFloat(m6) + parseFloat(m7)
				+ parseFloat(m8) + parseFloat(m9) + parseFloat(m10)
				+ parseFloat(m11) + parseFloat(m12);

		$(".total_" + dataval).val(formatNumber(sum));
	}

	function submitYearData(dataset) {
		$
				.ajax({
					type : "POST",
					url : "project-execution-save-year",
					dataType : "json",
					contentType : "application/json",
					data : JSON.stringify(dataset),
					success : function(response) {
						if (response.message == "success") {
							$('.loader').hide();
							$("body").removeClass("overlay");
							closeNav();

							var div = '<div id="'
									+ response.body.yearId
									+ '" class="databasebox_mail divcls" style="text-align: center !important;" onclick=openDetails("'
									+ response.body.yearId
									+ '","'
									+ response.body.year
									+ '","'
									+ response.body.monthDtls
									+ '")>'
									+ '<a href="javascript:void(0)"><div style="font-size: 34px;">'
									+ response.body.year + '</div> '
									+ '<span style="font-size: 15px;">'
									+ response.body.monthDtls
									+ '</span></a></div>';
							$("#yearDiv").append(div);
						}
					},
					error : function(data) {
						console.log(data)
						$('.loader').hide();
						$("body").removeClass("overlay");
					}
				});
	}

	function getYearDataList() {
		$("#yearDiv").empty();
		$('.loader').show();
		$("body").addClass("overlay");
		$
				.ajax({
					type : "POST",
					url : "project-execution-get-year-list",
					dataType : "json",
					contentType : "application/json",
					data : "A",
					success : function(response) {
						if (response.message == "success") {
							console.log(response.body)

							var id = response.body[0].year;
							var mnth = response.body[0].monthDtls;
							mnth = mnth.replaceAll(" ", "");
							mnth = mnth.split("-");
							setMonthList(mnth[0], mnth[2]);
							for (var i = 0; i < response.body.length; i++) {
								var mnth = response.body[i].monthDtls;
								mnth = mnth.replaceAll(" ", "");
								mnth = mnth.split("-");
								var start = mnth[0];
								var end = mnth[2];
								var div = '<div id="'
										+ response.body[i].yearId
										+ '" class="databasebox_mail divcls" style="text-align: center !important;" onclick=openDetails("'
										+ response.body[i].yearId
										+ '","'
										+ response.body[i].year
										+ '","'
										+ start
										+ '","'
										+ end
										+ '")>'
										+ '<a href="javascript:void(0)"><div style="font-size: 34px;">'
										+ response.body[i].year + '</div> '
										+ '<span style="font-size: 15px;">'
										+ response.body[i].monthDtls
										+ '</span></a></div>';
								$("#yearDiv").append(div);

								if (i == 0) {
									$("#" + response.body[i].yearId)
											.removeClass("databasebox_mail");
									$("#" + response.body[i].yearId).addClass(
											"databasebox_mailactive");
								}
							}

							$("#hiddenYear").val(response.body[0].year);

							getBudgetPlanData(id);

						}
					},
					error : function(data) {
						console.log(data)
					}
				});
	}

	function setMonthList(start, end) {
		var dataset = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug",
				"Sep", "Oct", "Nov", "Dec" ];
		var total = [ "Total" ];
		var a = dataset.indexOf(start);
		var y = dataset.splice(a);
		var newdataset = y.concat(dataset);
		var newdataset = newdataset.concat(total);
		$("#hiddenMonthDataset").val(newdataset);
		/* $("#theadData").empty();
		var head = "<th class='firstnode'></th>";
		$("#theadData").append(head);
		for(var i = 0; i < newdataset.length; i++) {
			var dyhead = '<th class="dyheadCls">'+newdataset[i]+'</th>';
			$("#theadData").append(dyhead);
		} */
	}

	function openDetails(id, year, start, end) {
		setMonthList(start, end);
		$("#hiddenYear").val(year);
		$(".divcls").removeClass("databasebox_mailactive");
		$(".divcls").addClass("databasebox_mail");
		$("#" + id).addClass("databasebox_mailactive");
		$('.loader').show();
		$("body").addClass("overlay");
		getBudgetPlanData(year);
	}

	function openNavAddActivity() {

		/* $("#activityDateId").val("");
		$("#activityStartTimeId").val("");
		$("#activityEndTimeId").val("");
		$("#activityId").val("");
		$("#activityRemarkId").val(""); */
		document.getElementById("mySidenav").style.cssText = "width:25%; position: absolute; right:-10px; overflow: hidden; height:auto; top:109px;";
		document.getElementById("mainId").style.width = "75%";
		$("#addNotiId").hide();
		$("#cancelNotiId").hide();
		$("#addId").hide();
		$("#cancelId").hide();
	}
	function closeNav() {
		//$("#mainaddbtn").show();
		document.getElementById("mySidenav").style.width = "0";
		document.getElementById("mainId").style.width = "100%";
		$("#addId").show();
		$("#cancelId").show();
		$("#addNotiId").show();
		$("#cancelNotiId").show();
	}
</script>
<style>
.dyheadCls {
	text-align: center;
}

td input {
	overflow: visible;
	width: 100%;
	border: 0;
	text-align: right;
	font-size: 12px;
	font-weight: 100;
}

input:focus {
	border: 0;
	outline: 0;
}

input disabled {
	background: none;
}



#basic th:first-child {
	border: none;
}

.abc td:first-child {
	border: 1px solid #ccc;
}

 .firstnode {
	/* color: #333;
	border-top: 1px solid transparent !important;
	border-left: 1px solid transparent !important;
	border-bottom: 1px solid transparent !important; */
	width: 250px;
	/* font-size: 12px;
	font-weight: 100; */
} 
table {
	border: 1px solid #ebeded;
}
table th
{
border: 1px solid #ccc;
    background: #a6a6a6;
    color: #fff;
    padding: 2px 4px;
    font-weight: 600;
}
table td
{
border: 1px solid #ccc;
    font-size: 12px;
    padding: 2px 4px;
}

.simple-tree-table-closed .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
	transform: rotate(90deg);
}

.simple-tree-table-opened .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
}

.simple-tree-table-icon {
	display: inline-block;
	width: 1.5em;
	line-height: 1.5em;
	margin: 0.1em;
	background-color: transparent;
	text-align: center;
	cursor: pointer;
}
.txt-rt{
text-align:right}
.mrg-lft{margin-left:8px}
/* table td
{
width:250px;
} */

.tooltip-wrap {
  position: relative;
}
.tooltip-wrap .tooltip-content {
  display: none;
  position: absolute;
  bottom: 5%;
  left: -65%;
  right: 5%;
  background-color: #afff;
  padding: .15px;
  min-width: 10px;
}
.tooltip-wrap:hover .tooltip-content {
  display: block;
  height: 50px;
  width: 150px;
  
}

#myGrid2 .ag-row:first-child {
	border: 1px solid #007bff;
}

</style>
</head>
<body>
	<div layout:fragment="content" class="maincontent">
		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
					<div class="content_padding" id="mainId">
					
					<div class="row">
								<div class="col-md-4 ">
									<h3>PROJECTS</h3>
								</div>
			
							</div>

							<div id="myGrid2" style="width: 100%; height: 200px;"
								class="ag-theme-alpine"></div>
								<div style="width: 100%; height: 50px;"
								class="ag-theme-alpine"></div>
					
						<div class="row">
							<div class="col-md-9">
								<!-- <div class="rightsec_titleone padding_5" id="yearDiv"></div> -->
							</div>
							<div class="col-md-3">
								<div class="buttonsec">
									<button class="btn4" id="download">Download</button>
									<button class="btn1" id="saveBudgetPlan">Save</button>
									<button class="btn4" id="cancel">Cancel</button>

								</div>
							</div>

						</div>
						<!-- <div class="row" id ="drpdowndetails">
						 <div class="col-md-2">
						<div class="form-group">
							  <label>Category</label>
							  <div class="select">
									<select id="attndyear" class="form-control">
										<option th:each="c,iter:${yearList}" th:value="${c.name}"
											th:text="${c.name}"></option> 
									</select>
								</div>
							</div>
						</div>
						<div class="col-md-2">
						<div class="form-group">
							  <label>Sub-Category</label>
							  <div class="select">
									<select id="attndyear" class="form-control">
										<option th:each="c,iter:${yearList}" th:value="${c.name}"
											th:text="${c.name}"></option>
									</select>
								</div>
							</div>
						</div>
						<div class="col-md-2">
						<div class="form-group">
							  <label>Project Name/Code</label>
							  <div class="select">
									<select id="attndyear" class="form-control">
										<option th:each="c,iter:${yearList}" th:value="${c.name}"
											th:text="${c.name}"></option>
									</select>
								</div>
							</div>
						</div>
						<div class="col-md-2">
						<div class="form-group">
							  <label>Project Location</label>
							  <div class="select">
									<select id="attndyear" class="form-control">
										<option th:each="c,iter:${yearList}" th:value="${c.name}"
											th:text="${c.name}"></option>
									</select>
								</div>
							</div>
						</div>
						<div class="col-md-2">
						<div class="form-group">
							  <label>Project-In-Charge/Manager</label>
							  <div class="select">
									<select id="attndyear" class="form-control">
										<option th:each="c,iter:${yearList}" th:value="${c.name}"
											th:text="${c.name}"></option>
									</select>
								</div>
							</div>
						</div>
						<div class="col-md-2">
						<div class="form-group">
							  <label>Owner</label>
							  <div class="select">
									<select id="attndyear" class="form-control">
										<option th:each="c,iter:${yearList}" th:value="${c.name}"
											th:text="${c.name}"></option>
									</select>
								</div>
							</div>
						</div> 
						
						</div> -->
						
						<div id="mySidenav" class="sidenav">
							<div class="slidebox">
								<div class="row">
									<div class="chartbtnsec">
										<div align="right">
											<button class="btn3" onclick="closeNav()">CANCEL</button>
											<button class="btn1" id="saveTableData"
												onclick="saveTableData()">SAVE</button>

										</div>
									</div>
									<div class="col-lg-6">
										<input type="hidden" id="budgetId">
										<div class="form-group">
											<label>Phase/Task Name</label>

											<div class="select">
												<select class="" id="phasetask"
													onblur="removeValid(event);">
													<option value="">Select</option>
													<option value="">Manpower</option>
													<option value="">Hiring of equipment and machineries</option>
													<option value="">Purchase tools and tackles</option>
													<!-- <option th:each="c,iter:${budgetCategoryList}"
														th:value="${c.key}" th:text="${c.name}"></option> -->
												</select>
											</div>
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Start Date</label> <input type="date" id="sdate"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>End Date</label> <input type="date" id="edate"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Assigned To</label> <input type="text" id="assign"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Type</label> <input type="text" id="type"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Quantity Needed</label> <input type="text" id="qty"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Planned Hours</label> <input type="text" id="planned"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Actual Hours</label> <input type="text" id="actual"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Requision Date</label> <input type="date" id="reqdate"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Need Date</label> <input type="date" id="ndate"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>File Attach</label> <input type="text" id="file"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Requision Id</label> <input type="text" id="reqid"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-12">
										<div class="form-group">
											<label>Notes</label> 
												<textarea id="note" class="form-control"></textarea>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="row">
							<div class="col-lg-12">
								<input type="hidden" id="hiddenYear"> <input
									type="hidden" id="hiddenMonthDataset">
								<table id="basic" width="100%" border="1">
									<thead id="theadData">
										<th class="firstnode">Phase/Task Name</th>
										<th width="100">Start Date</th>
										<th width="100">End Date</th>
										<th>Assigned To</th>
										<th width="100">Type</th>
										<th>Quantity Needed</th>
										<th>Planned Hours</th>
										<th>Actual Hours</th>
										<th>Requisition date</th>
										<th width="100">Need Date</th>
										<th>File Attach</th>
										<th>Requisition Id</th>
										<th>Notes</th>
										<th>Action</th>
									</thead>
									<tbody id="tbodyData12">
										<tr data-node-id="1" class="abc" id="1">
											<td class="firstnode">1 -Manpower
												<span class="mrg-lft"><i class="fa fa-plus" onclick="openNavAddActivity()"></i></span> <span><i class="fa fa-edit"></i></span></td>
											<td></td>
											<td></td>
											<td></td>
											<td></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td></td>
											<td></td>
											<td></td>
											<td></td>
											<td></td>
											<td class="text-center"><span><i class="fa fa-tasks" onclick="OpenNav2()"></i></span></td>
										</tr>
										<tr data-node-id="1.1" data-node-pid="1" class="abc" id="1.1">
											<td class="firstnode">1.1 - Painting<span class="mrg-lft"><i class="fa fa-plus" onclick="openNavAddActivity()"></i></span> <span><i class="fa fa-edit"></i></span></td>
											<td>06-May-23</td>
											<td>06-May-23</td>
											<td>Shradha panda</td>							
											<td></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>								
											<td></td>								
											<td></td>								
											<td></td>								
											<td></td>								
											<td><div class="tooltip-wrap">
												  25% complete
												    colour  used:red and yellow
												  <div class="tooltip-content">
												    25% complete
												    colour  used:red and yellow
												  </div> 
												</div></td>	
											<td class="text-center"><span><i class="fa fa-tasks"></i></span></td>							
										</tr>
										<tr data-node-id="1.2" data-node-pid="1"
											class="abc simple-tree-table-empty" id="1.2">
											<td class="firstnode">1.2 - fabrication <span class="mrg-lft"><i class="fa fa-plus" onclick="openNavAddActivity()"></i></span> <span><i class="fa fa-edit"></i></span></td>
											<td>06-May-23</td>
											<td>06-May-23</td>
											<td>Shradha panda</td>
											<td></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>									
											<td></td>									
											<td></td>									
											<td></td>									
											<td></td>									
											<td><div class="tooltip-wrap">
												  25% complete
												  <div class="tooltip-content">
												    25% complete
												  </div> 
												</div></td>	
											<td class="text-center"><span><i class="fa fa-tasks"></i></span></td>									
										</tr>
										<tr data-node-id="1.3" data-node-pid="1"
											class="abc simple-tree-table-empty" id="1.3">
											<td class="firstnode">1.3 - Erection <span class="mrg-lft"><i class="fa fa-plus" onclick="openNavAddActivity()"></i></span> <span><i class="fa fa-edit"></i></span></td>
											<td>06-May-23</td>
											<td>06-May-23</td>
											<td>Shradha panda</td>
											<td></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td></td>
											<td></td>
											<td></td>
											<td></td>
											<td><div class="tooltip-wrap">
												  5 pillar erected 
												    3 left
												  <div class="tooltip-content">
												    5 pillar erected 
												    3 left
												  </div> 
												</div></td>
											<td class="text-center"><span><i class="fa fa-tasks"></i></span></td>
										</tr>
										<tr data-node-id="1.4" data-node-pid="1"
											class="abc simple-tree-table-empty" id="1.4">
											<td class="firstnode">1.4 -Stud Welding <span class="mrg-lft"><i class="fa fa-plus" onclick="openNavAddActivity()"></i></span> <span><i class="fa fa-edit"></i></span></td>
											<td>06-May-23</td>
											<td>06-May-23</td>
											<td>Shradha panda</td>
											<td></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td></td>
											<td></td>
											<td></td>
											<td></td>
											<td><div class="tooltip-wrap">
												  36% complete
												  <div class="tooltip-content">
												    36% complete
												  </div> 
												</div></td>	
											<td class="text-center"><span><i class="fa fa-tasks"></i></span></td>
									</tr>
									<tr data-node-id="1.5" data-node-pid="1"
											class="abc simple-tree-table-empty" id="1.5">
											<td class="firstnode">1.5 -Sheeting/Decking<span class="mrg-lft"><i class="fa fa-plus" onclick="openNavAddActivity()"></i></span> <span><i class="fa fa-edit"></i></span></td>
											<td>06-May-23</td>
											<td>06-May-23</td>
											<td>Shradha panda</td>
											<td></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td></td>
											<td></td>
											<td></td>
											<td></td>
											<td><div class="tooltip-wrap">
												  task completed
												  <div class="tooltip-content">
												    task completed
												  </div> 
												</div></td>	
											<td class="text-center"><span><i class="fa fa-tasks"></i></span></td>
								</tr>
								<tr data-node-id="1.6" data-node-pid="1"
											class="abc simple-tree-table-empty" id="1.6">
											<td class="firstnode">1. -Civil Work<span class="mrg-lft"><i class="fa fa-plus" onclick="openNavAddActivity()"></i></span> <span><i class="fa fa-edit"></i></span></td>
											<td>06-May-23</td>
											<td>06-May-23</td>
											<td>Shradha panda</td>
											<td></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td></td>
											<td></td>
											<td></td>
											<td></td>
											<td><div class="tooltip-wrap">
												  95% complete
												  <div class="tooltip-content">
												    95% complete
												  </div> 
												</div></td>	
											<td class="text-center"><span><i class="fa fa-tasks"></i></span></td>
							</tr>
							<tr data-node-id="1.7" data-node-pid="1"
											class="abc simple-tree-table-empty" id="1.7">
											<td class="firstnode">1.7 -Electrical Work<span class="mrg-lft"><i class="fa fa-plus" onclick="openNavAddActivity()"></i></span> <span><i class="fa fa-edit"></i></span></td>
											<td>06-May-23</td>
											<td>06-May-23</td>
											<td>Shradha panda</td>
											<td></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td></td>
											<td></td>
											<td></td>
											<td></td>
											<td><div class="tooltip-wrap">
												  complete
												  <div class="tooltip-content">
												    complete
												  </div> 
												</div></td>	
											<td class="text-center"><span><i class="fa fa-tasks"></i></span></td>
						</tr>
						
											<tr data-node-id="1.8" data-node-pid="1"
											class="abc simple-tree-table-empty" id="1.8">
											<td class="firstnode">1.8 -Dismantling <span class="mrg-lft"><i class="fa fa-plus" onclick="openNavAddActivity()"></i></span> <span><i class="fa fa-edit"></i></span></td>
											<td>06-May-23</td>
											<td>06-May-23</td>
											<td>Shradha panda</td>
											<td></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td></td>
											<td></td>
											<td></td>
											<td></td>
											<td><div class="tooltip-wrap">
												  25% complete
												  <div class="tooltip-content">
												    25% complete
												  </div> 
												</div></td>	
											<td class="text-center"><span><i class="fa fa-tasks"></i></span></td>
										</tr>
										<tr data-node-id="1.9" data-node-pid="1"
											class="abc simple-tree-table-empty" id="1.9">
											<td class="firstnode">1.9 -Labour Supply<span class="mrg-lft"><i class="fa fa-plus" onclick="openNavAddActivity()"></i></span> <span><i class="fa fa-edit"></i></span></td>
											<td>06-May-23</td>
											<td>06-May-23</td>
											<td>Shradha panda</td>
											<td></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td class="txt-rt"></td>
											<td></td>
											<td></td>
											<td></td>
											<td></td>
											<td><div class="tooltip-wrap">
												  in process
												  <div class="tooltip-content">
												    in process
												  </div> 
												</div></td>	
											<td class="text-center"><span><i class="fa fa-tasks"></i></span></td>
									</tr>
										
									</tbody>
								</table>
							</div>
						</div>
<div class="row">
						<div class="col-md-12">
								<div class="buttonsec">
									<button class="btn1" id="addgrid" onclick="AddNav3()">add</button>
									<button class="btn4" id="cancelgrid" onclick="CloseNav2()">Cancel</button>

								</div>
							</div>
							</div>
						<div id="myGrid" style="width: 100%; height: 150px;"
							class="ag-theme-alpine"></div> 
							<div style="width: 100%; height: 50px;"
								class="ag-theme-alpine"></div>
							
						<div id="mySidenav2" class="sidenav">
							<div class="slidebox">
								<div class="row">
									<div class="chartbtnsec">
										<div align="right">
											<button class="btn3" onclick="closeNav3()">CANCEL</button>
											<button class="btn1" id="saveTableData"
												onclick="saveTableData()">SAVE</button>

										</div>
									</div>
									<div class="col-lg-6">
										<input type="hidden" id="slno">
										<div class="form-group">
											<label>Planned Start Date</label> <input type="date" id="psdate"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Planned End Date</label> <input type="date" id="pedate"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Actual Start Date</label> <input type="date" id="asdate"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Actual End Date</label> <input type="date" id="aedate"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Phase/Task Name</label>

											<div class="select">
												<select class="" id="phasetask"
													onblur="removeValid(event);">
													<option value="">Select</option>
													<option value="">Manpower</option>
													<option value="">Hiring of equipment and machineries</option>
													<option value="">Purchase tools and tackles</option>
													<!-- <option th:each="c,iter:${budgetCategoryList}"
														th:value="${c.key}" th:text="${c.name}"></option> -->
												</select>
											</div>
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Assigned To</label> <input type="text" id="assign"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Type</label> <input type="text" id="type"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Quantity Needed</label> <input type="text" id="qtyneed"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Quantity Recieved</label> <input type="text" id="qtyrecieve"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Planned Hours</label> <input type="text" id="planned"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>Actual Hours</label> <input type="text" id="actual"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-6">
										<div class="form-group">
											<label>File Attachment</label> <input type="text" id="file"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-12">
										<div class="form-group">
											<label>Notes</label> 
												<textarea id="note" class="form-control"></textarea>
										</div>
									</div>
								</div>
							</div>
						</div>
						
						<div class="row">
							<div class="col-md-12">
								<div class="buttonsec">
										<button class="btn1" id="addgrid2" onclick="AddNav2()">add</button>
										<button class="btn4" id="cancelgrid2" onclick="CloseNav2()">Cancel</button>
	
									</div>
								</div>
							</div>
						<div id="myGrid1" style="width: 100%; height: 500px;"
							class="ag-theme-alpine"></div> 
							<div style="width: 100%; height: 50px;"
								class="ag-theme-alpine"></div>
							
							<div id="mySidenav3" class="sidenav">
							<div class="slidebox">
								<div class="row">
									<div class="chartbtnsec">
										<div align="right">
											<button class="btn3" onclick="closeNav4()">CANCEL</button>
											<button class="btn1" id="saveTableData"
												onclick="saveTableData()">SAVE</button>

										</div>
									</div>
									<div class="col-lg-12">
										<div class="form-group">
											<label>Sl no.</label> <input type="text" id="slno"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-12">
										<div class="form-group">
											<label>Start Date</label> <input type="date" id="sdate"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-12">
										<div class="form-group">
											<label>End Date</label> <input type="date" id="edate"
												class="form-control">
										</div>
									</div>
									
									<div class="col-lg-12">
										<div class="form-group">
											<label>Phase/Task Name</label>

											<div class="select">
												<select class="" id="phasetask"
													onblur="removeValid(event);">
													<option value="">Select</option>
													<option value="">Manpower</option>
													<option value="">Hiring of equipment and machineries</option>
													<option value="">Purchase tools and tackles</option>
													<!-- <option th:each="c,iter:${budgetCategoryList}"
														th:value="${c.key}" th:text="${c.name}"></option> -->
												</select>
											</div>
										</div>
									</div>
									<div class="col-lg-12">
										<div class="form-group">
											<label>Assigned To</label> <input type="text" id="assign"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-12">
										<div class="form-group">
											<label>Quantity Needed</label> <input type="text" id="qtyneed"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-12">
										<div class="form-group">
											<label>Quantity Recieved</label> <input type="text" id="qtyrecieve"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-12">
										<div class="form-group">
											<label>Planned Hours</label> <input type="text" id="planned"
												class="form-control">
										</div>
									</div>
									<div class="col-lg-12">
										<div class="form-group">
											<label>Notes</label> 
												<textarea id="note" class="form-control"></textarea>
										</div>
									</div>
								</div>
							</div>
						</div>
						
					</div>

				</div>
			</div>
		</div>
	</div>
</body>
</html>