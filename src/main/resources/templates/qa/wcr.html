<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">
<head>
<style type="text/css">
.highcharts-exporting-group {
	display: none;
}

.slidebox {
	padding: 14px;
	margin-top: 0px;
	margin: 0px 10px;
}

/* .form-group label {
	font-size: 12px;
	position: relative;
	top: 4px;
} */
.holdCls {
	background-color: rgb(0, 143, 0);
}

.bg_white {
	background: #ffffff !important;
}

.totalHour, .Anything {
	border: 1px solid #ddd;
	border-radius: 2px;
	background-color: #f5f5f5;
	padding: 10px;
	font-size: 12px;
	color: #333;
	transition: border-color 0.3s ease-in-out;
	width: 111px;
	height: 23px;
}

.form-control1 {
	font-family: 'Montserrat', sans-serif;
	font-size: 14px;
	color: black;
	background-color: transparent;
	background-clip: padding-box;
	border-top: none;
	border-left: none;
	border-right: none;
	border-bottom: 1px solid #b1abab;
	transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;
	line-height: 30px;
	border-radius: 0;
	padding: 0;
	margin-left: 8px;
}

.totalHour1 {
	border: 1px solid #ddd;
	border-radius: 2px;
	border-top: none;
	border-left: none; 
	border-right: none;
	padding: 10px;
	font-size: 12px;
	color: #333;
	/* transition: border-color 0.3s ease-in-out; */
	width: 285px;
	height: 23px;
}
</style>

<script type="text/javascript">

	$(document).ready(function() {
		var gridDiv = document.querySelector('#myGrid');
		new agGrid.Grid(gridDiv, gridOptions);
		agGrid.simpleHttpRequest({
			url : 'wcr-details-view'
		}).then(function(data) {
			var jsonData = JSON.parse(data.body[0]);
			var allData=jsonData.view;
			console.log(allData)
			var len = allData.length;
			$('#totalReq').find('span').html(len);
			gridOptions.api.setRowData(allData);
		});
		var gridDiv = document.querySelector('#activity');
		new agGrid.Grid(gridDiv, activityOptions);
		var gridDiv = document.querySelector('#activity1');
		new agGrid.Grid(gridDiv, activityOptions1);
		var gridDiv = document.querySelector('#activity2');
		new agGrid.Grid(gridDiv, activityOptions2);
		var gridDiv = document.querySelector('#activity3');
		new agGrid.Grid(gridDiv, activityOptions3);
		//activityOptions.api.setRowData();
		$('#reqDltBtn').attr('disabled', true);
		$('#assignBtn').attr('disabled', true);
		$('#deleteChild').attr('disabled', true);
		$('.collapse').on('show.bs.collapse', function() {
			$(this).siblings('.panel-heading').addClass('active');
		});

		$('.collapse').on('hide.bs.collapse', function() {
			$(this).siblings('.panel-heading').removeClass('active');
		});
		$("#newBtn").click(function() {

		})
		
		var dateFormat = localStorage.getItem("dateFormat");
$("#DateCalendar1").datetimepicker({
	format : dateFormat,
	closeOnDateSelect : true,
	timepicker : false,
}).on("change", function() {
	$('#sdate').val($(this).val());
})

$('#sdate').blur(function() {
	$("#DateCalendar1").val($(this).val());
})

var dateFormat = localStorage.getItem("dateFormat");
		$("#DateCalendar2").datetimepicker({
			format : dateFormat,
			closeOnDateSelect : true,
			timepicker : false,
		}).on("change", function() {
			$('#edate').val($(this).val());
		})

		$('#edate').blur(function() {
			$("#DateCalendar2").val($(this).val());
		})
		
		var dateFormat = localStorage.getItem("dateFormat");
		$("#DateCalendar3").datetimepicker({
			format : dateFormat,
			closeOnDateSelect : true,
			timepicker : false,
		}).on("change", function() {
			$('#pdate').val($(this).val());
		})

		$('#pdate').blur(function() {
			$("#DateCalendar3").val($(this).val());
		})


	});
	
	
	
	/* -------------------search bar for mygrid------------------------ */

	function onQuickFilterChanged() {
		gridOptions.api
				.setQuickFilter(document.getElementById('quickFilter').value);
	}

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";

		if ($('#quickFilter').val() == null || $('#quickFilter').val() == "") {
			id.style.display = "none";
		}
	}
	var columnDefs = [
		{
			headerCheckboxSelection : false,
			headerCheckboxSelectionFilteredOnly : false,
			checkboxSelection : true,
			width : 10,
			sortable : false,
			filter : false,
			resizable : true,
			pinned: 'left',
		},
		{
			headerName : 'WCR Id',
			width : 150,
			pinned: 'left',
			field : "wcrId",
				cellRenderer : function(params) {
				return '<a id="pcroId" onclick=editWcr("'
				+params.data.wcrId + '","' + params.data.apstatus
				+ '") href="javascript:void(0)">'
				+ params.data.wcrId + '</a>';

			}

		}, {
			headerName : 'Date',
			field : "date",
			cellStyle : {
				textAlign : 'center'
			}
		}, {
			headerName : 'Shift',
			field : "shift",
			cellStyle : {
				textAlign : 'center'
			}
		},  {
			headerName : 'Product',
			field : "product",
			width: 300
		},  {
			headerName : 'Packing (sku)',
			field : "packing",
			cellStyle : {
				textAlign : 'center'
			}
		}, {
			headerName : 'Approve Status',
			field : "apstatus",
			cellStyle : {
				textAlign : 'center'
			},cellRenderer : function(params) {
				if(params.data.apstatus == 'Approved'){
					return '<div style="color:#0642f5">Approved</div>';
				}else{
					return '<div style="color:#a9a9a9">Pending</div>';
				}
			}
		},  {
			headerName : 'Approved By',
			field : "approvedBy",
			cellStyle : {
				textAlign : 'center'
			}
		},{
			headerName : 'PDF',
			field : "downloaddoc",
			cellStyle : {
				textAlign : 'center'
			},cellRenderer : function(params) {
				if(params.data.apstatus=='Approved'){
					return '<a id="pcroId" onclick=wcrPdfDownload("'
					+params.data.wcrId
					+ '") href="javascript:void(0)"><i class="bi bi-cloud-download">Download</i></a>';
				}else{
					return '';
				}
				

			}
		}];

// let the grid know which columns and what data to use
var gridOptions = {
	columnDefs : columnDefs,
	rowSelection : 'single',
	groupSelectsChildren : true,
	suppressRowClickSelection : true,
	suppressAggFuncInHeader : true,
	defaultColDef : {
		sortable : true,
		filter : true,
		resizable : true,
		width : 150
	},
	onSelectionChanged : onSelectionChanged,
};
//function for row select parents
var id = "";
var apstatus="";
function onSelectionChanged() {
	var selectedNodes = gridOptions.api.getSelectedNodes();
	 var selectedData = selectedNodes.map(node => node.data);
	 id= selectedData.map(node => node.wcrId);
	 apstatus=selectedData.map(node => node.apstatus);
	var selectedRows = gridOptions.api.getSelectedRows();
	var rowCount = 0;
	selectedRows.forEach(function(i) {
		rowCount = rowCount + 1;
	});
	if (rowCount > 0) {
		if(apstatus=='Approved'){
			$('#reqDltBtn').attr("disabled", true);
			$('#assignBtn').attr("disabled", true);
			$('#newBtn').attr('disabled', true);
		}else{
		$('#newBtn').attr('disabled', true);
		$('#reqDltBtn').attr("disabled", false);
		$('#assignBtn').attr("disabled", false);
		}
	}else {
		$('#reqDltBtn').attr("disabled", true);
		$('#assignBtn').attr("disabled", true);
		$('#newBtn').attr('disabled', false);
	}
}
// for activity table
window.index=-1;
var activityDefs = [
		{
			headerName : "HOURS",
			field : "details",
			pinned: 'left',
			cellRenderer : function(params) {
					return params.data.details;
			}
		}, {
			headerName : "1st Hour",
			field : "s2",
			cellRenderer : function(params) {
				if(params.rowIndex==0){
					return '<input type="number" class="Anything"  value="'+params.data.s2+'" min="0" id="'+"s2"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
				}else{
					return '<input type="number" class="totalHour" oninput="findMinMax()" name="numHour" value="'+params.data.s2+'" min="0" id="'+"s2"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
				}
					
			}
			},{
			headerName : "2nd Hour",
			field : "s3",
			cellRenderer : function(params) {
				if(params.rowIndex==0){
					return '<input type="number" class="Anything"   value="'+params.data.s3+'" min="0" id="'+"s3"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
				}else{
					return '<input type="number" class="totalHour" oninput="findMinMax()" name="numHour" value="'+params.data.s3+'" min="0" id="'+"s3"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
				}
					
			}
			},{
				headerName : "3rd Hour",
				field : "s4",
				cellRenderer : function(params) {
					if(params.rowIndex==0){
						return '<input type="number" class="Anything"   value="'+params.data.s4+'" min="0" id="'+"s4"+(parseInt(params.data.s0)-1)+'">';
					}else{
						return '<input type="number" class="totalHour" oninput="findMinMax()" name="numHour" value="'+params.data.s4+'" min="0" id="'+"s4"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
					}
						
				}
		},{
			headerName : "4th Hour",
			field : "s5",
			cellRenderer : function(params) {
				if(params.rowIndex==0){
					return '<input type="number" class="Anything"   value="'+params.data.s5+'" min="0" id="'+"s5"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
				}else{
					return '<input type="number" class="totalHour" oninput="findMinMax()" name="numHour" value="'+params.data.s5+'" min="0" id="'+"s5"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
				}
					
			}
	},{
		headerName : "5th Hour",
		field : "s6",
		cellRenderer : function(params) {
			if(params.rowIndex==0){
				return '<input type="number" class="Anything"  value="'+params.data.s6+'" min="0" id="'+"s6"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
			}else{
				return '<input type="number" class="totalHour" oninput="findMinMax()" name="numHour" value="'+params.data.s6+'" min="0" id="'+"s6"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
			}
				
		}
}
	,{
		headerName : "6th Hour",
		field : "s7",
		cellRenderer : function(params) {
			if(params.rowIndex==0){
				return '<input type="number" class="Anything"  value="'+params.data.s7+'" min="0" id="'+"s7"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
			}else{
				return '<input type="number" class="totalHour" oninput="findMinMax()" name="numHour" value="'+params.data.s7+'" min="0" id="'+"s7"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
			}
				
		}
}
	,{
		headerName : "7th Hour",
		field : "s8",
		cellRenderer : function(params) {
			if(params.rowIndex==0){
				return '<input type="number" class="Anything"  value="'+params.data.s8+'" min="0" id="'+"s8"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
			}else{
				return '<input type="number" class="totalHour" oninput="findMinMax()" name="numHour" value="'+params.data.s8+'" min="0" id="'+"s8"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
			}
				
		}
}
	,{
		headerName : "8th Hour",
		field : "s9",
		cellRenderer : function(params) {
			if(params.rowIndex==0){
				return '<input type="number" class="Anything"  value="'+params.data.s9+'" min="0" id="'+"s9"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
			}else{
				return '<input type="number" class="totalHour" oninput="findMinMax()" name="numHour" value="'+params.data.s9+'" min="0" id="'+"s9"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
			}
				
		}
},{
	headerName : "4th Hour",
	field : "s10",
	cellRenderer : function(params) {
		if(params.rowIndex==0){
			return '<input type="number" class="Anything"  value="'+params.data.s10+'" min="0" id="'+"s10"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
		}else{
			return '<input type="number" class="totalHour" oninput="findMinMax()" name="numHour" value="'+params.data.s10+'" min="0" id="'+"s10"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
		}
			
	}
},{
	headerName : "7th Hour",
	field : "s11",
	cellRenderer : function(params) {
		if(params.rowIndex==0){
			return '<input type="number" class="Anything" value="'+params.data.s11+'" min="0" id="'+"s11"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
		}else{
			return '<input type="number" class="totalHour" oninput="findMinMax()" name="numHour" value="'+params.data.s11+'" min="0" id="'+"s11"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
		}
			
	}
}];


//let the grid know which columns and what data to use product table
var activityOptions = {
	columnDefs : activityDefs,
	rowSelection : 'single',
	groupSelectsChildren : true,
	suppressRowClickSelection : true,
	suppressAggFuncInHeader : true,
	defaultColDef : {
		sortable : true,
		filter : true,
		resizable : true,
		width : 128
	}
};
var activityDefs1 = [
	{
		headerName : "Defects",
		field : "details",
		cellRenderer : function(params) {
			return '<div style="color:black; font-weight: bold;">'+(params.data.details).toUpperCase()+'</div>'; 
				
		}
	}, {
		headerName : "Red",
		field : "red",
		cellRenderer : function(params) {
				return '<input type="text" class="totalHour1"  value="'+params.data.red+'" placeholder="Enter Quantity" id="'+"red1"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
		}
		},{
		headerName : "Amber",
		field : "amber",
		cellRenderer : function(params) {
				return '<input type="text" class="totalHour1"  value="'+params.data.amber+'"  placeholder="Enter Quantity" id="'+"amber1"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
		}		
}];


//let the grid know which columns and what data to use product table
var activityOptions1 = {
columnDefs : activityDefs1,
rowSelection : 'single',
groupSelectsChildren : true,
suppressRowClickSelection : true,
suppressAggFuncInHeader : true,
defaultColDef : {
	sortable : true,
	filter : true,
	resizable : true,
	width : 300
}
};
var activityDefs2 = [
	{
		headerName : "Defects",
		field : "details",
		cellRenderer : function(params) {
			return '<div style="color:black; font-weight: bold;">'+(params.data.details).toUpperCase()+'</div>'; 
				
		}
	}, {
		headerName : "Red",
		field : "red",
		cellRenderer : function(params) {
				return '<input type="text" class="totalHour1"  value="'+params.data.red+'"  placeholder="Enter Quantity" id="'+"red2"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
		}
		},{
		headerName : "Amber",
		field : "amber",
		cellRenderer : function(params) {
				return '<input type="text" class="totalHour1"  value="'+params.data.amber+'"  placeholder="Enter Quantity" id="'+"amber2"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
		}		
}];


//let the grid know which columns and what data to use product table
var activityOptions2 = {
columnDefs : activityDefs2,
rowSelection : 'single',
groupSelectsChildren : true,
suppressRowClickSelection : true,
suppressAggFuncInHeader : true,
defaultColDef : {
	sortable : true,
	filter : true,
	resizable : true,
	width : 300
}
};
var activityDefs3 = [
	{
		headerName : "Defects",
		field : "details",
		cellRenderer : function(params) {
				return '<div style="color:black; font-weight: bold;">'+(params.data.details).toUpperCase()+'</div>'; 
		}
	}, {
		headerName : "Red",
		field : "red",
		cellRenderer : function(params) {
				return '<input type="text" class="totalHour1"  value="'+params.data.amber+'"  placeholder="Enter Quantity" id="'+"red3"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
		}
		},{
		headerName : "Amber",
		field : "amber",
		cellRenderer : function(params) {
				return '<input type="text" class="totalHour1"  value="'+params.data.amber+'"  placeholder="Enter Quantity" id="'+"amber3"+(parseInt(params.data.s0)-1)+'" onkeydown="handleTextFieldKeyDown(event)">';
		}		
}];


//let the grid know which columns and what data to use product table
var activityOptions3 = {
columnDefs : activityDefs3,
rowSelection : 'single',
groupSelectsChildren : true,
suppressRowClickSelection : true,
suppressAggFuncInHeader : true,
defaultColDef : {
	sortable : true,
	filter : true,
	resizable : true,
	width : 300
}
};
//function for row select parents
var childid = "";
function onSelectionChangeChild() {
	 var selectedNodes = activityOptions.api.getSelectedNodes();
	 var selectedData = selectedNodes.map(node => node.data);
	 childid= selectedData.map(node => node.slnoId);
	var selectedRows = activityOptions.api.getSelectedRows();
	var rowCount = 0;
	selectedRows.forEach(function(i) {
		rowCount = rowCount + 1;
	});
	if (rowCount > 0) {
		$('#newchild').attr('disabled', true);
		$('#deleteChild').attr('disabled', false);
	}else{
		$('#newchild').attr('disabled', false);
		$('#deleteChild').attr('disabled', true);
	}
}

//parents new plan
function newPlan() {
	
    /* var currentDate = new Date();
    var formattedDate = currentDate.getDate() + "-" + (currentDate.getMonth() + 1) + "-" + currentDate.getFullYear(); */
    var date1 = (new Date()).toISOString().split('T')[0];
	var newDate = changeDateFormat(date1);
    $('#pdate').val(newDate);
	$("#myGrid").hide();
	$("#reqTable").hide();
	$(".btn-hs").show();
	$("#btndiv").hide();
	$("#listdiv").hide();
	$("#totalReq").hide();
	$("#searchRowDiv").hide();
	$("#ttbtn").hide();
	$("#demo").show();
	$("#deleteChild").attr('disabled', true);
	$("#newchild").attr('disabled', false);
	
		$("#wcrBox").html("");
		$("#wcrId").val("");
		$("#shift").val("");
		$("#production").val("");
		$("#packing").val("");
		
		$("#leakers1").val("");
		$("#leakers2").val("");
		$("#leakers3").val("");
		$("#leakers4").val("");
		$("#leakers5").val("");
		$("#leakers6").val("");
		$("#leakers7").val("");
		$("#leakers8").val("");
		$("#leakers9").val("");
		$("#leakers10").val("");
		
		$("#noOfPouch1").val("");
		$("#noOfPouch2").val("");
		$("#noOfPouch3").val("");
		$("#noOfPouch4").val("");
		$("#noOfPouch5").val("");
		$("#noOfPouch6").val("");
		$("#noOfPouch7").val("");
		$("#noOfPouch8").val("");
		$("#noOfPouch9").val("");
		$("#noOfPouch10").val("");
		
		$("#minwt").val("");
		$("#maxwt").val("");
		$("#avgwt").val("");
		$("#sd").val("");
		
		
		$("#sampleSizePouch").val();
		$("#sampleSizePowder").val();
		
	showGridRow();
}
//function for cancel
function cancel() {
	window.index=-1;
	 $(".formValidation").remove();
		$("#totalReq").show();
		$("#searchRowDiv").show();
		$(".btn-hs").show();
		$("#myGrid").show();
		$("#demo").hide();
		$("#reqDltBtn").attr('disabled', true);
		$("#assignBtn").attr('disabled', true);
		$("#newBtn").attr('disabled', false);
		agGrid.simpleHttpRequest({
			url : 'wcr-details-view'
		}).then(function(data) {
			var jsonData = JSON.parse(data.body[0]);
			var allData=jsonData.view;
			console.log(allData)
			var len = allData.length;
			$('#totalReq').find('span').html(len);
			gridOptions.api.setRowData(allData);
		});
		
		$("#wcrBox").html("");
		$("#wcrId").val("");
		$("#shift").val("");
		$("#production").val("");
		$("#packing").val("");
		
		$("#leakers1").val("");
		$("#leakers2").val("");
		$("#leakers3").val("");
		$("#leakers4").val("");
		$("#leakers5").val("");
		$("#leakers6").val("");
		$("#leakers7").val("");
		$("#leakers8").val("");
		$("#leakers9").val("");
		$("#leakers10").val("");
		
		$("#noOfPouch1").val("");
		$("#noOfPouch2").val("");
		$("#noOfPouch3").val("");
		$("#noOfPouch4").val("");
		$("#noOfPouch5").val("");
		$("#noOfPouch6").val("");
		$("#noOfPouch7").val("");
		$("#noOfPouch8").val("");
		$("#noOfPouch9").val("");
		$("#noOfPouch10").val("");
		
		$("#minwt").val("");
		$("#maxwt").val("");
		$("#avgwt").val("");
		$("#sd").val("");
		
		
		$("#sampleSizePouch").val();
		$("#sampleSizePowder").val();
		
	}

//master save data
function masterSaveData() {
	$(".formValidation").remove();
	var valid= true;
	var datas = [];
	var i=-1;
	var rowCount = activityOptions.api.getDisplayedRowCount();
	if(rowCount > 0){
	activityOptions.api.forEachNode(function(rowNode, index) {
		i=i+1;
		var item = rowNode.data;
		
		console.log("index",index);
		
		item.type = "weight";
		item.s2 = parseInt($('#s2'+index).val());
		item.s3 = parseInt($("#s3"+index).val());
		item.s4 = parseInt($("#s4"+index).val());
		item.s5 = parseInt($("#s5"+index).val());
		item.s6 = parseInt($("#s6"+index).val());
		item.s7 = parseInt($("#s7"+index).val());
		item.s8 = parseInt($("#s8"+index).val());
		item.s9 = parseInt($("#s9"+index).val());
		item.s10 = parseInt($("#s10"+index).val());
		item.s11 = parseInt($("#s11"+index).val());
		console.log("rowNode",item);
		
		item.leakers1 = $('#leakers1').val();
		item.leakers2 = $('#leakers2').val();
		item.leakers3 = $('#leakers3').val();
		item.leakers4 = $('#leakers4').val();
		item.leakers5 = $('#leakers5').val();
		item.leakers6 = $('#leakers6').val();
		item.leakers7 = $('#leakers7').val();
		item.leakers8 = $('#leakers8').val();
		item.leakers9 = $('#leakers9').val();
		item.leakers10 = $('#leakers10').val();
		
		
		item.noOfPouch1 = parseInt($('#noOfPouch1').val());
		item.noOfPouch2 = parseInt($('#noOfPouch2').val());
		item.noOfPouch3 = parseInt($('#noOfPouch3').val());
		item.noOfPouch4 = parseInt($('#noOfPouch4').val());
		item.noOfPouch5 = parseInt($('#noOfPouch5').val());
		item.noOfPouch6 = parseInt($('#noOfPouch6').val());
		item.noOfPouch7 = parseInt($('#noOfPouch7').val());
		item.noOfPouch8 = parseInt($('#noOfPouch8').val());
		item.noOfPouch9 = parseInt($('#noOfPouch9').val());
		item.noOfPouch10 = parseInt($('#noOfPouch10').val());
		
		item.wcrId = $('#wcrId').val();
		
		item.pdate = $('#pdate').val();
		item.shift = $("#shift").val();
		item.production = $("#production").val();
		item.packing = $("#packing").val();
		
		item.minwt =$("#minwt").val();
		item.maxwt =$("#maxwt").val();
		item.avgwt =$("#avgwt").val();
		item.sd =$("#sd").val();
		
		item.sampleSizePowder = $('#sampleSizePowder').val();
		item.sampleSizePouch = $('#sampleSizePouch').val();
		
		item.stt = $('#stt').val();
		
		if (item.shift == null || item.shift == "") {
			valid = validationUpdated("Shift is Required", "shift");
		 }
		if (item.production == null || item.production == "") {
			valid = validationUpdated("Chose a Product", "production");
		 }
		
        if(valid){
        	datas.push(item);
         }
	});
	activityOptions1.api.forEachNode(function(rowNode, index) {
		
		var item = rowNode.data;
		
		console.log("index",index);
		
		item.type = "pouches";
		item.red = $('#red1'+index).val();
		item.amber = $("#amber1"+index).val();
		
		console.log("rowNode",item);
		
		
		item.leakers1 = $('#leakers1').val();
		item.leakers2 = $('#leakers2').val();
		item.leakers3 = $('#leakers3').val();
		item.leakers4 = $('#leakers4').val();
		item.leakers5 = $('#leakers5').val();
		item.leakers6 = $('#leakers6').val();
		item.leakers7 = $('#leakers7').val();
		item.leakers8 = $('#leakers8').val();
		item.leakers9 = $('#leakers9').val();
		item.leakers10 = $('#leakers10').val();
		
		
		item.noOfPouch1 = parseInt($('#noOfPouch1').val());
		item.noOfPouch2 = parseInt($('#noOfPouch2').val());
		item.noOfPouch3 = parseInt($('#noOfPouch3').val());
		item.noOfPouch4 = parseInt($('#noOfPouch4').val());
		item.noOfPouch5 = parseInt($('#noOfPouch5').val());
		item.noOfPouch6 = parseInt($('#noOfPouch6').val());
		item.noOfPouch7 = parseInt($('#noOfPouch7').val());
		item.noOfPouch8 = parseInt($('#noOfPouch8').val());
		item.noOfPouch9 = parseInt($('#noOfPouch9').val());
		item.noOfPouch10 = parseInt($('#noOfPouch10').val());
		
		item.wcrId = $('#wcrId').val();
		
		item.sampleSizePouch = $('#sampleSizePouch').val();
		
		item.pdate = $('#pdate').val();
		item.shift = $("#shift").val();
		item.production = $("#production").val();
		item.packing = $("#packing").val();
		
		item.minwt =$("#minwt").val();
		item.maxwt =$("#maxwt").val();
		item.avgwt =$("#avgwt").val();
		item.sd =$("#sd").val();
		
	
		
        if(valid){
        	datas.push(item);
         }
	});
	activityOptions2.api.forEachNode(function(rowNode, index) {
		
		var item = rowNode.data;
		
		console.log("index",index);
		
		item.type = "powder";
		item.red = $('#red2'+index).val();
		item.amber = $("#amber2"+index).val();
		
		console.log("rowNode",item);
		
		
		item.leakers1 = $('#leakers1').val();
		item.leakers2 = $('#leakers2').val();
		item.leakers3 = $('#leakers3').val();
		item.leakers4 = $('#leakers4').val();
		item.leakers5 = $('#leakers5').val();
		item.leakers6 = $('#leakers6').val();
		item.leakers7 = $('#leakers7').val();
		item.leakers8 = $('#leakers8').val();
		item.leakers9 = $('#leakers9').val();
		item.leakers10 = $('#leakers10').val();
		
		
		item.noOfPouch1 = parseInt($('#noOfPouch1').val());
		item.noOfPouch2 = parseInt($('#noOfPouch2').val());
		item.noOfPouch3 = parseInt($('#noOfPouch3').val());
		item.noOfPouch4 = parseInt($('#noOfPouch4').val());
		item.noOfPouch5 = parseInt($('#noOfPouch5').val());
		item.noOfPouch6 = parseInt($('#noOfPouch6').val());
		item.noOfPouch7 = parseInt($('#noOfPouch7').val());
		item.noOfPouch8 = parseInt($('#noOfPouch8').val());
		item.noOfPouch9 = parseInt($('#noOfPouch9').val());
		item.noOfPouch10 = parseInt($('#noOfPouch10').val());
		
		item.wcrId = $('#wcrId').val();
		
		item.sampleSizePowder = $('#sampleSizePowder').val();
		
		item.pdate = $('#pdate').val();
		item.shift = $("#shift").val();
		item.production = $("#production").val();
		item.packing = $("#packing").val();
		
		item.minwt =$("#minwt").val();
		item.maxwt =$("#maxwt").val();
		item.avgwt =$("#avgwt").val();
		item.sd =$("#sd").val();
		
	
		
        if(valid){
        	datas.push(item);
         }
	});
	activityOptions3.api.forEachNode(function(rowNode, index) {
		
		var item = rowNode.data;
		
		console.log("index",index);
		
		item.type = "percentage";
		item.red = $('#red3'+index).val();
		item.amber = $("#amber3"+index).val();
		
		console.log("rowNode",item);
		
		
		item.leakers1 = $('#leakers1').val();
		item.leakers2 = $('#leakers2').val();
		item.leakers3 = $('#leakers3').val();
		item.leakers4 = $('#leakers4').val();
		item.leakers5 = $('#leakers5').val();
		item.leakers6 = $('#leakers6').val();
		item.leakers7 = $('#leakers7').val();
		item.leakers8 = $('#leakers8').val();
		item.leakers9 = $('#leakers9').val();
		item.leakers10 = $('#leakers10').val();
		
		
		item.noOfPouch1 = parseInt($('#noOfPouch1').val());
		item.noOfPouch2 = parseInt($('#noOfPouch2').val());
		item.noOfPouch3 = parseInt($('#noOfPouch3').val());
		item.noOfPouch4 = parseInt($('#noOfPouch4').val());
		item.noOfPouch5 = parseInt($('#noOfPouch5').val());
		item.noOfPouch6 = parseInt($('#noOfPouch6').val());
		item.noOfPouch7 = parseInt($('#noOfPouch7').val());
		item.noOfPouch8 = parseInt($('#noOfPouch8').val());
		item.noOfPouch9 = parseInt($('#noOfPouch9').val());
		item.noOfPouch10 = parseInt($('#noOfPouch10').val());
		
		item.wcrId = $('#wcrId').val();
		
		item.pdate = $('#pdate').val();
		item.shift = $("#shift").val();
		item.production = $("#production").val();
		item.packing = $("#packing").val();
		
		item.minwt =$("#minwt").val();
		item.maxwt =$("#maxwt").val();
		item.avgwt =$("#avgwt").val();
		item.sd =$("#sd").val();
		
	
        if(valid){
        	datas.push(item);
         }
	});
	if (valid) {
		savePlanDetails(datas);
		
		}
	} else {
		$("#messageParagraph").text(
		"Please Add Atleast One Plan Details");
		$("#msgOkModal").removeClass("btn3");
		$("#msgOkModal").addClass("btn1");
		$("#msgModal").modal('show');
	}
	console.log("data",datas);
}

function savePlanDetails(datas) {
	$('.loader').show();
	$.ajax({
		type : "POST",
		url : "wcr-details-add",
		dataType : "json",
		contentType : "application/json",
		data : JSON.stringify(datas),
		success : function(response) {
			$('.loader').hide();
			//var itemName = $("#itemname option:selected").text();
			if (response.code == "success") {
				cancel()
				$("#messageParagraph").text(response.message);
				$("#msgOkModal").removeClass("btn3");
				$("#msgOkModal").addClass("btn1");
				$("#msgModal").modal('show');
				 agGrid.simpleHttpRequest({
					url : 'wcr-details-view'
				}).then(function(data) {
					var jsonData = JSON.parse(data.body[0]);
					var allData=jsonData.view;
					console.log(allData)
					var len = allData.length;
					$('#totalReq').find('span').html(len);
					gridOptions.api.setRowData(allData);
				}); 
				
			} else {
				$('.loader').hide();
				$("#messageParagraph").text(response.message);
				$("#msgOkModal").removeClass("btn3");
				$("#msgOkModal").addClass("btn1");
				$("#msgModal").modal('show');
				
				$("#itemid").val('');
				$("#itemname").val('');
				$("#description").val('');
				//activityOptions.api.setRowData();
				showGridRow();
			}
		},
		error : function(data) {
			$('.loader').hide();
		}
	})

}
// save data in aggrid table sidenav save

function showGridRow() {
  var datas = [];
  var item = {};
  agGrid.simpleHttpRequest({
		url : 'wcr-shift-slno'
	}).then(function(data) {
		var jsonData = JSON.parse(data.body[0]);
		var allData=jsonData.Slno;
		activityOptions.api.setRowData(allData);
		
		var jsonData1 = JSON.parse(data.body[0]);
		var allData1 =jsonData1.pouchDfctDtls;
		activityOptions1.api.setRowData(allData1);
		
		var jsonData2 = JSON.parse(data.body[0]);
		var allData2=jsonData2.powderDfctDtls;
		activityOptions2.api.setRowData(allData2);
		
		var jsonData3 = JSON.parse(data.body[0]);
		var allData3=jsonData3.percentageDfctType;
		activityOptions3.api.setRowData(allData3);
	});
  
 
	
  
  
}


	// for editing child table of shift 
	function editRow(parameterId,parameterName,minRange,maxRange) {
		var rowNode = activityOptions.api.getRowNode(parameterId);
		openNav();
		$("#rowEdit").val(parameterId);
		$("#parameterId").val(rowNode.data.parameterId);
		$("#parameterName").val(rowNode.data.parameterId);
		$("#minRange").val(rowNode.data.minRange);
		$("#maxRange").val(rowNode.data.maxRange);
	}
	//editing the qc master parent table
	function editWcr(wcrid , sts) {
		
		if(sts == 'Approved'){
			$("#save").hide();
		}else{
			$("#save").show();
		}
		  
		agGrid.simpleHttpRequest(
				{
					url : 'wcr-reqst-edit?id='+ wcrid
				}).then(function(data) {
					console.log("allDATA",data);
					var jsonData = JSON.parse(data.body);
					var allData=jsonData.weight;
					var allData1=jsonData.pouchDfctDtls;
					var allData2=jsonData.powderDfctDtls;
					var allData3=jsonData.percentageDfctType;
					
					$("#myGrid").hide();
					$("#demo").show();
					activityOptions.api.setRowData(allData);
					activityOptions1.api.setRowData(allData1);
					activityOptions2.api.setRowData(allData2);
					activityOptions3.api.setRowData(allData3);

					//var rowCount = activityOptions.api.getDisplayedRowCount();
					
					$("#wcrBox").html(allData[0].wcrId);
					$("#wcrId").val(allData[0].wcrId);
					$("#pdate").val(allData[0].date);
					$("#shift").val(allData[0].shift);
					$("#production").val(allData[0].product);
					$("#packing").val(allData[0].packing);
					
					$("#leakers1").val(allData[0].leakers1);
					$("#leakers2").val(allData[0].leakers2);
					$("#leakers3").val(allData[0].leakers3);
					$("#leakers4").val(allData[0].leakers4);
					$("#leakers5").val(allData[0].leakers5);
					$("#leakers6").val(allData[0].leakers6);
					$("#leakers7").val(allData[0].leakers7);
					$("#leakers8").val(allData[0].leakers8);
					$("#leakers9").val(allData[0].leakers9);
					$("#leakers10").val(allData[0].leakers10);
					
					$("#noOfPouch1").val(allData[0].noOfPouch1);
					$("#noOfPouch2").val(allData[0].noOfPouch2);
					$("#noOfPouch3").val(allData[0].noOfPouch3);
					$("#noOfPouch4").val(allData[0].noOfPouch4);
					$("#noOfPouch5").val(allData[0].noOfPouch5);
					$("#noOfPouch6").val(allData[0].noOfPouch6);
					$("#noOfPouch7").val(allData[0].noOfPouch7);
					$("#noOfPouch8").val(allData[0].noOfPouch8);
					$("#noOfPouch9").val(allData[0].noOfPouch9);
					$("#noOfPouch10").val(allData[0].noOfPouch10);
					
					$("#minwt").val(allData[0].minWt);
					$("#maxwt").val(allData[0].maxWt);
					$("#avgwt").val(allData[0].avgWt);
					$("#sd").val(allData[0].sd);
					
					
					$("#sampleSizePouch").val(allData[0].sampleSizePouch);
					$("#sampleSizePowder").val(allData[0].sampleSizePowder);
					
					$("#stt").val(allData[0].stt);
					
					$("#tdiv").hide();
					$("#searchRowDiv").hide();
					$("#totalReq").hide();
					$("#ttbtn").hide(); 
				});
		
	}
	
	
// function for delete qc  
function deleteOnclick() {
		if (id) {
				$.ajax({
		type : "GET",
		url : "wcr-detls-delete?id="+ id,
		success : function(response) {
		 if (response.code == "success") {
			 cancel();
				$("#messageParagraph").text("Record deleted sucessfully");
				$("#msgOkModal").removeClass("btn3");
				$("#msgOkModal").addClass("btn1");
				$("#msgModal").modal('show');
				$('#delete').modal('hide');
				
				$('#assignBtn').attr('disabled', true);
				$('#reqDltBtn').attr('disabled', true);
				$('#newBtn').attr('disabled', false);
				
				agGrid.simpleHttpRequest({
					url : 'wcr-details-view'
				}).then(function(data) {
					var jsonData = JSON.parse(data.body[0]);
					var allData=jsonData.view;
					console.log(allData)
					var len = allData.length;
					$('#totalReq').find('span').html(len);
					gridOptions.api.setRowData(allData);
				});
				
			} else {
				$("#messageParagraph").text("Something went to wrong!");
				$("#msgOkModal").removeClass("btn3");
				$("#msgOkModal").addClass("btn1");
				$("#msgModal").modal('show');
			}
		},
		error : function(data) {
			console.log(data)
		}
	})
		} else {
			$("#alert").modal('show');
			document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
		}

}



	function deleteFun() {
		$('#delete').modal('show');
	}

	
//function for download
function downloadDetails() { 
	var dataset = [];
	gridOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
		dataset.push(rowNode.data);
	});
    gridOptions.api.exportDataAsCsv(dataset);
}


      function findMinMax() {
        var inputs = document.getElementsByClassName('totalHour');
       // var corrfactor = parseFloat(document.getElementById('corrfactor').value);
        //var avg5pouch = parseFloat(document.getElementById('avg5pouch').value);
        var minValue = Number.MAX_VALUE;
        var maxValue = Number.MIN_VALUE;
        var sum = 0;
        var count = 0;
        console.log(inputs);
        for (var i = 0; i < inputs.length; i++) {
          var value = parseFloat(inputs[i].value);
          if (!isNaN(value)) {
            minValue = Math.min(minValue, value);
            maxValue = Math.max(maxValue, value);
            sum += value;
            count++;
          }
        }
        //console.log("sum",sum);
        var averageValue = count > 0 ? sum / count : 0;
        //console.log("count",count);
        //console.log("averageValue",averageValue);
       // console.log("minValue",minValue);
       // console.log("maxValue",maxValue);
         var squaredDifferencesSum = 0;
        for (var i = 0; i < inputs.length; i++) {
          var value = parseFloat(inputs[i].value);
          if (!isNaN(value)) {
            var difference = value - averageValue;
            squaredDifferencesSum += difference * difference;
          }
        }

        var variance = count > 0 ? squaredDifferencesSum / count : 0;
        var standardDeviation = Math.sqrt(variance);
        document.getElementById('minwt').value = minValue;
        document.getElementById('maxwt').value = maxValue;
        document.getElementById('avgwt').value = averageValue;
        //document.getElementById('cavgwt').value = (averageValue-avg5pouch)+corrfactor;
        document.getElementById('sd').value = standardDeviation; 
      }
       
       
      
       

       
       
	function approveFun(){
		$('#approveModal').modal('show');
	}
	function approveResult(){
		//alert(id);
		$.ajax({
			type : "GET",
			url : "wcr-approve-data?id=" + id,
			dataType : "json",
			contentType : "application/json",
			success : function(response) {
				console.log(response.code);
				$('.loader').hide();
				if (response.code == "success") {
					$('#approveModel').modal('hide');
					$("#messageParagraph").text(response.message);
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
					
					$('#assignBtn').attr('disabled', true);
					$('#reqDltBtn').attr('disabled', true);
					$('#newBtn').attr('disabled', false);
					
					agGrid.simpleHttpRequest({
						url : 'wcr-details-view'
					}).then(function(data) {
						var jsonData = JSON.parse(data.body[0]);
						var allData=jsonData.view;
						console.log(allData)
						var len = allData.length;
						$('#totalReq').find('span').html(len);
						gridOptions.api.setRowData(allData);
					});
					
					
					
				} else {
					$('.loader').hide();
					$("#messageParagraph").text("Something Went Wrong");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
				}
			},
			error : function(data) {
				$('.loader').hide();
			}
		}) 
	}
	
	function wcrPdfDownload(id) {
		window.open("/production/view-wcr-pdf-downloads?dcId="+window.btoa(id), '_blank');  
	}
	
	
	function productDetails(){
		var productid=$("#production").val();
		agGrid.simpleHttpRequest(
				{
					url : 'wcr-product_detls_drop?id='+ productid
				}).then(function(data) {
					console.log("allDATA",data);
					var jsonData = JSON.parse(data.body);
					var allData=jsonData.edit;
					console.log(jsonData[0].variant);
					//$("#variant").val(jsonData[0].variant);
					$("#packing").val(jsonData[0].packsize);
					 
				});
	};
	
	function changeDateFormat(inputDate) { // expects Y-m-d
		var splitDate = inputDate.split('-');
		if (splitDate.count == 0) {
			return null;
		}
		var year = splitDate[0];
		var month = splitDate[1];
		var day = splitDate[2];

		return day + '-' + month + '-' + year;
	}
	
	
	function handleTextFieldKeyDown(event) {

		let currentCell = '';
		const idChar = {};
		if (event.code === 'Tab') {
			const currentInput = event.target;
			let currentId = currentInput.id;
            var regexResult = currentId.match(/^([a-zA-Z]+)(\d+)$/);
            if (regexResult) {
                var color = regexResult[1];
                var numberPart = regexResult[2];
                var firstDigit = numberPart[0];
                var numericPart = numberPart.slice(1);
            }
			if (numericPart < 27) {
				const nextInput = parseInt(numericPart) + 1;
				let nextInputId = color+firstDigit+nextInput;
				let nextInputCell = document.getElementById(`${nextInputId}`);
				if (nextInputCell) {
					nextInputCell.focus();
					event.preventDefault(); // Prevent the default Tab behavior
				}
			}
		}
	}


    </script>

</head>
<body>

	<div layout:fragment="content" class="maincontent">

		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
					<div class="content_padding">

						<div class="d-flex justify-content-between" id="tdiv">
							<div class="btn-hs">
								<div class="font-design" id="totalReq">
									WCR List(<span></span>)
								</div>
							</div>
							<div id="searchRowDiv">
								<div class="input-style">
									<input type="text" placeholder="Search.." name="search"
										class="searchboxinput" onkeyup="cancelBar()"
										oninput="onQuickFilterChanged()" id="quickFilter"
										autocomplete="off">
									<div class="searchicon">
										<a href="javascript:void(0)"><span
											style="display: none; border-right: 1px solid #ccc; padding-right: 5px;"
											id="closeKey"
											onclick="gridOptions.api.setQuickFilter(null);$('#quickFilter').val('');document.getElementById('closeKey').style.display='none';"
											class="close_i"><i class="ti-close srchicon"></i></span></a><a
											href="javascript:void(0)"><i class="ti-search srchicon"></i></a>
									</div>
								</div>
							</div>
							<div class="buttonsec btn-hs" id="ttbtn">
								<button class="download-btn" id="download"
									onclick="downloadDetails()">Download</button>
								<button class="delete-btn" id="reqDltBtn" onclick="deleteFun()">DELETE</button>
								<button class="new-btn" id="assignBtn" onclick="approveFun()">APPROVE</button>
								<button class="new-btn" id="newBtn" onclick="newPlan()">NEW</button>
							</div>
						</div>

						<input type="hidden" id="sessionId" th:value="${userId}" /> <input
							type="hidden" id="sessionName" th:value="${userName}" /> <input
							type="hidden" id="hrRole" th:value="${hrRole}" /> <input
							type="hidden" id="sessionRole" th:value="${userRole}" /> <input
							type="hidden" id="adRole" th:value="${adRole}" />
						<div id="myGrid" style="width: 100%; height: 500px;"
							class="ag-theme-alpine"></div>

						<div class="collapse" id="demo">
							<div class="innercontent">
								<div class="innerstickybg">
									<div class="row">

										<div class="col-md-6">
											W C R : <span id="wcrBox"></span>
										</div>

										<div class="col-md-6" align="right">
											<button class="cancel-btn" id="cancelBtn" onclick="cancel()">Cancel</button>
											<button class="approve-btn" id="save"
												onclick="masterSaveData()">Save</button>
										</div>
									</div>

								</div>
								<div class="row innersticky_contentgap">
									<input type="hidden" id="wcrId">

									<div class="col-lg-3">
										<div class="form-group calendar_box">
											<label>Date of Checking</label> <input type="text" id="pdate"
												class="form-control" onblur="removeValid(event)"
												th:attr="onkeyup=|formatDate('date','${session.DATEFORMAT_JS}')|"
												readonly> <i class="ti-calendar picker_calendar"
												id="DateCalendar3"></i>
										</div>
									</div>

									<div class="col-md-3">
										<div class="form-group">
											<label> Shift </label>
											<div class="select">
												<select id="shift">
													<option value="">Select</option>
													<option th:each="c:${shiftLists}" th:value='${c.key}'
														th:text="${c.name}"></option>
												</select> <span class="focus"></span>
											</div>
										</div>
									</div>
									<div class="col-md-3">
										<div class="form-group">
											<label> Product </label> 
												<div class="select" >
												<select id="production" onchange="productDetails()">
													<option value="">Select</option>
													<option th:each="c:${itemList}" th:value='${c.key}'
														th:text="${c.name}"></option>
												</select> <span class="focus"></span>
											</div>
										</div>
									</div>
									<div class="col-md-3">
										<div class="form-group">
											<label> Packing (SKU) </label> <input type="text"
												class="form-control" id="packing" readonly>
												

										</div>
									</div>
									<!-- <div class="col-md-3">
										<div class="form-group">
											<label> Product </label>
											<div class="select" >
												<select id="product" onchange="productDetails()">
													<option value="">Select</option>
													<option th:each="c:${itemList}" th:value='${c.key}'
														th:text="${c.name}"></option>
												</select> <span class="focus"></span>
											</div>
										</div>
									</div> -->

								</div>
								<div id="main" class="mt-4">
									<div class="accordion-item">
										<h2 class="accordion-header" id="headingOne">
											<button class="accordion-button" type="button"
												data-bs-toggle="collapse" data-bs-target="#collapseOne"
												aria-expanded="false" aria-controls="collapseOne">
												POUCH WEIGHT (GMS)</button>
										</h2>

										<div id="collapseOne" class="accordion-collapse collapse show"
											aria-labelledby="headingOne"
											data-bs-parent="#accordionExample">
											<div class="accordion-body">




												<div class="row">
													<div id="activity" style="width: 100%; height: 380px;"
														class="ag-theme-alpine"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="row innersticky_contentgap">

									<!-- <label> Leakers </label> -->
									<div class="col-md-1">
										<div class="form-group">

											<label> Leakers: </label>
										</div>
									</div>

									<div class="col-md-1">
										<div class="form-group">

											<input type="text" class="form-control"
												id="leakers1" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="text" class="form-control"
												id="leakers2" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="text" class="form-control"
												id="leakers3" oninput="handleChange(event)">
										</div>
									</div>


									<div class="col-md-1">
										<div class="form-group">
											<input type="text" class="form-control"
												id="leakers4" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="text" class="form-control"
												id="leakers5" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="text" class="form-control"
												id="leakers6" oninput="handleChange(event)">
										</div>
									</div>


									<div class="col-md-1">
										<div class="form-group">
											<input type="text" class="form-control"
												id="leakers7" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="text" class="form-control"
												id="leakers8" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="text" class="form-control"
												id="leakers9" oninput="handleChange(event)">
										</div>
									</div>


									<div class="col-md-1">
										<div class="form-group">
											<input type="text" class="form-control"
												id="leakers10" oninput="handleChange(event)">
										</div>
									</div>
									<!-- <div class="col-md-1">
										<div class="form-group">
											 <input type="number"
												class="form-control" id="nodefectobserved11" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											 <input type="number"
												class="form-control" id="nodefectobserved12" oninput="handleChange(event)">
										</div>
									</div> -->

								</div>
								<div class="row innersticky_contentgap">

									<!-- <label> No of Pouches </label> -->
									<div class="col-md-1">
										<div class="form-group">

											<label> No of Pouches: </label>
										</div>
									</div>

									<div class="col-md-1">
										<div class="form-group">

											<input type="number" class="form-control"
												id="noOfPouch1" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="number" class="form-control"
												id="noOfPouch2" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="number" class="form-control"
												id="noOfPouch3" oninput="handleChange(event)">
										</div>
									</div>


									<div class="col-md-1">
										<div class="form-group">
											<input type="number" class="form-control"
												id="noOfPouch4" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="number" class="form-control"
												id="noOfPouch5" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="number" class="form-control"
												id="noOfPouch6" oninput="handleChange(event)">
										</div>
									</div>


									<div class="col-md-1">
										<div class="form-group">
											<input type="number" class="form-control"
												id="noOfPouch7" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="number" class="form-control"
												id="noOfPouch8" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											<input type="number" class="form-control"
												id="noOfPouch9" oninput="handleChange(event)">
										</div>
									</div>


									<div class="col-md-1">
										<div class="form-group">
											<input type="number" class="form-control"
												id="noOfPouch10" oninput="handleChange(event)">
										</div>
									</div>
									<!-- <div class="col-md-1">
										<div class="form-group">
											 <input type="number"
												class="form-control" id="nodefectobserved11" oninput="handleChange(event)">
										</div>
									</div>
									<div class="col-md-1">
										<div class="form-group">
											 <input type="number"
												class="form-control" id="nodefectobserved12" oninput="handleChange(event)">
										</div>
									</div> -->

								</div>
								<div class="row innersticky_contentgap">
									<div class="row">
										<div class="col-md-3">
											<div class="form-group">
												<label> Average Weight (NET) </label> <input type="text"
													class="form-control" id="avgwt" value=0 readonly>
											</div>
										</div>


										<div class="col-md-3">
											<div class="form-group">
												<label> Minimum Weight (NET) </label> <input type="text"
													class="form-control" id="minwt" value=0 readonly>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label> Maximum Weight (NET) </label> <input type="text"
													class="form-control" id="maxwt" value=0 readonly>
											</div>
										</div>

										<div class="col-md-3">
											<div class="form-group">
												<label> Standard deviation </label> <input type="text"
													class="form-control" id="sd" value=0 readonly>
											</div>
										</div>
									</div>
								</div>
								<div id="main" class="mt-4">
									<div class="accordion-item">
										<h2 class="accordion-header" id="headingOne1">
											<button class="accordion-button" type="button"
												data-bs-toggle="collapse" data-bs-target="#collapseOne1"
												aria-expanded="false" aria-controls="collapseOne">
												POUCHES</button>
										</h2>

										<div id="collapseOne1" class="accordion-collapse collapse show"
											aria-labelledby="headingOne1"
											data-bs-parent="#accordionExample">
											<div class="accordion-body">
												<div class="row justify-content-start">

													<div class="col-md-4">
														<div class="form-group">

															<label>Sample Size: </label><input type="number"
																class="form-control1" id="sampleSizePouch">
														</div>
													</div>

												</div>


												<div class="row mt-2">
													<div id="activity1" style="width: 100%; height: 230px;"
														class="ag-theme-alpine"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div id="main" class="mt-4">
									<div class="accordion-item">
										<h2 class="accordion-header" id="headingOne2">
											<button class="accordion-button" type="button"
												data-bs-toggle="collapse" data-bs-target="#collapseOne2"
												aria-expanded="false" aria-controls="collapseOne">
												POWDER</button>
										</h2>

										<div id="collapseOne2" class="accordion-collapse collapse show"
											aria-labelledby="headingOne2"
											data-bs-parent="#accordionExample">
											<div class="accordion-body">
												<div class="row justify-content-start">

													<div class="col-md-4">
														<div class="form-group">

															<label>Sample Size: </label><input type="number"
																class="form-control1" id="sampleSizePowder">
														</div>
													</div>

												</div>



												<div class="row mt-2">
													<div id="activity2" style="width: 100%; height: 200px;"
														class="ag-theme-alpine"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div id="main" class="mt-4">
									<div class="accordion-item">
										<h2 class="accordion-header" id="headingOne3">
											<button class="accordion-button" type="button"
												data-bs-toggle="collapse" data-bs-target="#collapseOne3"
												aria-expanded="false" aria-controls="collapseOne">
												PERCENTAGE</button>
										</h2>

										<div id="collapseOne3" class="accordion-collapse collapse show"
											aria-labelledby="headingOne3"
											data-bs-parent="#accordionExample">
											<div class="accordion-body">
												
												<div class="row">
													<div id="activity3" style="width: 100%; height: 130px;"
														class="ag-theme-alpine"></div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="row innersticky_contentgap">
									<div class="col-md-3">
										<div class="form-group">
											<label> Scatch Tape Test </label>
											<div class="select">
												<select id="stt">
													<option value="">Select</option>
													<option value="Pass">Pass</option>
													<option value="Fail">Fail</option>
													
												</select> <span class="focus"></span>
											</div>
										</div>
									</div>
								</div>
								
								

							</div>
						</div>

					</div>
				</div>
			</div>


			<!-- delete modal start -->
			<div id="delete" class="modal fade show" aria-modal="true">
				<div class="modal-dialog modal-confirm">
					<div class="modal-content">
						<div class="modal-header flex-column"></div>
						<div class="modal-body">
							<p>Do you really want to delete these records? This process
								cannot be undone.</p>
						</div>
						<div class="modal-footer justify-content-center"
							style="margin-top: 0px;">

							<button type="button" class="cancel-btn" data-bs-dismiss="modal"
								onclick="cancelModalBtn();">Cancel</button>
							<button type="button" class="delete-btn"
								onclick="deleteOnclick()">Delete</button>
						</div>
					</div>
				</div>
			</div>

			
			<div id="approveModal" class="modal fade show" aria-modal="true">
				<div class="modal-dialog modal-confirm">
					<div class="modal-content">
						<div class="modal-header flex-column"></div>
						<div class="modal-body">
							<p>Do You Want To Approve ?</p>
						</div>
						<div class="modal-footer justify-content-center"
							style="margin-top: 0px;">
							<button type="button" class="cancel-btn"  data-bs-dismiss="modal"
								>No</button>
							<button type="button" class="approve-btn"
								onclick="approveResult()" data-bs-dismiss="modal" >Yes</button>
						</div>
					</div>
				</div>
			</div>
			<!-- alert modal start -->
			<div id="alert" class="modal fade show" aria-modal="true">
				<div class="modal-dialog modal-confirm">
					<div class="modal-content">
						<div class="modal-header flex-column">
							<button type="button" class="close" data-bs-dismiss="modal"
								aria-hidden="true" onclick="cancelModalBtn()">
								<i class="ti-close modal-close"></i>
							</button>
						</div>
						<div class="modal-body">
							<p id="textId"></p>
						</div>
						<div class="modal-footer justify-content-center"
							style="margin-top: 0px;">

							<button type="button" class="btn1" data-bs-dismiss="modal">SELECT</button>
							<button type="button" class="btn3" onclick="deleteOnclick()">Delete</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>

</body>
</html>