<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">
	 <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag/dist/css/multi-select-tag.css">
<head>
<style type="text/css">
select[data-multi-select-plugin] {
    display: none !important;
}

.multi-select-component {
    position: relative;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    height: auto;
    width: 100%;
    padding: 3px 8px;
    font-size: 14px;
    line-height: 1.42857143;
    padding-bottom: 0px;
    color: #555;
    background-color: #fff;
    border: 1px solid #ccc;
    border-radius: 4px;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
    -webkit-transition: border-color ease-in-out 0.15s, -webkit-box-shadow ease-in-out 0.15s;
    -o-transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;
    transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;
}

.autocomplete-list {
    border-radius: 4px 0px 0px 4px;
}

.multi-select-component:focus-within {
    box-shadow: inset 0px 0px 0px 2px #78ABFE;
}

.multi-select-component .btn-group {
    display: none !important;
}

.multiselect-native-select .multiselect-container {
    width: 100%;
}

.selected-wrapper {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
    display: inline-block;
    border: 1px solid #d9d9d9;
    background-color: #ededed;
    white-space: nowrap;
    margin: 1px 5px 5px 0;
    height: 22px;
    vertical-align: top;
    cursor: default;
}

.selected-wrapper .selected-label {
    max-width: 514px;
    display: inline-block;
    overflow: hidden;
    text-overflow: ellipsis;
    padding-left: 4px;
    vertical-align: top;
}

.selected-wrapper .selected-close {
    display: inline-block;
    text-decoration: none;
    font-size: 14px;
    line-height: 1.49em;
    margin-left: 5px;
    padding-bottom: 10px;
    height: 100%;
    vertical-align: top;
    padding-right: 4px;
    opacity: 0.2;
    color: #000;
    text-shadow: 0 1px 0 #fff;
    font-weight: 700;
}

.search-container {
    display: flex;
    flex-direction: row;
}

.search-container .selected-input {
    background: none;
    border: 0;
    height: 20px;
    width: 60px;
    padding: 0;
    margin-bottom: 6px;
    -webkit-box-shadow: none;
    box-shadow: none;
}

.search-container .selected-input:focus {
    outline: none;
}

.dropdown-icon.active {
    transform: rotateX(180deg)
}

.search-container .dropdown-icon {
    display: inline-block;
    padding: 10px 5px;
    position: absolute;
    top: 5px;
    right: 5px;
    width: 10px;
    height: 10px;
    border: 0 !important;
    /* needed */
    -webkit-appearance: none;
    -moz-appearance: none;
    /* SVG background image */
    background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%2212%22%20viewBox%3D%220%200%2012%2012%22%3E%3Ctitle%3Edown-arrow%3C%2Ftitle%3E%3Cg%20fill%3D%22%23818181%22%3E%3Cpath%20d%3D%22M10.293%2C3.293%2C6%2C7.586%2C1.707%2C3.293A1%2C1%2C0%2C0%2C0%2C.293%2C4.707l5%2C5a1%2C1%2C0%2C0%2C0%2C1.414%2C0l5-5a1%2C1%2C0%2C1%2C0-1.414-1.414Z%22%20fill%3D%22%23818181%22%3E%3C%2Fpath%3E%3C%2Fg%3E%3C%2Fsvg%3E");
    background-position: center;
    background-size: 10px;
    background-repeat: no-repeat;
}



.search-container ul {
    position: absolute;
    list-style: none;
    padding: 0;
    z-index: 3;
    margin-top: 29px;
    width: 100%;
    right: 0px;
    background: #fff;
    border: 1px solid #ccc;
    border-top: none;
    border-bottom: none;
    -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);
    box-shadow: 0 6px 12px rgba(0, 0, 0, .175);
}

.search-container ul :focus {
    outline: none;
}

.search-container ul li {
    display: block;
    text-align: left;
    padding: 8px 29px 2px 12px;
    border-bottom: 1px solid #ccc;
    font-size: 14px;
    min-height: 31px;
}

.search-container ul li:first-child {
    border-top: 1px solid #ccc;
    border-radius: 4px 0px 0 0;
}

.search-container ul li:last-child {
    border-radius: 4px 0px 0 0;
}


.search-container ul li:hover.not-cursor {
    cursor: default;
}

.search-container ul li:hover {
    color: #333;
    background-color: rgb(251, 242, 152);
    ;
    border-color: #adadad;
    cursor: pointer;
}

/* Adding scrool to select options */
.autocomplete-list {
    max-height: 130px;
    overflow-y: auto;
}
.highcharts-exporting-group {
	display: none;
}

.autocomplete {
	position: relative;
	display: inline-block;
	width: 100%;
}
.sticky {
  position: fixed;
  top: 0;
  width: 100%;
}
.fixed-nav-bar {
  top: 0;
  z-index: 100;
  position: fixed;
  width: 100%;
}
/* .fixed-nav-bar {
 position: fixed;
 top: 0; left: 0;
 z-index: 9999;
 width: 100%;
 height: 50px;
 background-color: #00a087;
} */
.sugg-cls ul {
	height: 150px;
	overflow-x: scroll;
	position: relative;
}

ul#autocomplete-list1 {
	position: relative;
	z-index: 999;
}

ul#autocomplete-list1 li {
	position: relative;
	color: #fff;
	padding-left: 6px;
	background-color: #1f57a8;
	border-bottom: solid 1px #6189c2;
	padding-top: 5px;
	padding-bottom: 5px;
}

a.addCust {
	color: #fff;
}

.slidebox {
	padding: 14px;
	margin-top: 0px;
	margin: 0px 10px;
}

/* .form-group label {
	font-size: 12px;
	position: relative;
	top: 4px;
} */
.holdCls {
	background-color: rgb(0, 143, 0);
}

.bg_white {
	background: #ffffff !important;
}
</style>
<script src="../javascript/canteen/assign.js"></script>


  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
	
	
      <script id="rendered-js"> 
	$(document).ready(function () {
	  var $tabs = $('#t_draggable2');
	  $("tbody.t_sortable").sortable({
		connectWith: ".t_sortable",
		items: "> tr:not(:first)",
		appendTo: $tabs,
		helper: "clone",
		zIndex: 999990 }).
	  disableSelection();

	  var $tab_items = $(".nav-tabs > li", $tabs).droppable({
		accept: ".t_sortable tr",
		hoverClass: "ui-state-hover",
		drop: function (event, ui) {return false;} });

	});
	//# sourceURL=pen.js
		</script>

<script>


/* $(function() {
	
	//alert("hello")

	var gridDiv = document.querySelector('#myGrid');
	new agGrid.Grid(gridDiv, gridOptions);
	agGrid.simpleHttpRequest({
		url : "assign-throughAjax"
	}).then(function(data) {
		var len = data.length;
		$('#totalReq').find('span').html(len);

		gridOptions.api.setRowData(data);

	});
	$("#myGrid").show();
	$("#delete").attr("disabled", true);
}); */
	//Multiple Document Upload Ends

/* 	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";
		if ($('#quickFilter').val() == null || $('#quickFilter').val() == "") {
			id.style.display = "none";
		}
	} */

	/* var columnDefs = [ {
		headerCheckboxSelection : true,
		headerCheckboxSelectionFilteredOnly : true,
		checkboxSelection : true,
		width : 10,
		sortable : false,
		filter : false,
		resizable : true
	}, {
		headerName : "Item Id",
		field : "itemId",
		width : 200

	}, {
		headerName : "Item Name",
		field : "itemName",
		width : 200
	}, {
		headerName : "Price",
		field : "price",
		width : 200
	}, {
		headerName : "Categry",
		field : "categry",
		width : 200
	}, {
		headerName : "SubCategry",
		field : "subcategry",
		width : 200
	}, {
		headerName : "Variant",
		field : "variant",
		width : 200
	}, {
		headerName : "Status",
		field : "status",
		width : 200
	}
	];

	var gridOptions = {
		columnDefs : columnDefs,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 200,
			height : 20
		},
		rowSelection : 'single',
		//onSelectionChanged : onSelectionChanged,
		onRowClicked : onRowClicked
	};
	 */
	
	function onRowClicked(event) {
		  // Access the selected rows
		  var selectedRows = gridOptions.api.getSelectedRows();

		  // Do something with the selected rows, for example, log their data
		  console.log('Selected Rows:', selectedRows);

		  // You can also fetch additional data or perform other actions here
		}


	/* APPLY FOR REQUISITION ENDS */

	// setup the grid after the page has finished loading
	/* $(document).ready(function() {

		var gridDiv = document.querySelector('#myGrid');
		new agGrid.Grid(gridDiv, gridOptions);
		gridOptions.api.setRowData();

	}); */

	function cancelbtn() {
		$('#reqDltBtn').attr('disabled', true);
		$("#myGrid").show();
		$("#btn1").hide();
		$("#demo").hide();
		$("#hideTbl").show();
		$("#buttonDetails").show();
	}

	function onSelectionChanged() {
		var selectedRows = gridOptions.api.getSelectedRows();
		var rowCount = 0;
		selectedRows.forEach(function(selectedRow, index) {
			rowCount = rowCount + 1;
		});

		if (rowCount > 0) {
			$('#delete').attr('disabled', false);
			$("#reject").attr('disabled', false);
			$("#approve").attr('disabled', false);
		} else {
			$('#delete').attr('disabled', true);
			$("#reject").attr('disabled', true);
			$("#approve").attr('disabled', true);
		}

	}

	function onQuickFilterChanged() {
		gridOptions.api
				.setQuickFilter(document.getElementById('quickFilter').value);
	}

	function editId(data) {
		$("#demo").hide();
		$("#myGrid").show();
		$("#delete").show();
		$("#addId").show();
		$("#rfqid").show();
		$("#myGrid1").show();
		$("#demo1").hide();
		$("#child").show();
		$("#upperOne1").show();
		$("#child1").show();
		$("#demo2").show();
	}

	function downloadDocDetails() {
		var dataset = [];
		gridOptions1.api
				.forEachNodeAfterFilterAndSort(function(rowNode, index) {
					dataset.push(rowNode.data);

				});
		gridOptions1.api.exportDataAsCsv(dataset);
	}
	
	var selectedRowDataArray = []; 

	// Row click event handler
	function onRowClicked(event) {
		 

		
	    var selectedRowData = event.data;
	    processRowData(selectedRowData);
	    selectedRowDataArray.push(selectedRowData);
	}

	// Function to process the rowData
	function processRowData(rowData) {
	    console.log("Selected Row Data before calling saveTableData:", rowData);
	}

	// Function to save table data
	
	function saveTableData(selectedRowData) {
		
		console.log("Submitting data:", selectedRowDataArray);

	    $.ajax({
	        type: "POST",
	        url: "assign-add-dtls",
	        contentType: "application/json",
	        data: JSON.stringify(selectedRowDataArray), // Send selectedRowData
	        success: function (response) {
	            if (response.message == "Success") {
	                $("#messageParagraph").text("Data Saved Successfully");
	                $("#msgOkModal").removeClass("btn3");
	                $("#msgOkModal").addClass("btn1");
	                $("#msgModal").modal('show');

	                closeSideNav();
	            }
	        },
	        error: function (data) {
	            // Handle error
	        }
	    }); 
	    
		// Clear the array after sending the data if needed
	    selectedRowDataArray = []; 
	}

	function viewImage(id) {
		window.open(id, '_blank');
	}


	//Category call
	function getIncentiveStatusall() {

		//alert("hello");
		//alert(variant)

		$.ajax({
			type : "GET",
			url : "assign-throughAjax",
			async : false,
			success : function(response) {
				console.log("response------" + JSON.stringify(response));
				if (response.body != "") {
					gridOptions.api.setRowData();
					gridOptions.api.setRowData(response);

				}

			}
		})
	}
</script>

<script src="https://cdn.jsdelivr.net/gh/habibmhamadi/multi-select-tag/dist/js/multi-select-tag.js"></script>
    <script>
        new MultiSelectTag('countries')  // id
    </script>
<body>
	<div layout:fragment="content" class="maincontent">

		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
				<div class="row">
				                <div class="mt-2">
								<button class="btn1" id="save" onclick="addIncentiveInfo()">SAVE</button>
								</div>
							</div>		
					<div class="innercontent ">						
						<div class="row">	
								<div class="col-md-4" id="searchFilterDiv"
										style="margin-bottom: 10px;">
										<div class="form-group">
											<label>Category</label>
											<div class="select">
												<select id="categry" class="form-control"
													onchange="getIncentiveStatus()">
													<option value="">--Select--</option>
													<option th:each="c,iter:${incentivedetails}"
														th:value="${c.key}" th:text="${c.name}"></option>
												</select> <span id="errmsg_name"></span>
											</div>

										</div>
								 </div>	
								 																											
								 <div class="col-md-4">
										<div class="form-group">
											<label>Sub Category</label>
											<div class="select">
												<select id="subcategry" class="form-control"
													onchange="getIncentiveStatus()">
													<option value="">--Select--</option>
													<option th:each="c,iter:${clubMemberDetails}"
														th:value="${c.key}" th:text="${c.name}"></option>
												</select> <span id="errmsg_name"></span>
											</div>

										</div>
								  </div>	
								  					
							      <div class="col-md-4">
										<div class="form-group">
											<label>Variant</label>
											<div class="select">
												<select id="variant" class="form-control"
													onchange="getIncentiveStatus()">
													<option value="">--Select--</option>
													<option th:each="c,iter:${variantDetails}"
														th:value="${c.key}" th:text="${c.name}"></option>
												</select> <span id="errmsg_name"></span>
									       </div>
						 	            </div>
						          </div>	
						          
						          
						          				      					     					      						  
					           																						 							    							    <br>
						  
						          
						          
						       <!--   <div class="col-lg-4">
								        <div class="form-group">
								            <label>Store Name</label>
								            <select multiple data-multi-select-plugin id="comboId" class="form-control" onchange="getCombo()">
								                <option value="">--Select--</option>
								                <option th:each="c,iter:${comboDetails}" th:value="${c.key}" th:text="${c.name}"></option>
								            </select>
								        </div>
								  </div>  -->
								  
						    <!--  <div class="col-md-6">
								    <div class="form-group">
										   <label>Combo Name</label>
										   <div class="select">
												<select id="comboId" class="form-control"
													onchange="getCombo()">
													<option value="">--Select--</option>
													<option th:each="c,iter:${comboDetails}"
														th:value="${c.key}" th:text="${c.name}"></option>
												</select> <span id="errmsg_name"></span>
									       </div>
						 	       </div>
						     </div>	 -->
						         
						     											  						           																	         
							</div>											  	
					  </div>  
					  
					  
								
                       
					      <div class="row" >					      					     					      						  
					            <div class="col-lg-4">
										<div class="autocomplete"
											style="width: auto !important; margin-top: 0px;">
											<div class="form-group">
												<label>Menu Name</label> <input type="text"
													id="itemName" placeholder="Search Menu Name"
													class="form-control" onkeyup='getProductList();'><input
													type="hidden" id="itemId">
													<span id="errmsg_producn"></span>
											</div>
										</div>
									 <div id="suggesstion-box11_" class="sugg-cls"></div>
								</div>	
								
								 <div class="col-lg-4">
										<div class="autocomplete"
											style="width: auto !important; margin-top: 0px;">
											<div class="form-group">
												<label>Combo Name</label> 
													<div class="selected-items" id="selected-items">
													 </div>
													
													<input type="text"
													id="comboName" placeholder="Search combo Name"
													class="form-control" onkeyup='getComboList();'><input
													type="hidden" id="comboId">
													<span id="errmsg_producn"></span>
											</div>
										</div>
									 <div id="suggesstion-box21_" class="sugg-cls"></div>
								</div>		
								
							<div class="col-md-4">
							    <div class="form-group">
							        <label>Weakend Calender</label>
							        <select  id="weakendName">
							         <option value="option1">--select--</option>
							            <option value="monday">Monday</option>
							            <option value="tuesday">Tuesday</option>
							            <option value="wednesday">Wednesday</option>
							             <option value="thursday">Thursday</option>
							              <option value="friday">Friday</option>
							              <option value="saturday">Saturday</option>
							              <option value="sunday">Sunday</option>
							        </select>
							    </div>
							</div>
															
								
																															 							    							    <br>
						  </div>
						  
						   
						  						  													
						
						 <div class="row mt-4">
							<div class="col-md-6">
							  <table class="table tables_ui table-bordered" id="t_draggable1">					 
								<tbody class="t_sortable ui-sortable">
								    <h5>Order List</h5>
								   <tr>
									 
								      <th scope="col">Item Id</th>
								      <th scope="col">Item Name</th>
								      <th scope="col">Price</th>
								      
								    </tr>
								    <tr th:each="b :${book}" class="ui-sortable-handle"> 
								      <th scope="row"></th>
								      <td th:text="${b.itemId}"></td>
								      <td th:text="${b.itemName}"></td>
								      <td th:text="${b.price}"></td>					      					      
								    </tr>					 
								</tbody>					
							  </table>
							</div>
			
							 <div class="col-md-6">
								  <table class="table tables_ui table-bordered" id="t_draggable2">
								    <tbody class="t_sortable ui-sortable">
									   <h5>Order Assign</h5>
									   <tr>									  
								       <th scope="col" id="id"> Id</th>
								       <th scope="col" id="name"> Name</th>
								       <th scope="col" id="price"> Price</th>
								       <!-- <th scope="col">Action</th> -->
								      </tr>				  
									</tbody>
									</table>		
							    </div>
							</div>
			             </div>				
				<!-- 	<div id="myGrid"
							style="width: 100%; height: 350px; margin-top: 100px;"
							class="ag-theme-alpine"></div>  -->
					</div>
				</div>
			</div>
		
	
	
	 
	
</body>

</html>