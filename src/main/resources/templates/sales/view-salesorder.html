<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">

<head>
<style type="text/css">
.highcharts-exporting-group {
	display: none;
}

.btn-primarynew {
	color: #fff !important;
	background-color: #0d6efd;
	border-color: #0d6efd;
}

.slidebox {
	padding: 14px;
	margin-top: 0px;
	margin: 0px 10px;
}

.form-group label {
	font-size: 12px;
	position: relative;
	top: 4px;
}

.holdCls {
	background-color: rgb(0, 143, 0);
}

.bg_white {
	background: #ffffff !important;
}

.blueClsWT {
	background: #0076ba;
	color: #fff;
}

.blueCls {
	background: #0076ba;
	color: #fff;
}

.blueClsWT::before {
	font-size: 8px;
	color: #FFF;
	content: '\e64c';
	font-family: 'themify';
	padding-right: 7px;
}
.redClsWT {
	background: #fb6161;
	color: #fff;
}

.redCls {
	background: #fb6161;
	color: #fff;
}

.redClsWT::before {
	font-size: 8px;
	color: #FFF;
	content: '\e64c';
	font-family: 'themify';
	padding-right: 7px;
}

.modal-body table td input[type=checkbox] {
	width: 0px;
	margin-right: 16px;
	position: relative;
	top: 0px;
	float: none;
}

.firstnode {
	color: #929292;
	border-top: 1px solid transparent !important;
	border-left: 1px solid transparent !important;
	border-bottom: 1px solid transparent !important;
	width: 320px;
	font-size: 12px;
	font-weight: 100;
}

.simple-tree-table-closed .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
	transform: rotate(90deg);
}

.simple-tree-table-opened .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
}

.picker_calendar {
	cursor: pointer;
	position: absolute;
	top: 237px;
	right: 914px;
}

.simple-tree-table-icon {
	display: inline-block;
	width: 1.5em;
	line-height: 1.5em;
	margin: 0.1em;
	background-color: transparent;
	text-align: center;
	cursor: pointer;
}

[class^="ti-"], [class*=" ti-"] {
	font-family: 'themify';
	speak: none;
	font-style: normal;
	font-weight: normal;
	font-variant: normal;
	text-transform: none;
	line-height: 1;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	font-size: 13px;
}

element.style {
	
}

[class^="ti-"], [class*=" ti-"] {
	font-family: 'themify';
	speak: none;
	font-style: normal;
	font-weight: normal;
	font-variant: normal;
	text-transform: none;
	line-height: 1;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	font-size: 13px;
}

.picker_calendar {
	cursor: pointer;
	position: absolute;
	top: 35px;
	right: 15px;
}

.tptCls {
	background: transparnt;
}

.picker_calendar2 {
	cursor: pointer;
	position: absolute;
	top: 38px;
	right: 13px;
}

.autocomplete {
	position: relative;
	display: inline-block;
	width: 315px;
}
.billtxt{
 font-size:14px!important;
 white-space: nowrap;
 }
/*  .preserve-wrap1{
 font-size:14px!important;
 white-space: nowrap;
 } */
ul#autocomplete-list1 {
	position: relative;
	z-index: 999;
}

ul#autocomplete-list1 li {
	position: relative;
	color: #fff;
	padding-left: 6px;
	background-color: #1f57a8;
	border-bottom: solid 1px #6189c2;
	padding-top: 5px;
	padding-bottom: 5px;
}

.sugg-cls ul {
    height: 150px;
    overflow-x: scroll;
    position: relative;
}

.formValidation1 {
	font-size: 10px;
	font-weight: 100;
	color: #ff9e99;
	background-color: transparent;
	position: relative;
	top: -1px;
	padding: 3px 0;
}

.font-small {
	font-size: 13px;
}


</style>
<script>
$(document).ready(function() {
	viewMasterData();
	customerType();
	$("#documentDetails").hide();
	$("#termsdiv").hide();
	//$("#custName").attr("disabled", true);
	//$("#orderType").attr("disabled", true);
	//$("#paymentTermId").attr('disabled', true);
	//$("#deliveryMethodId").attr('disabled', true);
	//$("#salespersonName").attr('disabled', true);
	$("#blockeOrder").attr("disabled", true);
	$("#reqAppvBtn").attr("disabled", true);
	  $('#deleteproduct').attr("disabled", true);
	  $('#deletess').attr("disabled", true);
	$('#docTbl').on('click', '.rmv1', function() {
		openDeleteConfirm();
		var value = $(this).parent("div").attr("id");
		$("#dltValue").val(value);
	});
	var gridDiv = document.querySelector('#myGrid');
	new agGrid.Grid(gridDiv, gridOptions);

	var gridDiv = document.querySelector('#item');
	new agGrid.Grid(gridDiv, itemOptions);
	
	 var gridDiv = document.querySelector('#mySKUGrid');
	    new agGrid.Grid(gridDiv, skuOptions);
	    
	    var gridDiv = document.querySelector('#myGridProduct');
	    new agGrid.Grid(gridDiv, gridOptionsProduct);
	    
	gridOptions.api.setRowData();
	itemOptions.api.setRowData();
	var gridDiv = document.querySelector('#mySAGrid');
	new agGrid.Grid(gridDiv, gridSAOptions);
	$("#totDiv").hide();
	$("#unitPriceDiv ").hide();
	$("#discountDiv ").hide();
	$("#gstRateDiv ").hide();
	$("#lineTotalDiv").hide();
	$("#Cancel").hide();
	$("#addData").hide();
	$("#save").hide();
	$('#delete').attr("disabled", true);
	$('#packages').attr("disabled", true);
	$('#sendToProduction').attr("disabled", true);


	agGrid.simpleHttpRequest({
		url : "view-saleorder-through-ajax"
	}).then(function(data) {
		var len = data.length;
		$('#totalCandidate').find('span').html(len);
		gridOptions.api.setRowData(data);
	});

	var dateFormat = localStorage.getItem("dateFormat");

	var dateFormat = localStorage.getItem("dateFormat");

	$("#orderReceiveDateCalendar").datetimepicker({
		format : dateFormat,
		closeOnDateSelect : true,
		timepicker : false,
		datepicker : true,
		scrollMonth : false,
	//minDate : new Date()
	}).on("change", function() {
		$('#orderReceiveDate').val($(this).val());
	})
	$('#orderReceiveDate').blur(function() {
		$("#orderReceiveDateCalendar").val($(this).val());
	});

	$("#expectedShipmentDateCalendar").datetimepicker({
		format : dateFormat,
		closeOnDateSelect : true,
		timepicker : false,
		datepicker : true,
		scrollMonth : false,
	//minDate : new Date()
	}).on("change", function() {
		$('#expectedShipmentDate').val($(this).val());
	})
	$('#expectedShipmentDate').blur(
			function() {
				$("#expectedShipmentDateCalendar").val(
						$(this).val());
			});

	$("#dobidCalendar").datetimepicker({
		format : dateFormat,
		closeOnDateSelect : true,
		timepicker : false,

	}).on("change", function() {
		$('#dobid').val($(this).val());
	})
	$('#dobid').blur(function() {
		$("#dobidCalendar").val($(this).val());
	})

	$("#toDateCalendarTime").datetimepicker({
		format : 'H:i',
		closeOnDateSelect : false,
		timepicker : true,
		datepicker : false,
		step : 15
	}).on("change", function() {
		$('#orderReceiveTime').val($(this).val());
	})

	$('#orderReceiveTime').blur(function() {
		$("#toDateCalendarTime").val($(this).val());
	})

	$("#igstTR").hide();

	$("#browseBtnNew").click(function() {
		$("#myModal").modal('show');

	})
 $("#saveSaddressData").click(function(){
		//	var customerId = $("#customerId").val();
		  
	    	obj = {};
	    	
	    	obj.shippingId = $("#shippingId").val();
	    	obj.customerId = $("#customerId").val();
	    	obj.country1 = $('#country1').val();
			obj.states1 = $('#states1').val();
			obj.city1 = $('#city').val();
			obj.street11 = $('#street11').val();
			obj.street21 = $('#street21').val();
			obj.zipCode1 = $('#zipCode1').val();
			obj.phone1 = $('#phone1').val();
			obj.fax1 = $('#fax1').val()
			//obj.defaultStatus= $("input[name='isDefault']:checked").val();
			var ds=$("input[name='isDefault']:checked").val();
			if(ds=='1'){
				obj.defaultStatus='1';
			}else{
				obj.defaultStatus='0';	
			}
	    	$(".formValidation").remove();
			allValid = true;
		
			if( obj.country1 == null || obj.country1 == ""){
				allValid = false;
				validationModal("Select County","country1");
			} 
	
	    	
			if(allValid) {
				
				submitAddressDetails(obj);
			}
	    	
	    })
	    
	    $("#categoryBtn").click(function(){
	    	
	    	//closeModal();
	    	$("#myModall").modal('show');
	    	getCategoryList();
	    	
	    })
	    
	       $("#selectCategory").click(function(){ 
    	var id = $("#tempCategoryId").val();
		var lvl = $("#prLevelId").val();
		
		if(id && lvl) {
			$("#prCategoryId").val(id);
			if(lvl == 'L1') {
				var textDesc = $("#lbl_"+id).text();
				$("#catDesc").text(textDesc);
			} else {
				var res = lvl.substring(1, 1000000);
				
				var lastText = $("#lbl_"+id).text();
				var textDesc = "";
				for(i = res; i > 1; i--) {
					var pUL = $("#"+id).attr("data-node-pid");
					//pUL = pUL.substring(3, 10000000000000);
					var newText = $("#lbl_"+pUL).text();
					console.log(newText+" "+i)
					textDesc =  newText+" > "+textDesc ; 
					id = pUL;
				}
				textDesc = textDesc + lastText;
				$("#catDesc").html(textDesc);
			}
		}
		$("#myModall").modal("hide");
		closeModall();
    })
    
       $("#saveSKUData").click(function(){
    	
    	obj = {};
    	
    	obj.isEdit = $("#isEdit").val();
    	obj.productId = $("#productId").val();
    	obj.sku = $("#skuId").val();
    	obj.model = $("#model").val();
    	obj.manufacture = $("#manufacture").val();
    	obj.variationType = $("#variationType").val();
    	obj.variationValue = $("#variationValue").val();
    	obj.unit = $("#itemUnit").val();
    	var price = $("#salePrice").val();
    	price = price.replaceAll(",","");
    	obj.salePrice = price;
    	obj.saleTax = $("#saleTax").val();
    	obj.saleCess = $("#saleCess").val();
    	obj.area = $("#area").val();
    	obj.description = $("#description").val();
    	$(".formValidation").remove();
		allValid = true;
	
		if( obj.manufacture == null || obj.manufacture == ""){
			allValid = false;
			validationModal("Item Name Required","manufacture");
		} 

		
		if( obj.unit == null || obj.unit == ""){
			var mode = $("#mode").val();
			if (mode=="PMODE00004"){
				allValid = true;
			}else{
				allValid = false;
				validationModal("UOM Required","itemUnit");
			}

		} 
		if( obj.salePrice == null || obj.salePrice == ""){
			allValid = false;
			validationModal("Sale Price Required","salePrice");
		} 

    	
		if(allValid) {
			submitProductDetails(obj);
		}
    	
    })
    
    
        $("#productSave").click(function(){
    	  
    	var data = [];
        $(".hvrbox-layer_bottom").each(function(i) {
        	var xyz = "";
        	 toDataUrl($(this).attr("src"), function(myBase64) {
        		
        		 xyz = myBase64;
        		 data.push(myBase64);
        		 console.log(xyz)
        	});  
         	 
        })
    
	
          obj = {};
   
            obj['productId'] = $("#productId").val();
            obj['productName'] = $("#productName").val();
            obj['brand'] = $("#brand").val();
            obj['mode'] = $("#mode").val();
            obj['hsnCode'] = $("#hsnCodeProduct").val();
            obj['sicCode'] = $("#sicCode").val();
            obj['productStatus'] = $("input[name='isActive']:checked").val();
            obj['productCategory'] = $("#prCategoryId").val();
            obj['productCategoryText'] = $("#catDesc").text();
            obj['imgList'] = data;
            $(".formValidation").remove();
           allPValid = true;
    		if( $("#productName").val() == null || $("#productName").val() == ""){
    			allPValid = false;
    			validationModal("Product Name Required","productName");
    		} 
    		/* if( $("#brand").val() == null || $("#brand").val() == ""){
    			allPValid = false;
    			validationModal("Brand Required","brand");
    		}  */
    		if( $("#mode").val() == null || $("#mode").val() == ""){
    			allPValid = false;
    			validationModal("Mode Required","mode");
    		} 
    		if( $("#hsnCodeProduct").val() == null || $("#hsnCodeProduct").val() == ""){
    			allPValid = false;
    			validationModal("HSN/SAC Code Required","hsnCodeProduct");
    		} 
    		var productId = $('#productheadId').html();
            if(allPValid) {
            	if(productId!=""){
            		var rowCount = skuOptions.api.getDisplayedRowCount();
	            		if(rowCount>0){
	            			submitProduct(obj);
	            		}else{
	                      	$("body").removeClass("overlay");
	                      	$("#messageParagraph").text("Please Select Atleast one Item");
	                      	$("#msgOkModal").removeClass("btn3");
	                      	$("#msgOkModal").addClass("btn1");
	                      	$("#msgModal").modal('show');
	            		}
         
              }else{
            	submitProduct(obj);
              }
            	
            	
            }
         
    })
	    
	/* product category	 
	 */
	$("#browseBtnNew")
			.click(
					function() {
						$(".benefitChk").prop("checked",
								false);
						$("#productModName").val("");
						$("#brand").val("");
						$("#skuMod").val("");
						$("#modelMod").val("");
						$("#manufactureItemMod").val("");
						$("#variationTypeMod").val("");
						$("#variationValueMod").val("");
						$("#unitMod").val("");

						$('.loader').show();
						$("body").addClass("overlay");
						$("#productDiv").modal("show");
						$("#productCategoryCBDiv").empty();
						$("#select_product").empty();
						$
								.ajax({
									type : "POST",
									url : "view-saleorder-item-get-product-list",
									dataType : "json",
									contentType : "application/json",
									data : "a",
									success : function(
											response) {
										if (response.message == "success") {

											for (var i = 0; i < response.body.length; i++) {
												var row = "";
												if (response.body[i].categoryId == response.body[i].parentId) {
													if (response.body[i].nodeCount > 0) {

														row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'
																+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'
																+ response.body[i].categoryName
																+ '</td></tr>';
													} else {
														row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'
																+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk pc1-box" type="checkbox" id="ccCheck_'
																+ response.body[i].categoryId
																+ '" value="'
																+ response.body[i].categoryId
																+ '" name="'
																+ response.body[i].categoryName
																+ '" onchange=selectCheckBox("'
																+ response.body[i].categoryId
																+ '","'
																+ response.body[i].catLevel
																+ '")>'
																+ response.body[i].categoryName
																+ '</td></tr>';
													}

												} else {
													if (response.body[i].nodeCount > 0) {
														row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'
																+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'
																+ response.body[i].categoryName
																+ '</td></tr>';
													} else {

														row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'
																+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk pc1-box" type="checkbox" id="ccCheck_'
																+ response.body[i].categoryId
																+ '" value="'
																+ response.body[i].categoryId
																+ '" name="'
																+ response.body[i].categoryName
																+ '" onchange=selectCheckBox("'
																+ response.body[i].categoryId
																+ '","'
																+ response.body[i].catLevel
																+ '")>'
																+ response.body[i].categoryName
																+ '</td></tr>';
													}
												}
												$(
														"#productCategoryCBDiv")
														.append(
																row);

											}
											$('.loader')
													.hide();
											$("body")
													.removeClass(
															"overlay");

											$('#basic')
													.simpleTreeTable(
															{
																expander : $('#expander'),
																collapser : $('#collapser'),
																store : 'session',
																storeKey : 'simple-tree-table-basic'
															});
										}
									},
									error : function(data) {
										console.log(data)
										$('.loader').hide();
										$("body")
												.removeClass(
														"overlay");
										$("#productDiv")
												.modal(
														"show");
									}
								});
					})
	/* sales order page*/
						//localStorage.setItem('ReqQuotationData', null);
						var ld = localStorage.getItem('ReqSaleOrderData');
						var data = JSON.parse(ld);
						console.log(data)
						if (data) {
							//add();
							$('#reqAppvBtn').hide();
							$('#hideTbl').hide();
							$('#blockeOrder').hide();
							$('#searchRowDiv').hide();
							$('#sendToProduction').hide();
							$('#packages').hide();
							$('#delete').hide();
							$("#add").hide();
							$("#myGrid").hide();
							$("#save").show();
							$("#Cancel").show();
							$("#addData").show();
							$("#totalCandidate").hide();
							$("#dwnld").hide();
							$("#upld").hide();
							$("#poId").val(data[0].referenceId);
							$("#poId").attr('disabled', true);
							$("#documentDetails").show();
							$("#customerData").hide();
							 $("#termsdiv").hide();
							itemOptions.api.setRowData(data);
							$("#terms").val(data[0].terms);
							$("#custId").val(data[0].custId);
							$("#custName").val(data[0].custName);
							
							$("#salesPersonId").val(data[0].salesPersonId);
							$("#salespersonName").val(data[0].salesPerson);
							$("#reference").val(data[0].reference);
							$("#qutDescription").val(data[0].qutDescription);
							$("#deliveryChallanDtls").hide();
							$("#shipment").hide();
							$("#salesOrderId").val(data[0].salesOrder);
							$("#taxType").val(data[0].taxType);
							$("#custId").val(data[0].custId);
							$("#custName").val(data[0].custName);
							$("#grandTotal").val(data[0].grandTotal);
							$("#qSGST").val(data[0].qSGST);
							$("#qCGST").val(data[0].qCGST);
							$("#subTotal").val(data[0].subTotal);
							$("#qIGST").val(data[0].qIGST);
							$("#internalNotes").val(data[0].internalNotes);
							$("#orderType").val(data[0].orderType);
							$("#tcsName").val(data[0].tcs);
							$("#tcsAmount").val(data[0].tcsAmount);
							$("#paymentTermId").val(data[0].paymentTermId);
							$("#deliveryMethodId").val(data[0].deliveryMethodId);
							$("#expectedShipmentDate").val(data[0].expectedShipmentDate);
							$("#shippingHiddenId").val(data[0].shippingHiddenId);

							getAddressDetails(data[0].custId,data[0].shippingHiddenId);
								//getAddressDetails(data[0].custId);
								//getSalesOrder(data[0].custId,data[0].salesOrder);
								console.log("dataset for challan-------",JSON.stringify(data[0]));
								var date = (new Date()).toISOString().split('T')[0];
								var newDate = changeDateFormat(date);
								$("#orderReceiveDate").val(newDate);
								$.ajax({
									type : "GET",
									url : "view-saleorder-get-insertedid",
									success : function(response) {
										if (response.message == "success") {
											$("#referenceId").val(response.body[0].key);
										}
									},
									error : function(e) {
									}
								});
					
							$("#doctbodyData").empty();
							var documentList = data[0].documentList;
							if (documentList != null && documentList != "") {
								for (var i = 0; i < documentList.length; i++) {

									var tbl = '<tr>'
											+ '<td style="display:none" align="center" class="pdb-24"><input class="checkCls" type="checkbox" id="check2"><label for="check2"></label></td>'
											+ '<td style="display:none"><div class="form-group"> <select class="form-control documentclss" id="docid_0" onblur="removeValid(event);"> <option value="">Select</option>  </select> </div></td>'
											+ '<td><div class="form-group"> <input type="text" value="'+documentList[i].documnentName+'" class="form-control docNoclss" id="docnoid_'+i+'"> </div></td>'
											+ '<td><div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_'+i+'" id="uploadFor_'+i+'"> <i class="ti-pencil" id="clickImg_'+i+'"></i> </label>'
											+ '<div class="controls"> <input type="file" class="document" id="uploadDoc_'
											+ i
											+ '"name="userImage" onchange="saveMultiFile(event)" /> </div>'
											+ '</div> <input type="hidden" id="uploadHidden_'+i+'" value="'+documentList[i].fileName+'" class="uploadHidCls">'
											+ '<div id="uploadedBillDiv_'+i+'" align="center" class="uploadedBillCls"><div class="uploadicon position-l">'
											+ documentList[i].action
											+ '</div></div>'
											+ '<div id="imageName_'+i+'" class="imageName">'
											+ documentList[i].fileName
											+ '</div>'
											+ '<input type="hidden" id="editId_'+i+'" value="'+ documentList[i].vendorRfqId+'">'
											+ '<div id="dltImage_'+i+'" class="custom-file-delete"><i class="ti-close position-l rmv1" onclick="openDeleteConfirm()"></i></div> </td>'
											+ '</tr>';

									$("#doctbodyData").append(tbl);
								}
							} else {
								var tbl = '<tr> <td style="display:none" align="center" class="pdb-24"><input class="checkCls" type="checkbox" id="check2"><label for="check2"></label></td>'
										+ '<td style="display:none"><div class="form-group"> <select class="form-control documentclss" id="docid_0" onblur="removeValid(event);"> <option value="">Select</option> </select> </div></td>'
										+ '<td><div class="form-group"> <input type="text" value="" class="form-control docNoclss" id="docnoid_"></div></td>'
										+ '<td> <div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_0" id="uploadFor_0"> <i class="ti-plus" id="clickImg_0"></i> </label>'
										+ '<div class="controls"> <input type="file" class="document" id="uploadDoc_0" name="userImage" onchange="saveMultiFile(event)" /></div> </div> <input type="hidden" id="uploadHidden_0" class="uploadHidCls">'
										+ '<div id="uploadedBillDiv_0" align="center" class="uploadedBillCls"></div> <div id="imageName_0" class="imageName"></div><div id="dltImage_0" ></div><input type="hidden" id="editId_0></td>'
										+ '</tr>';
								$("#doctbodyData").append(tbl);
							}
							localStorage.setItem('ReqSaleOrderData', null);
						} else {
							$("#salesOrderId").val('New');
						}
});
	/* salesOrder def
	 * 
	 */

	var columnDefs = [
			{
				headerCheckboxSelection : false,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true,
				pinned: 'left',
			},
			{
				headerName : "Sales Order ID",
				field : "salesOrder",
				pinned: 'left',
				cellRenderer : function(params) {
					return '<a onclick=editsalesOrder("'
							+ params.data.salesOrder + '","'
							+ params.data.pendingQut +'","'+params.data.approveStatus
							+ '") href="javascript:void(0)">'
							+ params.data.salesOrder + '</a>';
				}
			},
			{
				headerName : "PO ID",
				field : "poId",
			},
			{
				headerName : 'Customer Name',
				field : "custName",
				width : 300,
			},
			{

				headerName : 'Receive Date',
				field : "orderReceiveDate",
				width : 130,
				cellStyle : {
					textAlign : 'center'
				}
			},
			{

				headerName : 'Expected Shipment',
				field : "expectedShipmentDate",
				width : 130,
				cellStyle : {
					textAlign : 'center'
				}
			}, {
				headerName : 'Approve Status',
				field : "approveStatus",
				width:150,
				cellStyle : {
					textAlign : 'center'
				},
				cellRenderer : function(params) {
					if (params.data.approveStatus =="Approved") { 
						return '<div style="color:#0642f5">'+params.data.approveStatus+'</div>';
					}else {
						return '<div style="color:#a9a9a9">'+params.data.approveStatus+'</div>';
					}
				}
			}, {
 
				headerName : 'Order Quantity',
				field : "quantity",
				width : 150,
				type : 'rightAligned',
			}, {
				headerName : 'Packed Quantity',
				field : "packedQut",
				width : 150,
				type : 'rightAligned',
			}, {
				headerName : 'Pending Quantity',
				field : "pendingQut",
				width : 150,
				type : 'rightAligned',
			}, {
				headerName : 'Created By',
				field : "qutCreatedBy"
			} ];

	var gridOptions = {
		columnDefs : columnDefs,
		rowSelection : 'multiple',
		groupSelectsChildren : true,
		suppressRowClickSelection : true,
		suppressAggFuncInHeader : true,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 150,
			height : 10
		},
		onSelectionChanged : rowSelect,
	};

	/*
	 sales Item 
	 */
	var itemDefs = [
			{
				headerCheckboxSelection : false,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true

			}, 
			{
				headerName : "SlNo",
				field : "slNo",
				width : 70,
				cellRenderer : function(params) {
					if (params.data.slNo) {
						return '<a onclick=editProduct("' + params.data.slNo
								+ '") href="javascript:void(0)">'
								+ params.data.slNo + '<i class="bi-arrow-right-square-fill"></i></a>';
					} else {
						return '<a onclick=editProduct("' + params.data.slNo
								+ '") href="javascript:void(0)">'
								+ params.data.slNo + '<i class="bi-arrow-right-square-fill"></i></a>';
					}
				}
			}, {
				headerName : 'salesOrderId',
				field : "salesOrderId",
				hide:true,
			}, {
				headerName : 'SKU',
				field : "sku",
				cellClass : function(params) {
					if (params.data.blockeOrder === 'Blocked') {
						return (params.data.blockeOrder === 'Blocked' ? 'redClsWT' : 'tptCls');
					}
				}
				
			}, {
				headerName : 'HSN Code',
				field : "hsnCode",
			}, {

				headerName : 'Item Name',
				field : "itemName",
				width : 175,
			}, {

				headerName : 'Item Id',
				field : "itemId",
				width : 175,
				hide : true,
			}, {
				headerName : 'Quantity',
				field : "quantity",
				type : 'rightAligned',
				width : 100,
				//valueFormatter : currencyFormatter
			}, {
				headerName : 'Unit',
				field : "unitName",
			}, {
				headerName : 'Unit',
				field : "unit",
				hide : true,
			},
			{

				headerName : 'Size In MM',
				field : "sizeInMM",
				width : 115,
			}, 
			{

				headerName : 'Thickness In MM',
				field : "thicknessInMM",
				width : 150,
			}, 
			{
				headerName : 'Unit Price',
				field : "unitPrice",
				type : 'rightAligned',
				//valueFormatter : currencyFormatter,
				hide : true,
			}, {
				headerName : 'Discount',
				field : "discount",
				type : 'rightAligned',
				hide : true,
			//	valueFormatter : currencyFormatter
			}, {
				headerName : 'Amount',
				field : "lineTotal",
				type : 'rightAligned',
				//valueFormatter : currencyFormatter,
				aggFunc : 'sum',
				hide : true,
			}, {
				headerName : 'GST Rate',
				field : "gstRate",
				type : 'rightAligned',
				width : 100,
				//valueFormatter : currencyFormatter,
				hide : true,
			}, {
				headerName : 'CGST',
				field : "itemCgst",
				type : 'rightAligned',
				width : 100,
				//valueFormatter : currencyFormatter,
				hide : true,
			}, {
				headerName : 'SGST',
				field : "itemSgst",
				type : 'rightAligned',
				width : 100,
				hide : true,
				//valueFormatter : currencyFormatter
			}, {
				headerName : 'IGST',
				field : "itemIgst",
				type : 'rightAligned',
				width : 100,
				hide : true,
				//valueFormatter : currencyFormatter
			}, {
				headerName : 'Taxable Amount',
				field : "taxableAmt",
				type : 'rightAligned',
				width : 155,
				hide : true,
				//valueFormatter : currencyFormatter
			},
			{
				headerName : 'Item Description',
				field : "itemDesc",
				width : 183,
			},
			{
				headerName : 'Remarks',
				field : "itemRemarks",
				width : 183,
			},
			{
				headerName : 'No. Of Item',
				field : "noOfItem",
				width : 183,
			},
			{
				headerName : "Status",
				field : "blockeOrder",
				width : 183,
				
			/*  cellRenderer : function(params) {
					if (params.data.blockedStatus =="Blocked") { 
						return '<div style="color:#0642f5">'+params.data.blockeOrder+'</div>';
					} else {
						return '<div style="color:#a9a9a9">'+params.data.blockeOrder+'</div>';
					}	
				}  */
				
			}];

	var itemOptions = {
		columnDefs : itemDefs,
		rowSelection : 'single',
		groupSelectsChildren : true,
		suppressRowClickSelection : true,
		suppressAggFuncInHeader : true,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 120,
			height : 10
		},
		onSelectionChanged : rowSelectItem,
		getRowNodeId : function(data) {
			return data.slNo;
		}
	};

	const columnDefsa = [
		{
		    headerCheckboxSelection: true,
		    headerCheckboxSelectionFilteredOnly: true,
		    checkboxSelection: true,
		    width: 10,
		    sortable: false,
		    filter: false,
		    resizable: true

		},
		{
			  headerName: "Address Id",
			    field: "addressId",
			    cellRenderer: function(params) {
			    return '<a onclick=openDetails("' + params.data.addressId
				+ ',' + '0' + '") href="javascript:void(0)">'
				+ params.data.addressId + '</a>'; 
			    }
			    /* cellRenderer: function(params) {
			        return '<a onclick=("' + params.data.addressId + '","'+params.data.customerId+'") href="javascript:void(0)">' + params.data.addressId + '</a>';
			    } */
		},

		{
			headerName: "Country",
		    field: "country",
		    width: 200,
		    hide:true,
		}, {
			headerName: "Country",
		    field: "countryName",
		    width: 200,
		}, {
			headerName: "State",
		    field: "state",
		    width: 200,
		    hide:true,
		    
		}, {
			headerName: "State",
		    field: "stateName",
		    width: 200,
		}, {
			headerName: "City",
		    field: "city",
		    width: 200,
		}, {
			headerName: "Street",
		    field: "street1",
		    width: 200,
		}, {
			headerName: "Street",
		    field: "street2",
		    width: 200,
		}, {
			headerName: "Zip Code",
		    field: "zipCode",
		    width: 200,
		}, {
			headerName: "Phone",
		    field: "phone",
		    width: 200,
		}, {
			headerName : "Fax",
			field : "fax",
			cellStyle : {
				textAlign : 'left'
			}
		}, {
			headerName: "Default Address",
		    field: "defaultStatus",
		    width: 200,
		    cellStyle : {
				textAlign : 'center'
			},
			cellRenderer : function(params) {
				if (params.data.defaultStatus =="Yes") { 
					return '<div style="color:#0642f5">'+params.data.defaultStatus+'</div>';
				}else{
					return '<div style="color:#a9a9a9">'+params.data.defaultStatus+'</div>';
				}
			}
		} ];

	const gridSAOptions = {
	columnDefs : columnDefsa,
	defaultColDef : {
		sortable : true,
		filter : true,
		resizable : true,
		width : 187,
		height : 10
	},
	rowSelection : 'multiple',
	suppressRowClickSelection : true,
	onSelectionChanged : rowSelectAddress,
	
	};
		
	function rowSelectAddress(){
		var selectedRows =gridSAOptions.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
		        $('#deleteAddressDtls').attr("disabled", false);
		        $('#newAddress').attr("disabled", true);
				
		}else{
			    $('#deleteAddressDtls').attr("disabled", true);
			    $('#newAddress').attr("disabled", false);
			
		}
	}

	
	var columnSKUDefs = [{
	    headerCheckboxSelection: true,
	    headerCheckboxSelectionFilteredOnly: true,
	    checkboxSelection: true,
	    width: 10,
	    sortable: false,
	    filter: false,
	    resizable: true,
	    pinned: 'left',
	},
	{
	    headerName: "SKU",
	    field: "sku",
	    pinned: 'left',
	    cellRenderer: function(params) {
	        return '<a onclick=openSKUDetails("' + params.data.sku + '","'+params.data.productId+'") href="javascript:void(0)">' + params.data.sku + '</a>';
	    }
	},
	{
	    headerName: "Manufacture Item",
	    field: "manufacture",
	    width: 200,
	},
	{
		headerName: "Description",
	    field: "description",
	    width: 200,
	},
	{
		  headerName: "Model/Size",
	    field: "model"
	},
	{
		  headerName: "Area",
		    field: "area"
		},
		{
	    headerName: "Variation Type",
	    field: "variationType"
	},
	{
	    headerName: "Variation Value",
	    field: "variationValue"
	},
	{
	    headerName: "UOM",
	    field: "unit"
	},
	{
	    headerName: "Unit Sale Price",
	    field: "sPrice",
	    cellStyle: {textAlign: 'right'}
	}, 
	{
	    headerName: "Create Date",
	    field: "createdDate",
	    cellStyle: {textAlign: 'center'}
	}
	];



	var skuOptions = {
	columnDefs: columnSKUDefs,
	rowSelection: 'multiple',
	defaultColDef: {
		sortable: true,
	    filter: true,
	    resizable: true,
	    width: 150,
	    height: 10
	},
	rowSelection: 'multiple',
	suppressRowClickSelection : true,
	onSelectionChanged: onSelectionChangedsku 
	};

	function onSelectionChangedsku(){
		var selectedRows =skuOptions.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
		        $('#deletess').attr("disabled", false);
		        $('#newBtn2').attr("disabled", true);
				
		}else{
			    $('#deletess').attr("disabled", true);
			    $('#newBtn2').attr("disabled", false);
			
		}
	}
	
	var columnDefsProduct = [{
	    headerCheckboxSelection: true,
	    headerCheckboxSelectionFilteredOnly: true,
	    checkboxSelection: true,
	    width: 10,
	    sortable: false,
	    filter: false,
	    resizable: true,
	    pinned: 'left',
	},
	{
	    headerName: "Product Id",
	    field: "productId",
	    pinned: 'left',
	    cellRenderer: function(params) {
	        return '<a onclick=openDetailss("' + params.data.productId + '") href="javascript:void(0)">' + params.data.productId + '</a>';
	    }
	},
	{
		 headerName: "Product Name",
		    field: "productName",
		    width: 200,
		    pinned: 'left',
	},
	{
		 headerName: "Brand",
		    field: "brand",
		    cellStyle: {textAlign: 'center'}
	   
	},
	{
	   
	    headerName: "Category",
	    field: "productCategoryText",
	    width: 250,
	},
	{
	    headerName: "Mode",
	    field: "mode",
	    cellStyle: {textAlign: 'center'}
	},
	{
		headerName: "Status",
	    field: "productStatus",
	    cellStyle: {textAlign: 'center'}
	},
	{
	  
	    headerName: "Created By",
	    field: "createdBy",
	    cellStyle: {textAlign: 'center'}
	},
	{
	    headerName: "Create Date",
	    field: "createdDate",
	    cellStyle: {textAlign: 'center'}
	}];
	var gridOptionsProduct = {
			columnDefs: columnDefsProduct,
			rowSelection: 'multiple',
			defaultColDef: {
				sortable: true,
			    filter: true,
			    resizable: true,
			    width: 149,
			    height: 10
			},
			rowSelection: 'multiple',
			suppressRowClickSelection : true,
			onSelectionChanged: onSelectionChangedproduct
	};
	
	function onSelectionChangedproduct(){
		var selectedRows =gridOptionsProduct.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
		        $('#deleteproduct').attr("disabled", false);
		        $('#newBtn').attr("disabled", true);
				
		}else{
			    $('#deleteproduct').attr("disabled", true);
			    $('#newBtn').attr("disabled", false);
			
		}
	}
	function add() {
		$("#documentDetails").show();
		//getSalessPersonList();
		$("#customerData").hide();
		$("#packages").hide();
		$("#sendToProduction").hide();
		$('#delete').hide();
		$('#blockeOrder').hide();
		$('#reqAppvBtn').hide();
		$('#delete1').attr("disabled", true);
		$("#searchRowDiv").hide();
		$('#hideTbl').hide();
		$("#add").hide();
		$("#myGrid").hide();
		$("#save").show();
		$("#Cancel").show();
		$("#addData").show();
		$("#totalCandidate").hide();
		$("#dwnld").hide();
		$("#upld").hide();
		$("#addre").hide();

		$("#salesOrderheadId").html("");
		$("#poId").val("");
		$("#custId").val("");
		$("#custName").val("");
		$("#reference").val("");
		$("#toDateCalendar").val("");
		$("#qutDescription").val("");
	
		$("#qutCreatedBy").val("");
		$("#qutUpdatedOn").val("");
		$("#subTotal").val("");
		$("#grandTotal").val("");
		$("#slNo").val("");
		$("#sku").val("");
		$("#itemId").val("");
		$("#itemName").val("");
		$("#quantity").val("");
		$("#unitPrice").val("");
		$("#discount").val(0);
		$("#gstRate").val(0);
		$("#lineTotal").val("");
		$("#salesOrder").val("");
		$("#salesPersonId").val("");
		$("#salespersonName").val("");
		$("#orderReceiveDate").val("");
		$("#orderReceiveTime").val("");
		$("#expectedShipmentDate").val("");
		$("#paymentTermId").val("");
		$("#orderType").val("");
		$("#deliveryMethodId").val("");
		$("#salesPersonId").val("");
		$("#terms").val();
		
		$("#qIGST").val("");
		$("#qCGST").val("");
		$("#qSGST").val("");
		$("#itemIgst").val();
		$("#itemCgst").val();
		$("#itemSgst").val();
		$("#adjustment").val(0);
		$("#tcsAmount").val(0);
		$("#doctbodyData").empty();
		var tbl = '<tr> <td style="display:none" align="center" class="pdb-24"><input class="checkCls" type="checkbox" id="check2"><label for="check2"></label></td>'
				+ '<td style="display:none"><div class="form-group"> <select class="form-control documentclss" id="docid_0" onblur="removeValid(event);"> <option value="">Select</option> </select> </div></td>'
				+ '<td><div class="form-group"> <input type="text" value="" class="form-control docNoclss" id="docnoid_"></div></td>'
				+ '<td> <div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_0" id="uploadFor_0"> <i class="ti-plus" id="clickImg_0"></i> </label>'
				+ '<div class="controls"> <input type="file" class="document" id="uploadDoc_0" name="userImage" onchange="saveMultiFile(event)" /></div> </div> <input type="hidden" id="uploadHidden_0" class="uploadHidCls">'
				+ '<div id="uploadedBillDiv_0" align="center" class="uploadedBillCls"></div> <div id="imageName_0" class="imageName"></div><div id="dltImage_0" ></div><input type="hidden" id="editId_0></td>'
				+ '</tr>';
		$("#doctbodyData").append(tbl);
		var date = (new Date()).toISOString().split('T')[0];
		var newDate = changeDateFormat(date);
		$("#orderReceiveDate").val(newDate);
		$.ajax({
			type : "GET",
			url : "view-saleorder-get-insertedid",
			success : function(response) {
				if (response.message == "success") {
					//console.log("Response--------------"+JSON.stringify(response.body[0].name));
					$("#referenceId").val(response.body[0].key);
				}
			},
			error : function(e) {
			}
		});
	}

	function Cancel() {
		agGrid.simpleHttpRequest({
			url : "view-saleorder-through-ajax"
		}).then(function(data) {
			var len = data.length;
			$('#totalCandidate').find('span').html(len);
			gridOptions.api.setRowData(data);
		});
		localStorage.setItem('ReqQuotationData', null);
		$("#customerData").show();
		$('.formValidation').remove();
		$("#packages").show();
		$("#sendToProduction").show();
		$('#delete').show();
		$("#searchRowDiv").show();
		$("#add").show();
		$("#myGrid").show();
		$("#save").hide();
		$("#Cancel").hide();
		$("#addData").hide();
		$('#hideTbl').show();
		$("#totalCandidate").show();
		$("#dwnld").show();
		$("#upld").show();
		itemOptions.api.setRowData();

		$('#delete').attr("disabled", true);
	    $('#packages').attr("disabled", true);
		$('#salesIncoice').attr("disabled", true);
		$('#sendToProduction').attr("disabled", true);
		$("#documentDetails").hide();

		$("#reqTable").show();
		$(".btn-hs").show();
		$("#myGrid").show();
		$("#addData").hide();
		$("#reqAppvBtn").show();
		$("#poId").val('');
		$("#salesOrderheadId").html('');
		$("#custId").val('');
		$("#custName").val('');
		$("#poId").attr('disabled', false);
		$("#qutDescription").val('');
		$("#terms").val('');
		$("#itemId").val('');
		$("#itemName").val('');
		$("#quantity").val('');
		$("#unitPrice").val('');
		$("#discount").val('');
		$("#gstRate").val('');
		$("#lineTotal").val('');
		$("#subTotal").val('');
		$("#qIGST").val('');
		$("#qCGST").val('');
		$("#qSGST").val('');
		$("#grandTotal").val('');
		$("#taxType").val('');
		$("#sku").val('');
		$("#salesOrder").val('');
		$("#orderReceiveDate").val('');
		$("#orderReceiveTime").val('');
		
		$("#itemIgst").val();
		$("#itemCgst").val();
		$("#itemSgst").val();
		$("#itemSgst").val();
		closeNav();
		$('#reqAppvBtn').attr("disabled", true);

	}

	function openNav() {
		$("#sku").val("");
		$("#itemName").val("");
		$("#hsnCode").val("");
		$("#quantity").val("");
		$("#unitPrice").val("");
		$("#discount").val(0);
		$("#gstRate").val(0);
		$("#lineTotal").val("");
		$("#editProduct").val("");
		$("#itemRemarks").val("");
		var custValid = true;
		if ($("#custName").val() == null || $("#custName").val() == "") {
			custValid = false;
		}
		$("#save").hide();
		if (custValid) {
			document.getElementById("mySidenav").style.cssText = "width: 30%; position: absolute; right:-10px; overflow: hidden; height:auto; top:566px;";
			document.getElementById("main_content").style.width = "70%";
			document.getElementById("gstCalS").style.width = "70%";
		} else {
			$("#messageParagraph").text("First Choose Customer Name");
			$("#msgOkModal").removeClass("btn3");
			$("#msgOkModal").addClass("btn1");
			$("#msgModal").modal('show');
			$("#save").show();
		}
	
		
	}

	function closeNav() {
		document.getElementById("mySidenav").style.width = "0";
		document.getElementById("main_content").style.width = "100%";
		document.getElementById("gstCalS").style.width = "100%";
		$('.formValidation').remove();
		$("#sku").val('');
		$("#itemId").val('');
		$("#itemName").val('');
		$("#hsnCode").val('');
		$("#unit").val('');
		$("#quantity").val('');
		$("#unitPrice").val('');
		$("#discount").val('');
		$("#gstRate").val('');
		$("#lineTotal").val('');
		$("#editProduct").val(null);
		$("#save").show();
		
	}

	/*
	 * taxtype fn
	 */
	function hideShowS() {
		var taxType = $("#taxType").val();
		if (taxType == 'true') {
			$('#igstTR').hide();
			$('#cgstTR').show();
			$('#sgstTR').show();
		} else {
			$('#igstTR').show();
			$('#cgstTR').hide();
			$('#sgstTR').hide();
		}

	}

	/* customer AutoSearch */

	function getCustomerList() {
		var search = $("#custName").val();
		if (search) {
			$.ajax({
						type : "POST",
						url : "view-saleorder-get-customer-list",
						dataType : 'json',
						contentType : 'application/json',
						data : search,
						success : function(response) {
							if (response.message == "success") {
								console.log("response data"
										+ JSON.stringify(response))
								if (response.body.length != 0) {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1" >';
									for (var i = 0; i < response.body.length; i++) {
										content += '<li style="margin-left:-30px; font-weight:100; font-size:12px;"  class="autocompletedata cp" onClick="selectAutocompleteValue1(\''
												+ response.body[i].custId
												+ '\',\''
												+ response.body[i].custName
												+ '\',\''
												+ response.body[i].custGSTNo
												+ '\',\''
												+ response.body[i].taxType
												+ '\')">'
												+ response.body[i].custName
												+ '</li>';
									}
									content += '<li style="margin-left:-30px;background-color:#082958;color:#fff;"  onclick="AddCustomer();"><a class="addCust" href="#">Add New Customer</a>'
											+ '</li>';
									content += '</ul>';
									//console.log("content " + content)
									$("#suggesstion-box1_").show();
									$("#suggesstion-box1_").html(content);

								} else {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1">';
									content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;" onClick="selectAutocompleteValue()">'
											+ "No Data Found" + '</li>';
									content += '<li style="margin-left:-30px;"  onclick="AddCustomer();"><a class="addCust" href="#">Add New Customer</a>'
											+ '</li>';
									content += '</ul>';
									$("#suggesstion-box1_").show();
									$("#suggesstion-box1_").html(content);
								}
							}
						},
						error : function(data) {
							console.log(data);
						}
					})
		}else{
			$("#addre").hide();
			$("#suggesstion-box1_").hide();
		}

	}
 

	function AddCustomer() {
		$('.formValidation').remove();
		$('#addCustomerModel').modal('show');
		$("#salutation").val('');
		$("#customerNamee").val('');
		$("#companyName").val('');
		$("#customerDisplayName").val('');
		$("#cusEmail").val('');
		$("#custMobile").val('');
		$("#custSkype").val('');
		$("#custDesignation").val('');
		$("#department").val('');
		$("#webSite").val('');
		$("#status").val('');
		$("#pan").val('');
		$("#currency").val('');
		$("#openingBalance").val('');
		$("#paymentTerms").val('');
		$("#enableDtls").val('');
		$("#portableLang").val('');
		$("#faceBook").val('');
		$("#twitter").val('');
		$("#country").val('');
		$("#states").val('');
		$("#city").val('');
		$("#street1").val('');
		$("#street2").val('');
		$("#zipCode").val('');
		$("#phone").val('');
		$("#fax").val('');
		$("#country1").val('');
		$("#states1").val('');
		$("#city1").val('');
		$("#street11").val('');
		$("#street21").val('');
		$("#zipCode1").val('');
		$("#phone1").val('');
		$("#fax1").val('');
		$("#salutation1").val('');
		$("#street11").val('');
		$("#street21").val('');
		$("#zipCode1").val('');
		$("#phone1").val('');
		$("#fax1").val('');
		$("#salutation1").val('');
		
		$("#firstName").val('');
		$("#lastName").val('');
		$("#emailAdd").val('');
		$("#mobile").val('');
		$("#remarks").val('');
		$("#mainSa").hide();
		$("#contactPersonAcc").hide();
		$("#remarksAcc").hide();
		$("#btnDiv").show();
		$("#saveAdd").hide();

	}
	function cancelBtn1() {
		$('#addCustomerModel').modal('hide');
		customerType();
		
	}
	function addnewAddress() {

		$('#addAddressModel').modal('show');
		$('#billingInfo').show();
		$('.formValidation').remove();
		$("#countryb").val('');
		$("#statesb").val('');
		$("#cityb").val('');
		$("#street1b").val('');

		$("#street2b").val('');
		$("#zipCodeb").val('');

		$("#phoneb").val('');
		$("#faxb").val('');


	}
	function addnewAddress1() {

		$('#addAddressModel1').modal('show');
		$('#changeAddressModel').modal('hide');
		$('#shippingInfo').show();
		$('.formValidation').remove();
		$("#country1s").val('');
		$("#states1s").val('');
		$("#city1s").val('');
		$("#street11s").val('');

		$("#street21s").val('');
		$("#zipCode1s").val('');

		$("#phone1s").val('');
		$("#fax1s").val('');


	}
	function cancelBtnSp() {
		$('#addSalespersonModel').modal('hide');
	}

	function cancelBtn() {
		$('#addAddressModel').modal('hide');
	}
	function cancelBtn2() {
		$('#addAddressModel1').modal('hide');
	}
	function selectAutocompleteValue1(custId, custName, custGSTNo, taxType) {
		if (custId) {
			$("#custId").val(custId);
			$("#custName").val(custName);
			$("#custGSTNo").val(custGSTNo);
			$("#taxType").val(taxType);
			$("#search").val(custName);
			$("#search").attr('data-procat', custId);
			$("#suggesstion-box1_").hide();
			$("#addre").show();
			hideShowS();
			 getAddressDetails(custId,"new")
		} else {
			$("#custId").val("");
			$("#custName").val("");
			$("#custGSTNo").val("");
			$("#taxType").val("");
			$("#search").val("");
			$("#search").attr('data-procat', "");
			$("#suggesstion-box1_").hide();
		}
	}
	function selectAutocompleteValue() {
		$("#custId").val("");
		$("#custName").val("");
		$("#custGSTNo").val("");
		$("#taxType").val("");
		$("#search").val("");
		$("#search").attr('data-procat', "");
		$("#suggesstion-box1_").hide();
	}
 	function copyAsBillingAdd() {
 		document.getElementById("mySidenavAddress").style.cssText = "width: 30%; position: absolute; right:-10px; overflow: hidden; height:auto;bottom:490px;";

 		document.getElementById("mainSa").style.width = "70%";
 		 var customerId = $("#customerId").text();
 	
 		$("#shippingId").text(customerId); 
 		var country = $('#country').val();
 		var states = $('#states').val();
 		var city = $('#city').val();
 		var street1 = $('#street1').val();
 		var street2 = $('#street2').val();
 		var zipCode = $('#zipCode').val();
 		var phone = $('#phone').val();
 		var fax = $('#fax').val();

 		$('#country1').val(country);
 		//$('#states1').val(states);
 		getStateDataOnEdit1(states);
 		$('#city1').val(city);
 		$('#street11').val(street1);
 		$('#street21').val(street2);
 		$('#zipCode1').val(zipCode);
 		$('#phone1').val(phone);
 		$('#fax1').val(fax);
 	}

	function getStateDataOnEdit1(stateId) {
		var country = $("#country").val();
		if (country) {
			$.ajax({
				type : "GET",
				url : "view-saleorder-stateList?id=" + country,
				success : function(response) {
					if (response.message == "success") {
						$("#states1").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#states1").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#states1").append(option);
						}
						$("#states1").val(stateId);
					}
				},
				error : function(e) {
				}
			});
		} else {
			$("#states1").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#states1").append(option);
		}
	}
	function getStateDetails() {

		var cname = $('#country').val();
		if (cname) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
			$.ajax({
				type : "GET",
				url : "view-saleorder-stateList?id=" + cname,
				success : function(response) {
					if (response.message == "success") {
						$("#states").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#states").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#states").append(option);
						}
					}
				},
				error : function(e) {
				}
			});
		} else {
			$("#states").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#states").append(option);
			$("#states").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
		}
	}

	function getStateDetails1() {

		var cname = $('#country1').val();
		if (cname) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
			$.ajax({
				type : "GET",
				url : "view-saleorder-stateList?id=" + cname,
				success : function(response) {
					if (response.message == "success") {
						$("#states1").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#states1").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#states1").append(option);
						}
					}
				},
				error : function(e) {
				}
			});
		} else {
			$("#states1").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#states1").append(option);
			$("#states1").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
		}
	}

	function getStateDetailsb() {

		var cname = $('#countryb').val();
		if (cname) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
			$.ajax({
				type : "GET",
				url : "view-saleorder-stateList?id=" + cname,
				success : function(response) {
					if (response.message == "success") {
						$("#statesb").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#statesb").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#statesb").append(option);
						}
					}
				},
				error : function(e) {
				}
			});
		} else {
			$("#statesb").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#statesb").append(option);
			$("#statesb").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
		}
	}

	function getStateDetailss() {

		var cname = $('#country1s').val();
		if (cname) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
			$.ajax({
				type : "GET",
				url : "view-saleorder-stateList?id=" + cname,
				success : function(response) {
					if (response.message == "success") {
						$("#states1s").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#states1s").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#states1s").append(option);
						}
					}
				},
				error : function(e) {
				}
			});
		} else {
			$("#states1s").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#states1s").append(option);
			$("#states1s").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
		}
	}
	
	
	
	function checkNumeric(fieldId) {

		var tempVal = $("#" + fieldId).val().replace(/[^0-9 ]/g, '');

		const input = document.getElementById(fieldId);
		const position = input.selectionStart;
		if (tempVal.slice(-1) == ' ') {
			$("#" + fieldId).empty();
			tempVal = '';
		}
		$("#" + fieldId).val(tempVal);
	}

	function addCustomerInfo1() {
		
		var obj = {};
		var Id = $("#custId").val();
		obj.shippingId = $("#shippingId").val();
		obj.customerId = $("#custId").val();
		obj.country1 = $("#country1s").val();
		obj.states1 = $("#states1s").val();
		obj.city1 = $("#city1s").val();
		obj.street11 = $("#street11s").val();
		obj.street21 = $("#street21s").val();
		obj.zipCode1 = $("#zipCode1s").val();
		obj.phone1 = $("#phone1s").val();
		obj.fax1 = $("#fax1s").val();
		var ds=$("input[name='isDefault']:checked").val();
		if(ds=='1'){
			obj.defaultStatus='1';
		}else{
			obj.defaultStatus='0';	
		}
	console.log(obj);
	var validation = true; 
	
	 if (!validationUpdated("Select Country", 'country1s'))
		 validation = false; 
	 
	 if (!validationUpdated("Select State", 'states1s'))
		 validation = false; 
	
	 if (!validationUpdated("Zipcode Required", 'zipCode1s'))
		 validation = false; 
		
	
		if(validation){
		 $(".formValidation").remove();
		 $('.loader').show();
		$.ajax({
			type : "POST",
			url : "view-saleorder-add-cust-shippingaddress",
			contentType : "application/json",
			data : JSON.stringify(obj),
			success : function(response) {
				if (response.message == "Success") {
					$('.loader').hide();
					//getAddressDetails(Id)
					$("#messageParagraph").text("Shipping Address Saved Successfully");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
					cancelBtn2();
					getAddressDetails(Id,"new");
					//$("#myGrid").show();
					$("#addAddressModel1").modal('hide');
					
					$("#shippingInfo").hide();
				}
			},
			error : function(data) {
				$('.loader').hide();
			}
		})
	}
	}
	function addCustomerInfo2() {
		var obj = {};
		var Id = $("#custId").val();

		obj.customerId = $("#custId").val();
		obj.country = $("#countryb").val();
		obj.states = $("#statesb").val();
		obj.city = $("#cityb").val();
		obj.street1 = $("#street1b").val();
		obj.street2 = $("#street2b").val();
		obj.zipCode = $("#zipCodeb").val();
		obj.phone = $("#phoneb").val();
		obj.fax = $("#faxb").val();
		
		var validation = true;
		if (obj.countryb == null || obj.countryb == "") {
			validation = validationUpdated("Select Country",
					"countryb");
		}
		if (obj.statesb == null || obj.statesb == "") {
			validation = validationUpdated("Select State",
					"statesb");
		}
			if (obj.zipCodeb == null || obj.zipCodeb == "") {
			validation = validationUpdated("Zipcode Required",
					"zipCodeb");
		}
		if (validation) {
			$('.loader').show();
		$.ajax({
			type : "POST",
			url : "view-saleorder-add-cust-billingaddress",
			contentType : "application/json",
			data : JSON.stringify(obj),
			success : function(response) {
				if (response.message == "Success") {
					$('.loader').hide();
					$("#messageParagraph").text("Data Saved Successfully");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
					$("#addAddressModel").modal('hide');
					getAddressDetails(Id,"new");
					
					//$("#myGrid").show();
					$("#billingInfo").hide();

				}
			},
			error : function(data) {
				$('.loader').hide();
			}
		})

	}
}
	
	
	function getAddressDetails(custId,shipId) {
		   if(shipId=="null" || shipId=="" || shipId==null){
			   shipId="new";
		   }
		$.ajax({
			type : "GET",
			url : "view-saleorder-get-address?id=" + custId + "&shipId=" + shipId ,

			async : false,
			success : function(response) {
				if (response.message == "Success") {
					
					console.log(response.body)
					$("#con").html(response.body.country);
					$("#bstate").html(response.body.states);
					$("#bcity").html(response.body.city);
					$("#bstreet1").html(response.body.street1);
					$("#bstreet2").html(response.body.street2);
					$("#bzipcode").html(response.body.zipCode);
					$("#bphone").html(response.body.phone);
					$("#bfax").html(response.body.fax);

					$("#con1").html(response.body.country1);
					$("#bstate1").html(response.body.states1);
					$("#bcity1").html(response.body.city1);
					$("#bstreet11").html(response.body.street11);
					$("#bstreet21").html(response.body.street21);
					$("#bzipcode1").html(response.body.zipCode1);
					$("#bphone1").html(response.body.phone1);
					$("#bfax1").html(response.body.fax1);
					$("#shippingHiddenId").val(response.body.shippingId);
					$("#addre").show();
					

	                  }
			}
		});
	}
/* 	function showDisplay() {
		var ctype = $('#customerType').val();
		if (ctype == 'Business') {
			var compName = $('#companyName').val();
			$('#customerDisplayName').val(compName);
		} else {
			var title = $('#salutation').val();
			var name = $('#customerNamee').val();
			var fullName = title + ' ' + name;
			$('#customerDisplayName').val(fullName);
		}
	} */
	function showDisplay() {
		var ctype = $('#customerType').val();
		if (ctype == 'Business') {
			var compName = $('#companyName').val();
			$('#customerDisplayName').val(compName);
			$('#customerNamee').val(compName);
		} else {
			var title = $('#salutation').val();
			var name = $('#customerNamee').val();
			var fullName = title + ' ' + name;
			$('#customerDisplayName').val(fullName);
			$('#customerNamee').val(name);
		}

	}
	function customerType() {
		var ctype = $('#customerType').val();
		if (ctype == 'Business') {
			$('#salutationDiv').hide();
			$('#customerNameDiv').hide();
			$('#companyNameDiv').show();
			$('#custDesignationDiv').show();
			$('#departmentDiv').show();
		} else {
			$('#salutationDiv').show();
			$('#customerNameDiv').show();
			$('#companyNameDiv').hide();
			$('#custDesignationDiv').hide();
			$('#departmentDiv').hide();
		}

	}

	//add Customer Info

		function addCustomerInfo() {
		pmailVal();
		pancardVal();
		pmailVal1();
		mobVal1();
		mobVal2();
		mobVal3();
		//mobVal4();
		mobVal5();
		mobVal6();
		zipcodeVal();
		//zipcodeVal1();
		zipcodeVal2();
		var obj = {};
		obj.customerId = $('#customerId').text();
		obj.customerType = $('#customerType').val();
		obj.salutation = $('#salutation').val();
		obj.customerName = $('#customerNamee').val();
		obj.companyName = $('#companyName').val();
		obj.customerDisplayName = $('#customerDisplayName').val();
		obj.cusEmail = ($('#cusEmail').val()).toLowerCase();
		obj.custMobile = $('#custMobile').val();
		obj.custSkype = $('#custSkype').val();

		 obj.custDesignation = $('#custDesignation').val();
		obj.department = $('#department').val(); 
		obj.webSite = $('#webSite').val();
		obj.status = $('#status').val();
		obj.pan = $('#pan').val();
		obj.currency = $('#currency').val();
		obj.openingBalance = $('#openingBalance').val();
		obj.paymentTerms = $('#paymentTerms').val();
		//obj.enableDtls = $('#enableDtls').val();
		obj.portableLang = $('#portableLang').val();
		obj.gstNo = $('#gstNo').val();
		obj.whatsApp = $('#whatsApp').val();
		obj.faceBook = $('#faceBook').val();
		obj.twitter = $('#twitter').val();
		obj.country = $('#country').val();
		obj.states = $('#states').val();
		obj.city = $('#city').val();
		obj.street1 = $('#street1').val();
		obj.street2 = $('#street2').val();
		obj.zipCode = $('#zipCode').val();
		obj.phone = $('#phone').val();
		obj.fax = $('#fax').val();

	

		obj.salutation1 = $('#salutation1').val();
		obj.firstName = $('#firstName').val();
		obj.lastName = $('#lastName').val();
		obj.emailAdd = ($('#emailAdd').val()).toLowerCase();
		obj.mobile = $('#mobile').val();
		obj.remarks = $('#remarks').val();
	
		//console.log("object on add customer-----------" + JSON.stringify(obj));
		var validation = true;
		if (obj.customerType == null || obj.customerType == "") {
			validation = validationUpdated("Type Required",
					"customerType");
		}
		var ctype = $('#customerType').val();
		if (ctype == 'Business') {
			if (obj.companyName == null || obj.companyName == "") {
				validation = validationUpdated("Company Name Required",
						"companyName");
			}
		} else {
			/* if (obj.salutation == null || obj.salutation == "") {
				validation = validationUpdated("Salutation Required",
						"salutation");
			} */
			if (obj.customerName == null || obj.customerName == "") {
				validation = validationUpdated("Name Required",
						"customerNamee");
			}
		}
		
		
	
		if (obj.country == null || obj.country == "") {
			validation = validationUpdated("Country Required",
					"country");
		}
		
		if (obj.states == null || obj.states == "") {
			validation = validationUpdated("State Required",
					"states");
		}
		
		
		if (obj.city == null || obj.city == "") {
			validation = validationUpdated("City Required",
					"city");
		}
		if (obj.pan == null || obj.pan == "") {
			validation = validationUpdated("Pan Card Required",
					"pan");
		}
	
		if (validation  && pmailValid && pmailValid1 && mobValid1 && mobValid2 && mobValid3 && 
				mobValid5) {
			$('.loader').show();
	    	$("body").addClass("overlay");
			$.ajax({
				type : "POST",
				url : "view-saleorder-adds-customer",
				contentType : "application/json",
				data : JSON.stringify(obj),
				success : function(response) {
					console.log(response.message);
					//alert(response.message )
					if (response.message == "Success") {
						$('.loader').hide();
		            	$("body").removeClass("overlay");
						console.log(response);
						var customerIdd = $('#customerId').text();
						
						if(customerIdd!=""){
							
						    $("#messageParagraph").text("Data Saved Successfully");
			            	$("#msgOkModal").removeClass("btn3");
			            	$("#msgOkModal").addClass("btn1");
			            	$("#msgModal").modal('show');
			            	$('.loader').hide();
			            	$("body").removeClass("overlay");
			            	cancelBtn1();
						}else{
						
		            	$('.loader').hide();
		            	$("body").removeClass("overlay"); 
		            	$("#messageParagraph").text("Please Add A Customer Details");
		            	$("#msgOkModal").removeClass("btn3");
		            	$("#msgOkModal").addClass("btn1");
		            	$("#msgModal").modal('show');
		            	$("#customerId").text(response.body.customerId);
		            	$("#contactPersonAcc").show();
	                 	$("#mainSa").show();
		                $("#remarksAcc").show();
		                $("#saveAdd").show();
		                $("#next").hide();
		                $('#deleteAddressDtls').attr("disabled", true);
		                var customerIdd = $("#customerId").text();
		                agGrid.simpleHttpRequest({
		                	 url : "view-saleorder-shippingdetails?customerIdd=" + customerIdd,
		       			}).then(function(data) {
		       				var jsonData = JSON.parse(data.body);
		       				var allData=jsonData.Data;
		       				//var len = allData.length;
		       				//$('#totaldispatch').find('span').html(len);
		       				gridSAOptions.api.setRowData(allData);
		       			});
						}
					

					} else {
					
		            	$('.loader').hide();
		            	$("body").removeClass("overlay");
		                swal({
		                    title: response.code,
		                    text: response.message,
		                    type: "warning"
		                })
		            }
				},
				error : function(data) {
					$('.loader').hide();
					
				}
			})
		}

	}

	//Sales person auto search

	function getSalesPersonList() {
		var search = $("#salespersonName").val();
		if (search) {

			$
					.ajax({
						type : "POST",
						url : "view-saleorder-get-salesperson-list",
						dataType : 'json',
						contentType : 'application/json',
						data : search,
						success : function(response) {
							if (response.message == "success") {
								console.log("response data"
										+ JSON.stringify(response))
								if (response.body.length != 0) {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list2" >';
									for (var i = 0; i < response.body.length; i++) {
										content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;" class="autocompletedata cp" onClick="selectAutocompleteValue2(\''
												+ response.body[i].salespersonId
												+ '\',\''
												+ response.body[i].spName
												+ '\')">'
												+ response.body[i].spName
												+ '</li>';
									}
									content += '<li style="margin-left:-30px;"  onclick="AddSalesperson();"><a class="addCust" href="#">Add New Sales Person</a>'
											+ '</li>';
									content += '</ul>';
									//console.log("content " + content)
									$("#suggesstion-box2_").show();
									$("#suggesstion-box2_").html(content);

								} else {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1">';
									content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;" onClick="selectAutocompleteValuee()">'
											+ "No Data Found" + '</li>';
									content += '<li style="margin-left:-30px;"  onclick="AddSalesperson();"><a class="addCust" href="#">Add New Sales Person</a>'
											+ '</li>';
									content += '</ul>';
									$("#suggesstion-box2_").show();
									$("#suggesstion-box2_").html(content);
								}
							}
						},
						error : function(data) {
							console.log(data);
						}
					})
		} else {
			$("#suggesstion-box2_").hide();
		}

	}

	function selectAutocompleteValuee() {
		$("#salesPersonId").val("");
		$("#salespersonName").val("");
		$("#custGSTNoo").val("");
		$("#search").val("");
		$("#search").attr('data-procat', "");
		$("#suggesstion-box2_").hide();
	}

	function selectAutocompleteValue2(salespersonId, spName) {
		$("#salesPersonId").val(salespersonId);
		$("#salespersonName").val(spName);
		$("#search").val(spName);
		$("#search").attr('data-procat', salespersonId);
		$("#suggesstion-box2_").hide();
	}
	function AddSalesperson() {
		
		$('#addSalespersonModel').modal('show');
		$('#salespersonDetails').show();
		$('.formValidation').remove();
		$("#spName").val('');
		$("#spGender").val('');
		$("#dobid").val('');
		$("#mobilenoid").val('');
		$("#personalmailid").val('');
		$("#addressid_").val('');

	}
	function addDetails() {
		var obj = {};
		var Id = $("#salespersonId").val();

		obj.salespersonId = $("#salespersonId").val();
		obj.spName = $("#spName").val();
		obj.spGender = $("#spGender").val();
		obj.dobid = $("#dobid").val();
		obj.mobilenoid = $("#mobilenoid").val();
		obj.addressid_ = $("#addressid_").val();
		var validation = true;
		if (obj.spName == null || obj.spName == "") {
			validation = validationUpdated("Enter Sales Person Name",
					"spName");
		}
		
			if (obj.dobid == null || obj.dobid == "") {
			validation = validationUpdated("Select DOB",
					"dobid");
		}
		if (validation) {
			$('.loader').show();
		$.ajax({
			type : "POST",
			url : "view-saleorder-add-salesperson",
			contentType : "application/json",
			data : JSON.stringify(obj),
			success : function(response) {
				if (response.message == "Success") {
					$('.loader').hide();
					//getSalessPersonList();
					$("#messageParagraph").text("Data Saved Successfully");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
					$('#addSalespersonModel').modal('hide');
					//$("#myGrid").show();
					$("#salespersonDetails").hide();

				}
			},
			error : function(data) {
				$('.loader').hide();
			}
		})

	}
	}
	//TCS auto search

	function getTCSList() {
		var search = $("#tcsName").val();
		if (search) {
			$
					.ajax({
						type : "POST",
						url : "view-saleorder-get-tcs-list",
						dataType : 'json',
						contentType : 'application/json',
						data : search,
						success : function(response) {
							if (response.message == "success") {
								console.log("response data"
										+ JSON.stringify(response))
								if (response.body.length != 0) {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list3" >';
									for (var i = 0; i < response.body.length; i++) {
										content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;" class="autocompletedata cp" onClick="selectAutocompleteValue3(\''
												+ response.body[i].tcsId
												+ '\',\''
												+ response.body[i].taxName
												+ '\',\''
												+ response.body[i].rateId
												+ '\',\''
												+ response.body[i].taxType
												+ '\')">'
												+ response.body[i].taxName
												+ '</li>';
									}
									content += '<li style="margin-left:-30px;"  onclick="AddTCS();"><a class="addCust" href="#">Manage TCS</a>'
											+ '</li>';
									content += '</ul>';
									//console.log("content " + content)
									$("#suggesstion-box3_").show();
									$("#suggesstion-box3_").html(content);

								} else {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list3">';
									content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;" onClick="selectAutocompleteValuee1()">'
											+ "No Data Found" + '</li>';
									content += '<li style="margin-left:-30px;"  onclick="AddTCS();"><a class="addCust" href="#">Manage TCS</a>'
											+ '</li>';
									content += '</ul>';
									$("#suggesstion-box3_").show();
									$("#suggesstion-box3_").html(content);
								}
							}
						},
						error : function(data) {
							console.log(data);
						}
					})
		} else {
			$("#suggesstion-box3_").hide();
		}

	}

	function selectAutocompleteValuee1() {
		$("#tcsId").val("");
		$("#tcsName").val("");
		$("#custGSTNoo1").val("");
		$("#search").val("");
		$("#search").attr('data-procat', "");
		$("#suggesstion-box3_").hide();
	}

	function selectAutocompleteValue3(tcsId, taxName, rateId, taxType) {
		$("#tcsId").val(tcsId);
		$("#tcsName").val(taxName);
		$("#tcsValue").val(rateId);
		$("#search").val(taxName);
		$("#search").attr('data-procat', tcsId);
		$("#suggesstion-box3_").hide();
		tcsCalculation();
	}
	function AddTCS() {
		$('#manageTCsModel').modal('show');
		$("#collection").val('');
		$("#rateId").val('');
		$("#taxName").val('');
		
	}
	function tcscancelBtn() {
		$('#manageTCsModel').modal('hide');
		$("#collection").val('');
		$("#taxName").val('');
	    $("#rateId").val('');
	}
	function addtcsInfo1() {
		var obj = {};
		var Id = $("#tcsId").val();

		obj.salespersonId = $("#tcsId").val();
		obj.collection = $("#collection").val();
		obj.rateId = $("#rateId").val();
		obj.taxName = $("#taxName").val();

		$.ajax({
			type : "POST",
			url : "view-saleorder-add-tcs",
			contentType : "application/json",
			data : JSON.stringify(obj),
			success : function(response) {
				if (response.message == "Success") {
					//getSalessPersonList();
					$("#messageParagraph").text("Data Saved Successfully");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');

					//$("#myGrid").show();
					//$("#salespersonDetails").hide();
					$('#manageTCsModel').modal('hide');

				}
			},
			error : function(data) {
			}
		})

	}
	function checkEmpty() {
		var infofileName = true;
		$(".formValidation").remove();
		$('.docNoclss').each(function() {
			if ($(this).val() == null || $(this).val() == "") {
				infofileName = false;
				validationModal("Document Name Required", $(this).attr('id'));
			}
		});

		var mulDocInfo = true;
		if (infofileName) {
			$('#doctbodyData > tr').each(function() {
				if ($(this).closest('tr').find('.imageName').text()) {
					mulDocInfo = true;
				} else {
					mulDocInfo = false;
					$("#messageParagraph").text("Please Choose a File ");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
					return false;
				}

			});
		}
		if (infofileName && mulDocInfo) {
			addMore1()
		}
	}

	function saveMultiFile(event) {
		var AssignItemQty = event.currentTarget.value;
		var currentFldId = event.currentTarget.getAttribute('id');
		var l = currentFldId.split("_");
		var counter = l[1];
		var currentFldId = "#" + currentFldId;

		var uFile = $(currentFldId)[0].files[0];
		var fileName = event.currentTarget.value;
		var lastIndex = fileName.lastIndexOf("\\");
		if (lastIndex >= 0) {
			fileName = fileName.substring(lastIndex + 1);
		}
		var extension = fileName.split(".");

		var iURL = URL.createObjectURL(uFile);
		$("#uploadedBillDiv_" + counter).html("");
		if (extension[1] != null && extension[1] != "") {
			$("#uploadHidden_" + counter).val('');
		}
		if (extension[1] == "jpg" || extension[1] == "png"
				|| extension[1] == "jpeg") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-picture-o'></i></a></div>";
		} else if (extension[1] == "pdf") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-pdf-o'></i> </a></div>";
		} else if (extension[1] == "xls" || extension[1] == "xlsx") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-excel-o'></i></a></div>";
		} else if (extension[1] == "doc" || extension[1] == "dox"
				|| extension[1] == "docx") {
			var LightImg = "<div class='uploadicon position-l'><a class='example-image-link' href='" + iURL + "' title='" + fileName + "' target='_balnk'><i class='fa fa-file-word-o'></i></a></div>";
		} else {
			var LightImg = "<div class='uploadicon position-l '> </div>";
		}
		var dltImg = "<i class='ti-close position-l rmv1'></i>";
		$("#uploadedBillDiv_" + counter).html(LightImg);
		$("#imageName_" + counter).html(fileName);
		$("#dltImage_" + counter).html(dltImg);

		$("#dltImage_" + counter).addClass("custom-file-delete");
		$("#clickImg_" + counter).removeClass("ti-plus");
		$("#clickImg_" + counter).addClass("ti-pencil");

	}
	function addMore1() {

		var lengthOfTableRow = $("#doctbodyData").children('tr').length;
		var cloneHtml = $("#docTbl tbody tr:first").clone();

		$("#docTbl tbody").append($("#docTbl tbody tr:first").clone());
		$("#myTable tbody tr td:last").html("");
		//var addMore = '<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="addMore1();"><span class="ti-plus"></span></button>&nbsp;'

		$("#docTbl tbody tr:last").find(".documentclss").val("");
		$("#docTbl tbody tr:last").find(".docNoclss").val("");
		$("#docTbl tbody tr:last").find(".documentclssup").val("");
		$("#docTbl tbody tr:last").find(".uploadedBillCls").empty();
		$("#docTbl tbody tr:last").find(".uploadHidCls").empty();
		$("#docTbl tbody tr:last").find(".uploadHidCls").val('');
		$("#docTbl tbody tr:last").find(".imageName").empty();
		var j = 0;
		$("#docTbl > #doctbodyData > tr").each(function(i) {

			var selectInput = $(this).find('select');
			var textInput = $(this).find('input');
			var fileInput = $(this).find('file');
			var divInput = $(this).find('div');
			var label = $(this).find('label');
			var iInput = $(this).find('i');
			selectInput.eq(0).attr('id', "docid_" + i);

			textInput.eq(1).attr('id', "docnoid_" + i);
			textInput.eq(2).attr('id', "uploadDoc_" + i);
			label.eq(1).attr('for', "uploadDoc_" + i);
			textInput.eq(3).attr('id', "uploadHidden_" + i);
			divInput.eq(4).attr('id', "uploadedBillDiv_" + i);
			divInput.eq(5).attr('id', "imageName_" + i);
			divInput.eq(6).attr('id', "dltImage_" + i);
			iInput.eq(0).attr('id', "clickImg_" + i);
			j++;
		})
		$("#clickImg_" + (j - 1)).removeClass("ti-pencil");
		$("#clickImg_" + (j - 1)).addClass("ti-plus");

	}

	function checkForDuplicateEntry(event) {
		var document = event.currentTarget.value;
		var currentFldId = event.currentTarget.getAttribute('id');
		var l = currentFldId.split("_");
		var counter = l[1];
		var count = 0;
		$(".docNoclss").each(function() {
			if (document == $(this).val()) {
				count++;
			}
		})
		if (count >= 2) {
			$("#messageParagraph").text("Document Name Already Entered");
			$("#msgOkModal").removeClass("btn3");
			$("#msgOkModal").addClass("btn1");
			$("#msgModal").modal('show');

			return false;
		} else {
			return true;
		}

	}
	function openDeleteConfirm() {
		$("#dltValue").val("");
		$('#deleteAttachment').modal('show');
	}
	//for closeing modal box for dlt ind product
	function closeDeleteConfirm() {
		$("#dltValue").val("");
		$('#deleteAttachment').modal('hide');
	}

	function deletAttachmentRow() {
		var lengthOfTableRow1 = 0;
		$("#docTbl > #doctbodyData > tr").each(function() {
			lengthOfTableRow1 = lengthOfTableRow1 + 1;
		})
		var id = $("#dltValue").val();
		$("#" + id).closest('tr').remove();
		closeDeleteConfirm();
		if (lengthOfTableRow1 == 1) {
			var tbl = '<tr> <td style="display:none" align="center" class="pdb-24"><input class="checkCls" type="checkbox" id="check2"><label for="check2"></label></td>'
					+ '<td style="display:none"><div class="form-group"> <select class="form-control documentclss" id="docid_0" onblur="removeValid(event);"> <option value="">Select</option> </select> </div></td>'
					+ '<td><div class="form-group"> <input type="text" value="" class="form-control docNoclss" id="docnoid_"></div></td>'
					+ '<td> <div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_0" id="uploadFor_0"> <i class="ti-plus" id="clickImg_0"></i> </label>'
					+ '<div class="controls"> <input type="file" class="document" id="uploadDoc_0" name="userImage" onchange="saveMultiFile(event)" /></div> </div> <input type="hidden" id="uploadHidden_0" class="uploadHidCls">'
					+ '<div id="uploadedBillDiv_0" align="center" class="uploadedBillCls"></div> <div id="imageName_0" class="imageName"></div><div id="dltImage_0"></div> </td>'
					+ '</tr>';
			$("#doctbodyData").append(tbl);
		}
	}

	/* Item AutoSearch */

		function getItemQutotationList() {
	
		var search = $("#itemName").val();
		if (search) {
			$.ajax({
						type : "POST",
						url : "view-saleorder-item-get-customer-list",
						dataType : 'json',
						contentType : 'application/json',
						data : search,
						success : function(response) {
							if (response.message == "success") {
								
								if (response.body.length != 0) {
									$("#itemId").val("");
									$("#gstRate").val("");
									$("#sku").val("");
									$("#brandName").val("");
									$("#brandId").val("");
									$("#hsnCode").val("");
									$("#unit").val("");
									$("#itemName").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1">';
									for (var i = 0; i < response.body.length; i++) {
							content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc; background-color: #0909e4;"  class="autocompletedata cp" onClick="selectAutocompleteValueItem1(\''
												+ response.body[i].sku
												+ '\',\''
												+ response.body[i].productId
												+ '\',\''
												+ window.btoa(response.body[i].productName)
												+ '\',\''
												+ response.body[i].brandId
												+ '\',\''
												+ window.btoa(response.body[i].brandName)
												+ '\',\''
												+ window.btoa(response.body[i].hsnCode)
												+ '\',\''
												+ window.btoa(response.body[i].unit)
												+ '\',\''
												+ window.btoa(response.body[i].gstRate)
												+ '\')">'
												+ response.body[i].sku
												+ " - "
												+ response.body[i].productName
												+ '</li>';
									}
									content += '<li style="margin-left:-30px;"  onclick="AddProduct();"><a class="addCustnew" href="#">Add Item</a>'
										+ '</li>';
									content += '</ul>';
									console.log("success",content)
									$("#suggesstion-box_").show();
									$("#suggesstion-box_").html(content);

								} else {
									$("#itemName").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1">';
									content += '<li style="margin-left:-30px;font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;"li onClick="selectAutocompleteValueItem()">'
											+ "No Data Found" + '</li>';
									content += '<li style="margin-left:-30px;"  onclick="AddProduct();"><a class="addCustnew" href="#">Add Item</a>'
												+ '</li>';
									content += '</ul>';
									$("#suggesstion-box_").show();
									$("#suggesstion-box_").html(content);
								}
							}
						},
						error : function(data) {
							alert("failed")
							console.log(data);
						}
					})
		}else{
			$("#itemId").val("");
			$("#itemName").val("");
			$("#gstRate").val("");
			$("#sku").val("");
			$("#brandName").val("");
			$("#brandId").val("");
			$("#hsnCode").val("");
			$("#unit").val("");
			$("#suggesstion-box_").hide();
		}
	}

		function selectAutocompleteValueItem1(sku, productId, productName, brandId, brandName,
				 hsnCode, unit, gstRate) {
			if (sku) {
				$("#itemName").val(window.atob(productName));
				$("#itemId").val(productId);
				$("#brandName").val(window.atob(brandName));
				$("#brandId").val(brandId);
				$("#sku").val(sku);
				$("#hsnCode").val(window.atob(hsnCode));
				$("#unit").val(window.atob(unit));
				$("#gstRate").val(window.atob(gstRate));
				$("#itemName").attr('data-procat', itemId);
				$("#suggesstion-box_").hide();
				hideShowS();
			} else {
				$("#itemId").val("");
				$("#itemName").val("");
				$("#gstRate").val("");
				$("#sku").val("");
				$("#brandName").val("");
				$("#brandId").val("");
				$("#hsnCode").val("");
				$("#unit").val("");
				$("#itemName").attr('data-procat', "");
				$("#suggesstion-box_").hide();

			}
		}
		function selectAutocompleteValueItem() {

			$("#itemId").val("");

			$("#gstRate").val("");
			$("#sku").val("");
			$("#itemName").val("");
			$("#itemName").attr('data-procat', "");
			$("#suggesstion-box_").hide();

		}
		
	function selectCheckBox(id, lvl) {
		$("#select_product").empty();
		getProductByCategory();
		if (lvl == 'L1') {
			var textDesc = $("#lbl_" + id).text();
			$("#catDesc").text(textDesc);
		} else {
			var res = lvl.substring(1, 1000000);

			var lastText = $("#lbl_" + id).text();
			var textDesc = "";
			for (i = res; i > 1; i--) {
				var pUL = $("#lbl_" + id).parents("ul").attr("id");
				pUL = pUL.substring(3, 10000000000000);
				var newText = $("#lbl_" + pUL).text();
				textDesc = newText + " > " + textDesc;
				id = pUL;
			}
			textDesc = textDesc + lastText;
			$("#catDesc").text(textDesc);
		}
	}

	function selectProductVal() {
		$("#itemName").val($("#itemNameTemp").val());
		$("#itemId").val($("#itemIdTemp").val());
		$("#hsnCode").val($("#hsnCodeTemp").val());
		$("#unit").val($("#unitTemp").val());
		$("#gstRate").val($("#gstRateTemp").val());
		$("#brandName").val($("#brandNameTemp").val());
		$("#brandId").val($("#brandIdTemp").val());
		$("#category").val($("#prodCatIdTemp").val());
		$("#categoryName").val($("#prodCatNameTemp").val());
		$("#sku").val($("#skuTemp").val());
		$("#search").val($("#itemNameTemp").val())
		$("#select_product").html('');
		$('#myModal').modal('hide');
	}

	function getProductByCategory() {

		$("#select_product").empty();
		var valor = "";
		$('input.pc1-box[type=checkbox]').each(function() {
			if (this.checked)
				valor = valor + $(this).val() + ",";
		});
		if (valor) {
			$("#select_product").empty();
			$
					.ajax({
						type : "POST",
						url : "view-saleorder-item-product-by-cat",
						dataType : 'json',
						contentType : 'application/json',
						data : valor,
						success : function(response) {
							if (response.message == "success") {
								console.log(response.body)
								$("#select_product").empty();
								var content = '';
								for (var i = 0; i < response.body.length; i++) {

									content += '<div class="autocompletedata cp product-item" id="'
											+ response.body[i].productId
											+ "_"
											+ response.body[i].sku
											+ '" onClick=selectActive("'
											+ response.body[i].productId
											+ "_"
											+ response.body[i].sku
											+ '","'
											+ response.body[i].sku
											+ '","'
											+ response.body[i].productId
											+ '","'
											+ window
													.btoa(response.body[i].productName)
											+ '","'
											+ response.body[i].brandId
											+ '","'
											+ window
													.btoa(response.body[i].brandName)
											+ '","'
											+ response.body[i].productCatId
											+ '","'
											+ window
													.btoa(response.body[i].productCatName)
											+ '","'
											+ window
													.btoa(response.body[i].hsnCode)
											+ '","'
											+ window
													.btoa(response.body[i].unit)
											+ '","'
											+ window
													.btoa(response.body[i].gstRate)
											+ '")>'
											+ response.body[i].sku
											+ " - "
											+ response.body[i].brandName
											+ " - "
											+ response.body[i].productName
											+ '</div>';
								}
								content += '</ul>';
								$("#select_product").show();
								$("#select_product").append(content);

								var itemId = $("#itemId").val();
								var skuId = $("#sku").html();

								if (itemId) {
									$("#" + itemId + "_" + skuId).addClass(
											'productActive');
								}

							}
						},
						error : function(data) {
							console.log(data)
						}
					})
		} else {
			$("#select_product").empty();
		}
	}

	function selectActive(id, sku, productId, productName, brandId, brandName,
			prodCatId, prodCatName, hsnCode, unit, gstRate) {

		$('.autocompletedata ').removeClass('productActive');
		$("#" + id).addClass('productActive');
		$("#itemNameTemp").val(window.atob(productName));
		$("#itemIdTemp").val(productId);
		$("#brandNameTemp").val(window.atob(brandName));
		$("#brandIdTemp").val(brandId);
		$("#skuTemp").val(sku);
		$("#prodCatIdTemp").val(prodCatId);
		$("#hsnCodeTemp").val(window.atob(hsnCode));
		$("#unitTemp").val(window.atob(unit));
		$("#gstRateTemp").val(window.atob(gstRate));
		$("#prodCatNameTemp").val(window.atob(prodCatName));
		$("#searchTemp").val(window.atob(productName))
	}

	/* //sale order item  table add */

	function saveTableData() {
		
		var editProduct = $("#editProduct").val();
		var item = {};
		var data = 1;
		var validation = true;
		
		item.itemId = $('#itemId').val();
		item.sku = $('#sku').val();
		item.hsnCode = $('#hsnCode').val();
		item.itemName = $('#itemName').val();
		item.quantity = $('#quantity').val();
		item.unit = $('#unit').val();
		item.unitName = $("#unit option:selected").text();
		item.unitPrice = $('#unitPrice').val();
		item.discount = $('#discount').val();
		item.gstRate = $('#gstRate').val();
		item.lineTotal = $('#lineTotal').val();
		item.sizeInMM = $('#sizeInMM').val();
		item.thicknessInMM = $('#thicknessInMM').val();
		item.itemDesc = $('#itemDesc').val();
		item.itemRemarks = $('#itemRemarks').val();
		item.noOfItem = $('#noOfItem').val();
		
		if (item.sku == null || item.sku == "") {
			validation = validationUpdated("Stock Keeping Unit Required", 'sku');
		}
		if (item.itemName == null || item.itemName == "") {
			validation = validationUpdated("Item Name Required", 'itemName');
		}
		if (item.quantity == null || item.quantity == "") {
			validation = validationUpdated("Quantity Required", 'quantity');
		}
		if (item.unit == null || item.unit == "") {
			validation = validationUpdated("Unit Required", 'unit');
		}
	/* 	if (item.unitPrice == null || item.unitPrice == "") {
			validation = validationUpdated("UnitPrice Required", 'unitPrice');
		}
		if (item.discount == null || item.discount == "") {
			validation = validationUpdated("Discount Required", 'discount');
		}
		if (item.gstRate == null || item.gstRate == "") {
			validation = validationUpdated("GST Rate Required", 'gstRate');
		}
		if (item.lineTotal == null || item.lineTotal == "") {
			validation = validationUpdated("Line Total Required", 'lineTotal');
		} */
		
		  if (item.noOfItem == null || item.noOfItem == "") {
				validation = validationUpdated("No Of Item Required", 'noOfItem');
			}
		//var noOfItem = $("#noOfItem").val();
	    
		
	//	}	
		

		if (validation) {
			item.slNo = data;
			itemOptions.api.forEachNode(function(rowNode, index) {
				if (!editProduct) {
					data = data + 1;
					item.slNo = data;
				}
				else{
					item.slNo = editProduct;
				}
			});
			
			
			var taxType = $("#taxType").val();
			if (taxType == 'true') {
				item.itemCgst = (item.lineTotal * item.gstRate) / 200;
				item.itemSgst = (item.lineTotal * item.gstRate) / 200;
				item.itemIgst = 0;
				item.taxableAmt = parseFloat(item.lineTotal) + item.itemCgst
						+ item.itemSgst;
			} else {
				item.itemCgst = 0;
				item.itemSgst = 0;
				item.itemIgst = (item.lineTotal * item.gstRate) / 100;
				item.taxableAmt = parseFloat(item.lineTotal) + item.itemIgst;
			}
			///item.slNo = data;
			var quot = [];

			if (editProduct) {
				var rowNode = itemOptions.api.getRowNode(editProduct);
				rowNode.setData(item);
			} else {
				itemOptions.api.forEachNode(function(rowNode, index) {
					quot.push(rowNode.data);
				});
				quot.push(item)
				itemOptions.api.setRowData(quot);

				//calculation GST,IGST,SGST,CGST,SUBTOTAL,GRANDTOTAL
				var sum = 0.0;
				var gstRate = 0.0;
				var qSGST = 0.0;
				var qCGST = 0.0;
				var qIGST = 0.0;
				var itemIgst = 0.0;
				var itemCgst = 0.0;
				var itemSgst = 0.0;
				var len = quot.length;
				for (var i = 0; i < len; i++) {
					sum = sum + parseFloat(quot[i].lineTotal);
					if (taxType == 'false') {
						quot[i].itemIgst = quot[i].lineTotal * quot[i].gstRate
								/ 100;
						qIGST = qIGST + quot[i].itemIgst;
						grandTotal = sum + qIGST;
					} else {
						quot[i].itemCgst = quot[i].lineTotal * quot[i].gstRate
								/ 200;
						quot[i].itemSgst = quot[i].lineTotal * quot[i].gstRate
								/ 200;

						qCGST = qCGST + quot[i].itemCgst;
						qSGST = qSGST + quot[i].itemSgst;
						grandTotal = sum + qCGST + qSGST;
					}
				}
				$("#subTotal").val(sum);
				$("#qIGST").val(qIGST);
				$("#qCGST").val(qCGST);
				$("#qSGST").val(qSGST);
				$("#grandTotal").val(grandTotal)

			}

			closeNav();
			$("#sku").val('');
			$("#itemId").val('');
			$("#itemName").val('');
			$("#quantity").val('');
			$("#unit").val('');
			$("#unitPrice").val('');
			$("#discount").val('');
			$("#gstRate").val('');
			$("#lineTotal").val('');
			$("#sizeInMM").val('');
			$("#thicknessInMM").val('');
			$("#itemDesc").val('');
			$("#itemRemarks").val('');
			$("#noOfItem").val('');
			$("#editProduct").val(null);
		}

	}
	/* //salesOrder  table add */

	function save() {
		if (validProductData() && validFormData()) {
			var datas = [];
			var imageValid = true;
			var uploadList = [];
			$("#doctbodyData > tr").each(
					function() {
						var uFile = $(this).find(".document")[0].files[0];
						var fileName = $(this).find(".document").val();
						var data = [];
						var x = [];
						if (fileName != '' && fileName != 'undefined'
								&& fileName != null) {
							var lastIndex = fileName.lastIndexOf("\\");
							if (lastIndex >= 0) {
								fileName = fileName.substring(lastIndex + 1);
							}
							var reader = new FileReader();
							reader.readAsDataURL(uFile);

							reader.onload = function() {
								data = reader.result.split(",");
								x.push(data[1]);
							};
						} else {
							if ($("#salesOrder").val()) {
								fileName = $(this).find(".uploadHidCls").val();
							} else {
								x = [];
							}

						}
						uploadData = {};
						uploadData['salesOrder'] = $("#salesOrder").val();
						uploadData['documnentName'] = $(this)
								.find(".docNoclss").val();
						uploadData['documentFile'] = x;
						uploadData['fileName'] = fileName;
						uploadData['imageNameEdit'] = $(this).find(
								".uploadHidCls").val();
						uploadList.push(uploadData);

						console.log(uploadData)

					});

			setTimeout(function() {
				if (itemOptions.api.getDisplayedRowCount() > 0) {
					itemOptions.api.forEachNode(function(rowNode, indrx) {
						var obj = rowNode.data;
						
						obj.poId = $("#poId").val();
						obj.custId = $("#custId").val();
						obj.custName = $("#custName").val();
						obj.qutDescription = $("#qutDescription").val();
						obj.subTotal = $("#subTotal").val();
						obj.grandTotal = $("#grandTotal").val();
						obj.qIGST = $('#qIGST').val();
						obj.qCGST = $('#qCGST').val();
						obj.qSGST = $('#qSGST').val();

						var tt = $('#taxType').val();
						if (tt == 'true') {
							obj.taxType = true;
						} else {
							obj.taxType = false;
						}
						//obj.storeId = $('#storeId').val();
						//obj.orderReceiveDate = $('#orderReceiveDate').val();
						
						obj.salesOrder = $("#salesOrderheadId").html();
					
						obj.orderReceiveDate = $('#orderReceiveDate').val();
						
						obj.expectedShipmentDate = $('#expectedShipmentDate').val();
						obj.paymentTermId = $('#paymentTermId').val();
						obj.orderType= $("#orderType").val();
						obj.deliveryMethodId = $('#deliveryMethodId').val();
						obj.salesPerson = $('#salesPersonId').val();
						obj.reference = $("#reference").val();
						obj.terms = $("#terms").val();
						
						obj.tcs = $("#tcsName").val();
						obj.tcsAmount = $("#tcsAmount").val();
						//obj.salesOrder = $("#referenceId").val();
						obj.shippingHiddenId = $("#shippingHiddenId").val();
						obj.documentList = uploadList;

						console.log('Object', obj)
						datas.push(obj);

					});
			saveAllSalesOreder(datas);
				} else {
					$("#messageParagraph").text("Items Details Required");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
				}
			}, 1000)

		}
	}

	function closeModal1() {
		$("#myModal").modal('hide');
	}
	function saveAllSalesOreder(datas) {
		console.log(JSON.stringify(datas))
		$('.loader').show();
		$.ajax({

			type : "POST",
			url : "view-saleorder-add",
			contentType : "application/json",
			data : JSON.stringify(datas),
			success : function(response) {
				if (response.message == "Success") {
					$('.loader').hide();
					console.log(JSON.stringify(datas))

					$("#messageParagraph").text("Data Saved Successfully");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
					$(".btn-hs").show();
					Cancel();
				}

			},
			error : function(datas) {
				console.log(datas)
				$('.loader').hide();
			}
		})

	}

	function validFormData() {
		var allValid = true;
		if (!validationUpdated("Customer Name Required", 'custName'))
			allValid = false;
		/* if (!validationUpdated("Description Date Required", 'qutDescription'))
			allValid = false; */
		if (!validationUpdated("Order Receive Date Required",'orderReceiveDate'))
			allValid = false;
		if (!validationUpdated("Expected Shipment Date Required",'expectedShipmentDate'))
			allValid = false;
		return allValid;
	}

	function validProductData() {
		return true;
	}

	/* 
	Edit Quotation
	 */
	function editProduct(slNo) {
		var salesOrder = $("#salesOrderheadId").html();
		var rowNode = itemOptions.api.getRowNode(slNo);
		
		console.log(rowNode)
		openNav();
		$("#editProduct").val(slNo);
		$("#sku").val(rowNode.data.sku);
		$("#itemId").val(rowNode.data.itemId);
		$("#itemName").val(rowNode.data.itemName);
		$("#hsnCode").val(rowNode.data.hsnCode);
		$("#quantity").val(rowNode.data.quantity);
		$("#unit").val(rowNode.data.unit);
		$("#unitPrice").val(rowNode.data.unitPrice);
		$("#gstRate").val(rowNode.data.gstRate);
		$("#discount").val(rowNode.data.discount);
		$("#lineTotal").val(rowNode.data.lineTotal);
		$("#itemIgst").val(rowNode.data.itemIgst);
		$("#itemCgst").val(rowNode.data.itemCgst);
		$("#itemSgst").val(rowNode.data.itemSgst);
		$("#sizeInMM").val(rowNode.data.sizeInMM);
		$("#thicknessInMM").val(rowNode.data.thicknessInMM);
		$("#itemDesc").val(rowNode.data.itemDesc);
		$("#noOfItem").val(rowNode.data.noOfItem);
		$("#itemRemarks").val(rowNode.data.itemRemarks);
		$("#unit").attr("disabled", true);
		$("#discountAmount").attr("disabled", true);
		
		
	}

	function editsalesOrder(salesOrder,pendingQut,approveStatus) {
		
		Cancel();
		$("#customerData").hide();
		$("#packages").hide();
		$("#sendToProduction").hide();
		$('#delete').hide();
		$('#delete1').attr("disabled", true);
		$('#blockeOrder').attr("disabled", true);
		$("#searchRowDiv").hide();
		$("#myGrid").hide();
		$("#reqTable").hide();
		$(".btn-hs").hide();
		$("#addData").show();
		$("#add").hide();
		$("#save").show();
		$("#Cancel").show();
		$("#totalCandidate").hide();
		$("#dwnld").hide();
		$("#upld").hide();
		$("#addre").hide();
		$("#documentDetails").show();
         if(pendingQut==0){
        	
        	 $("#blockeOrder").hide(); 
         }else{
        	  
        	 $("#blockeOrder").show(); 
         }
         if(approveStatus=="Approved"){
        	 $("#save").hide(); 
        	 $("#blockeOrder").show(); 
        	// $("#delete1").hide(); 
         }else{
        	 $("#save").show(); 
        	 $("#blockeOrder").hide(); 
        	 //$("#delete1").show(); 
         }
         $('.loader').show();
		agGrid
				.simpleHttpRequest({
					url : 'view-saleorder-edit-new?id=' + salesOrder
				})
				.then(
						function(data) {
							console.log(data);
							$('.loader').hide();
							$("#salesOrderheadId").html(data[0].salesOrder);
							$("#quotationId").val(data[0].quotationId);
							$("#custId").val(data[0].custId);
							$("#custName").val(data[0].custName);
							$("#shippingHiddenId").val(data[0].shippingHiddenId);

							getAddressDetails(data[0].custId,data[0].shippingHiddenId);
							$("#qutDescription").val(data[0].qutDescription);
							$("#taxtype").val(data[0].taxType);
							$("#salesOrder").val(data[0].salesOrder);
							$("#customerData").hide();
							$("#orderReceiveDate")
									.val(data[0].orderReceiveDate);
							$("#orderReceiveTime")
									.val(data[0].orderReceiveTime);
							$("#expectedShipmentDate").val(
									data[0].expectedShipmentDate);
							$("#paymentTermId").val(data[0].paymentTermId);
							$("#deliveryMethodId")
									.val(data[0].deliveryMethodId);
							$("#orderType").val(data[0].orderType);
							$("#salesPersonId").val(data[0].salesPersonId);
							$("#salespersonName").val(data[0].salesPerson);
							$("#referenceId").val(data[0].salesOrder);

							$("#poId").val(data[0].poId);
							$("#tcsName").val(data[0].tcsId);
							$("#tcsId").val(data[0].tcsId);
							$("#tcsValue").val(data[0].tcsRate);
							$("#tcsAmount").val(data[0].tcsAmount);
							$("#terms").val(data[0].terms);
							$("#reference").val(data[0].reference);
							$("#grandTotal").val(data[0].grandTotal);
							$("#qSGST").val(data[0].qSGST);
							$("#qCGST").val(data[0].qCGST);
							$("#subTotal").val(data[0].subTotal);
							$("#qIGST").val(data[0].qIGST);
						
							getEditTaxType(data[0].custName);

							itemOptions.api.setRowData(data);
							//EDIT GST,SUBTOTAL,GRANDTOTAL,SGST,CGST,IGST
							/* var sum = 0.0;
							var gstRate = 0.0;
							var qSGST = 0.0;
							var qCGST = 0.0;
							var qIGST = 0.0;
							var len = data.length;
							for (var i = 0; i < len; i++) {
								sum = sum + data[i].lineTotal;
								$("#taxtype").val(data[0].taxType);
								if (data[0].taxType == 'false') {
									data[0].itemIgst = data[i].lineTotal
											* data[i].gstRate / 100;
									qIGST = qIGST + data[0].itemIgst;

									grandTotal = sum + qIGST;
								} else {
									data[0].itemCgst = data[i].lineTotal
											* data[i].gstRate / 200;
									data[0].itemSgst = data[i].lineTotal
											* data[i].gstRate / 200;

									qCGST = qCGST + data[0].itemCgst;
									qSGST = qSGST + data[0].itemSgst;
									grandTotal = sum + qCGST + qSGST;
								}
							}
							$("#itemIgst").val(itemIgst);
							$("#itemCgst").val(itemCgst);
							$("#itemSgst").val(itemSgst);
							$("#subTotal").val(sum);
							$("#qIGST").val(qIGST);
							$("#qCGST").val(qCGST);
							$("#qSGST").val(qSGST); */
							//$("#grandTotal").val(grandTotal)

							$("#doctbodyData").empty();
							var documentList = data[0].documentList;
							if (documentList != null && documentList != "") {
								for (var i = 0; i < documentList.length; i++) {

									var tbl = '<tr>'
											+ '<td style="display:none" align="center" class="pdb-24"><input class="checkCls" type="checkbox" id="check2"><label for="check2"></label></td>'
											+ '<td style="display:none"><div class="form-group"> <select class="form-control documentclss" id="docid_0" onblur="removeValid(event);"> <option value="">Select</option>  </select> </div></td>'
											+ '<td><div class="form-group"> <input type="text" value="'+documentList[i].documnentName+'" class="form-control docNoclss" id="docnoid_'+i+'"> </div></td>'
											+ '<td><div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_'+i+'" id="uploadFor_'+i+'"> <i class="ti-pencil" id="clickImg_'+i+'"></i> </label>'
											+ '<div class="controls"> <input type="file" class="document" id="uploadDoc_'
											+ i
											+ '"name="userImage" onchange="saveMultiFile(event)" /> </div>'
											+ '</div> <input type="hidden" id="uploadHidden_'+i+'" value="'+documentList[i].fileName+'" class="uploadHidCls">'
											+ '<div id="uploadedBillDiv_'+i+'" align="center" class="uploadedBillCls"><div class="uploadicon position-l">'
											+ documentList[i].action
											+ '</div></div>'
											+ '<div id="imageName_'+i+'" class="imageName">'
											+ documentList[i].fileName
											+ '</div>'
											+ '<input type="hidden" id="editId_'+i+'" value="'+ documentList[i].vendorRfqId+'">'
											+ '<div id="dltImage_'+i+'" class="custom-file-delete"><i class="ti-close position-l rmv1" onclick="openDeleteConfirm()"></i></div> </td>'
											+ '</tr>';

									$("#doctbodyData").append(tbl);
								}
							} else {
								var tbl = '<tr> <td style="display:none" align="center" class="pdb-24"><input class="checkCls" type="checkbox" id="check2"><label for="check2"></label></td>'
										+ '<td style="display:none"><div class="form-group"> <select class="form-control documentclss" id="docid_0" onblur="removeValid(event);"> <option value="">Select</option> </select> </div></td>'
										+ '<td><div class="form-group"> <input type="text" value="" class="form-control docNoclss" id="docnoid_"></div></td>'
										+ '<td> <div class="control-group position-r"> <label class="custom-file-upload" for="uploadDoc_0" id="uploadFor_0"> <i class="ti-plus" id="clickImg_0"></i> </label>'
										+ '<div class="controls"> <input type="file" class="document" id="uploadDoc_0" name="userImage" onchange="saveMultiFile(event)" /></div> </div> <input type="hidden" id="uploadHidden_0" class="uploadHidCls">'
										+ '<div id="uploadedBillDiv_0" align="center" class="uploadedBillCls"></div> <div id="imageName_0" class="imageName"></div><div id="dltImage_0" ></div><input type="hidden" id="editId_0></td>'
										+ '</tr>';
								$("#doctbodyData").append(tbl);
							}

						});

	}

	function getEditTaxType(search) {

		$.ajax({
			type : "POST",
			url : "view-saleorder-get-customer-list",
			dataType : 'json',
			contentType : 'application/json',
			data : search,
			success : function(response) {
				if (response.message == "success") {
					console.log("response data" + response.body[0].taxType)
					$("#taxType").val(response.body[0].taxType);
					hideShowS();
				}
			},
			error : function(data) {
				console.log(data);
			}
		})
	}
	/* 
	Delete quotation
	 */
	function deleteQuotation() {

		$('#deleteQuot').modal('show');
	}
	function deleteItem() {

		$('#deleteProduct').modal('show');
	}

	function cancelModalBtn() {

		$("#deleteModalBtn").removeAttr("disabled");
		$('#deleteProduct').modal('hide');
		$('#deleteQuot').modal('hide');
		$('#alert').modal('hide');
		
	}

	function cancelModalProductBtn() {

		$("#deleteModalBtn").removeAttr("disabled");
		$('#deleteProduct').modal('hide');
	}
	var soid = "";
	var rowCount = 0;
	function rowSelect() {
		var selectedRows = gridOptions.api.getSelectedRows();
		 
		soid = "";
		rowCount = 0;
		var pendingQut="";
		var approveStatus="";
		for (var i = 0; i < selectedRows.length; i++) {
			soid = soid + '"' + selectedRows[i].salesOrder + '",';
			pendingQut = selectedRows[i].pendingQut;
			approveStatus = selectedRows[i].approveStatus;
			rowCount = rowCount + 1;
		}
		soid = soid.substring(0, soid.length - 1);
		
		
		if (rowCount > 0) {
			if (rowCount > 1) {
				var spoid = $('#poIdd').val();
				if (spoid) {
					$('#packages').attr("disabled", false);

				} else {
					$("#messageParagraph").text("First Choose purchase Order");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
					Cancel();
					$('#packages').attr("disabled", true);
				
				}
				$('#delete').attr("disabled", true);
				 $('#reqAppvBtn').attr('disabled', true);
			} else {
				 if (approveStatus=="Approved"){
					 $('#reqAppvBtn').attr('disabled', true);
					 $('#sendToProduction').attr("disabled", false);
					 $('#delete').attr("disabled", true);
					   if(pendingQut==0){
						   $('#packages').attr("disabled", true);
							//$('#delete').attr("disabled", true);
				         }else{
				        	 $('#packages').attr("disabled", false);
				        		//$('#delete').attr("disabled", false);
				         }
					} else {
					  $('#reqAppvBtn').attr('disabled', false);
					  $('#packages').attr("disabled", true);
					  $('#delete').attr("disabled", false);
			        }
			}
			$('#add').attr("disabled", true);
		} else {
			$('#delete').attr("disabled", true);
			$('#packages').attr("disabled", true);
			$('#sendToProduction').attr("disabled", true);
			$('#add').attr("disabled", false);
			 $('#reqAppvBtn').attr('disabled', true);
		}
 

	}
	function rowSelectItem() {
		var selectedRows = itemOptions.api.getSelectedRows();
		 var selectedNodes = itemOptions.api.getSelectedNodes();
		 var selectedData = selectedNodes.map(node => node.data);
		 var blockeOrder= selectedData.map(node => node.blockeOrder);
		
		var rowCount = 0;
		selectedRows.forEach(function(selectedRow, index) {
			rowCount = rowCount + 1;
		});

		if (rowCount > 0) {
			$('#new1').attr("disabled", true);
			if(blockeOrder=='Blocked'){
			
			$('#blockeOrder').attr("disabled", true);
			$('#delete1').attr("disabled", true);
			$('#new1').attr("disabled", false);
			}else{
				$('#blockeOrder').attr("disabled", false);
				$('#delete1').attr("disabled", false);
				$('#new1').attr("disabled", true);
			}
			
		} else {
			$('#blockeOrder').attr("disabled", true);
			$('#delete1').attr("disabled", true);
			$('#new1').attr("disabled", false);
		
		}
		 
	}

	function onQuickFilterChanged() {
		$(".ti-search srchicon").hide();
		gridOptions.api
				.setQuickFilter(document.getElementById('quickFilter').value);
	}

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";

		if ($('#quickFilter').val() == null || $('#quickFilter').val() == "") {
			id.style.display = "none";
		}
	}
	// delete salesOrder

	function deleteOnclick() {
		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += selectedRow.salesOrder;
		});
		if (selectedRowsString) {
			var item = {};
			item.salesOrder = selectedRowsString;
			$.ajax({
				type : "POST",
				url : "view-saleorder-delete",
				dataType : "json",
				contentType : "application/json",
				data : JSON.stringify(item),
				success : function(response) {

					if (response.message == "Success") {
						location.reload();
						$('#deleteQuot').modal('hide');
						agGrid.simpleHttpRequest({
							url : 'view-saleorder-through-ajax'
						}).then(function(data) {
							gridOptions.api.setRowData(data);
							//console.log(JSON.stringify(data))
						});

					} else {

					}
				},
				error : function(data) {
					console.log(data)
				}
			})
		} else {
			$("#alert").modal('show');
			document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
		}

	}
	function deleteProductOnclick() {
		var selectedRows = itemOptions.api.getSelectedRows();
		itemOptions.api.applyTransaction({
			remove : selectedRows
		});
		$('#deleteProduct').modal('hide');

	}

	function getGSTRateCal() {
	}

	var totalLine;
	function calculateLineTotal() {
		var price = $("#unitPrice").val();
		var quantity = $("#quantity").val();
		var discount = $("#discount").val();
		var discountAmount = $("#discountAmount").val();

		if (discountAmount == '1') {
			if (price && quantity) {
				var mul = price * quantity;

				if (discount > mul) {

					$("#discount").val("0");
					totalLine = mul - discount;
					$("#lineTotal").val((mul).toFixed(2));
				} else {
					totalLine = mul - discount;
					$("#lineTotal").val((totalLine).toFixed(2));
				}

			} else {
				var mul = 0;
				$("#lineTotal").val((mul).toFixed(2));

			}
		} else {
			if (price && quantity) {
				var mul = price * quantity;
				if (discount > mul) {

					$("#discount").val("0");
					totalLine1 = (mul / 100) * discount;
					totalLine = mul - totalLine1;
					$("#lineTotal").val((mul).toFixed(2));
				} else {
					totalLine1 = (mul / 100) * discount;
					totalLine = mul - totalLine1;
					$("#lineTotal").val((totalLine).toFixed(2));
				}

			} else {
				var mul = 0;
				$("#lineTotal").val((mul).toFixed(2));

			}
		}

	}
	//Calculate adjustment
	function calculateAdjustment() {
		var adjustment = $("#adjustment").val();
		if (adjustment == "" || adjustment == null || adjustment == "null") {
			adjustment = 0;
			$("#adjustment").val(adjustment);
		}
		var tcsAmount = $("#tcsAmount").val();
		if (tcsAmount == "" || tcsAmount == null || tcsAmount == "null") {
			tcsAmount = 0;
			$("#tcsAmount").val(tcsAmount);
		}
		var grandTotal = $("#grandTotal").val();
		if (grandTotal == "" || grandTotal == null || grandTotal == "null") {
			grandTotal = 0;
			$("#grandTotal").val(grandTotal);
		}
		var subTotal = $("#subTotal").val();
		var qSGST = $("#qSGST").val();
		var qCGST = $("#qCGST").val();
		var qIGST = $("#qIGST").val();
		var adjustment = $("#adjustment").val();
		var totVal = parseFloat(subTotal) + parseFloat(qSGST)
				+ parseFloat(qCGST) + parseFloat(qIGST) + parseFloat(tcsAmount);
		if (adjustment && totVal) {
			var add = parseFloat(adjustment) + parseFloat(totVal);
			$("#grandTotal").val((add).toFixed(2));
		} else {
			var add = 0;
			$("#grandTotal").val((totVal).toFixed(2));
		}
	}

	//Calculate Tcs

	function tcsCalculation() {

		var tcsValue = $("#tcsValue").val();
		var subTotal = $("#subTotal").val();
		var grandTotal2 = $("#grandTotal").val();
		
		var qSGST = $("#qSGST").val();
		if (qSGST == "" || qSGST == null || qSGST == "null") {
			qSGST = 0;
			$("#qSGST").val(qSGST);
		}
		var qCGST = $("#qCGST").val();
		if (qCGST == "" || qCGST == null || qCGST == "null") {
			qCGST = 0;
			$("#qCGST").val(qCGST);
		}
		var qIGST = $("#qIGST").val();
		if (qIGST == "" || qIGST == null || qIGST == "null") {
			qIGST = 0;
			$("#qIGST").val(qIGST);
		}

		var tcsAmount = $("#tcsAmount").val();
		if (tcsAmount == "" || tcsAmount == null || tcsAmount == "null") {
			tcsAmount = 0;
			$("#tcsAmount").val(tcsAmount);
		}
		var grandTotal = $("#grandTotal").val();
		if (grandTotal == "" || grandTotal == null || grandTotal == "null") {
			grandTotal = 0;
			$("#grandTotal").val(grandTotal);
		}
		
		var totVal = parseFloat(subTotal) + parseFloat(qSGST)
				+ parseFloat(qCGST) + parseFloat(qIGST);
		
		if (tcsValue) {
			
			var tcs = (parseFloat(subTotal) * parseFloat(tcsValue)) / 100;
			var add = parseFloat(tcs) + parseFloat(totVal);
			$("#grandTotal").val((add).toFixed(2));
			$("#tcsAmount").val((tcs).toFixed(2));
		} else {
			
			var add = 0;
			$("#grandTotal").val((totVal).toFixed(2));
		}

	}
	var tcs = 0;
	function tcsBlank() {
		var tcsValue = $("#tcsValue").val();
		var tcsName = $("#tcsName").val();
		var gt = $("#grandTotal").val();
		var tcsAmount = $("#tcsAmount").val();

		if (tcsName == '') {
			$("#tcsValue").val('');
			$("#tcsId").val('');
			tcsCalculation()
			$("#tcsAmount").val(tcs);
		}

	}

	/*create packagesView*/

	function packagesView() {
		var poidd = $("#poIdd").val();
		if (soid) {
			sessionStorage.setItem('activity', 'ACT0205');
			agGrid.simpleHttpRequest({
				url : 'view-saleorder-for-packing?id=' + soid+'&poidd='+poidd+"&noOfSO="+ rowCount
			}).then(function(data) {
				localStorage.setItem('ReqPackagesData', JSON.stringify(data));
				itemOptions.api.setRowData(data);
				window.location.href = "/sales/view-packages"

			});

		} else {
			$("#alert").modal('show');
			document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
		}
	}
	function downloadDetails() {
		var dataset = [];
		gridOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
			dataset.push(rowNode.data);
		});
		gridOptions.api.exportDataAsCsv(dataset);
	}

	function orderSendToProduction() {
		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += selectedRow.salesOrder;
			//return false;

		});
		if (selectedRowsString) {

			sessionStorage.setItem('activity', 'ACT0212');
			sessionStorage.setItem('function', 'FUN0070');
			sessionStorage.setItem('module', 'MOD019');
			agGrid.simpleHttpRequest({
				url : 'view-saleorder-edit-new?id=' + selectedRowsString
			}).then(function(data) {
				localStorage.setItem('ReqDatas', JSON.stringify(data));
				itemOptions.api.setRowData(data);
				window.location.href = "/production/manage-order";

			});

		} else {
			$("#alert").modal('show');
			document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
		}

}
function changeDateFormat(inputDate){  // expects Y-m-d
	    var splitDate = inputDate.split('-');
	    if(splitDate.count == 0){
	        return null;
	    }
	    var year = splitDate[0];
	    var month = splitDate[1];
	    var day = splitDate[2]; 
	    return day + '-' + month + '-' + year;
	}
function getCustomerListt() {
	var search = $("#customerName").val();
	if (search) {
		$.ajax({
					type : "POST",
					url : "view-saleorder-get-customer-listt",
					dataType : 'json',
					contentType : 'application/json',
					data : search,
					success : function(response) {
						if (response.message == "success") {
							console.log("response data"
									+ JSON.stringify(response))
							if (response.body.length != 0) {
								$("#search").css("background", "#FFF");
								var content = '<ul id="autocomplete-list1" >';
								for (var i = 0; i < response.body.length; i++) {
									content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;"  class="autocompletedata cp" onClick="selectAutocompleteValue11(\''
											+ response.body[i].custId
											+ '\',\''
											+ response.body[i].custName
											+ '\',\''
											+ response.body[i].custGSTNo
											+ '\',\''
											+ response.body[i].taxType
											+ '\')">'
											+ response.body[i].custName
											+ '</li>';
								}
								content += '<li style="margin-left:-30px;"><a class="addCust" href="#"></a>'
										+ '</li>';
								content += '</ul>';
								//console.log("content " + content)
								$("#suggesstion-box11_").show();
								$("#suggesstion-box11_").html(content);

							} else {
								$("#search").css("background", "#FFF");
								var content = '<ul id="autocomplete-list1">';
								content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;" onClick="selectAutocompleteValueD()">'
										+ "No Data Found" + '</li>';
								content += '<li style="margin-left:-30px;"  ><a class="addCust" href="#"></a>'
										+ '</li>';
								content += '</ul>';
								$("#suggesstion-box11_").show();
								$("#suggesstion-box11_").html(content);
							}
						}
					},
					error : function(data) {
						console.log(data);
					}
				})
	} else {
		$("#salesOrderIdd").empty();
		var option = $("<option></option>");
		$(option).val(null);
		$(option).html("Select");
		$("#salesOrderIdd").append(option);
		agGrid.simpleHttpRequest({
			url : "view-saleorder-through-ajax"
		}).then(function(data) {
			var len = data.length;
			$('#totalCandidate').find('span').html(len);
			gridOptions.api.setRowData(data);
		});
		$("#suggesstion-box11_").hide();
	}
}
function selectAutocompleteValue11(custId, custName, custGSTNo, taxType) {
	if (custId) {
		$("#customerId").val(custId);

		$("#customerName").val(custName);
		$("#custGSTNoo").val(custGSTNo);
		$("#taxTypee").val(taxType);
		$("#search").val(custName);
		$("#search").attr('data-procat', custId);
		$("#suggesstion-box11_").hide();
		hideShowS();
		getSalesPoList(custId);
	} else {
		$("#customerId").val("");
		$("#customerName").val("");
		$("#custGSTNoo").val("");
		$("#taxTypee").val("");
		$("#search").val("");
		$("#search").attr('data-procat', "");
		$("#suggesstion-box11_").hide();
		

	}
}
function getSalesPoList(custId) {
	if (custId) {
		var option = $("<option></option>");
		$(option).val(null);
		$(option).html("Select");
		$.ajax({
			type : "GET",
			url : "view-saleorder-salesPoList?id=" + custId,
			success : function(response) {
				if (response.message == "success") {
					$("#poIdd").empty();
					var option = $("<option></option>");
					$(option).val(null);
					$(option).html("Select");
					$("#poIdd").append(option);
					for (var i = 0; i < response.body.length; i++) {
						var option = $("<option></option>");
						$(option).val(response.body[i].key);
						$(option).html(response.body[i].key);
						$("#poIdd").append(option);
					}
				}
			},
			error : function(e) {
			}
		});
	} else {
		$("#poIdd").empty();
		var option = $("<option></option>");
		$(option).val(null);
		$(option).html("salesOrderIdd");
		$("#poIdd").append(option);
		$("#poIdd").empty();
		var option = $("<option></option>");
		$(option).val(null);
		$(option).html("Select");
	}
}
function poWiseSaleOrder() {
	var poIdd = $("#poIdd").val();
	if (poIdd) {
		agGrid.simpleHttpRequest(
				{
					url : 'view-saleorder-po-wise?id='+ poIdd
				}).then(function(data) {
			var len = data.length;
			$('#totalCandidate').find('span').html(len);
			gridOptions.api.setRowData(data);
		});
	} else {
		agGrid.simpleHttpRequest({
			url : "view-saleorder-through-ajax"
		}).then(function(data) {
			var len = data.length;
			$('#totalCandidate').find('span').html(len);
			gridOptions.api.setRowData(data);
		});
	}
}

function blockeOrder() {
	$('#blockeOrderStatus').modal('show');
}
function cancelblockeOrderStatus() {

	
	$('#blockeOrderStatus').modal('hide');
}
	
function blockeOrderOnclick() {

	
	var selectedRows = itemOptions.api.getSelectedRows();
	var selectedRowsString = '';
	selectedRows.forEach(function(selectedRow, index) {
		if (index > 0) {
			selectedRowsString += ',';
		}
		selectedRowsString += selectedRow.sku;
	});
	
	var sku = selectedRowsString;
	var salesOrder = $("#salesOrder").val();
    var blockeOrder = 1;
	
	
	
$.ajax({
	type : "GET",
	url : "view-saleorder-blockeOrder-th-ajax?blockeOrder=" + blockeOrder + "&salesOrder=" + salesOrder + "&sku=" + sku,
	async : false,
	success : function(response) {
		if (response.message == "Success") {
			$('#blockeOrderStatus').modal('hide');
			$('#blockeOrder').attr("disabled", true);
			$('#sendToProduction').attr("disabled", true);
			/* agGrid.simpleHttpRequest({
				url : 'view-quotation-through-ajax'
			}).then(function(data) {
				var len = data.length;
				$('#totalReq').find('span').html(len);
				gridOptions.api.setRowData(data);
			}); */
			//editsalesOrder(salesOrder);
			
			$("#save").hide();
			$("#messageParagraph").text("Order Blocked Successfully");
			$("#msgOkModal").removeClass("btn3");
			$("#msgOkModal").addClass("btn1");
			$("#msgModal").modal('show');
		}

	},
	error : function(data) {
	}
});
}

function approve() {
	$('#approveQuot').modal('show');
}
function cancelApproveModalBtn() {

	
	$('#approveQuot').modal('hide');
}
function approveOnclick() {
	
	var selectedRows = gridOptions.api.getSelectedRows();
	var selectedRowsString = '';
	var pendingQut = '';
	selectedRows.forEach(function(selectedRow, index) {
		if (index > 0) {
			selectedRowsString += ',';
			reference += ',';
		}
		selectedRowsString += selectedRow.salesOrder;
		pendingQut += selectedRow.pendingQut;
		
		
	});
	var salesOrder = selectedRowsString;
	
	var approveStatus = 1;
	$('#approveQuot').modal('show');
	$('.loader').show();
	
$.ajax({
	type : "GET",
	url : "view-saleorder-approve-th-ajax?approveStatus=" + approveStatus + "&salesOrder=" + salesOrder + "&pendingQut=" + pendingQut,
	async : false,
	success : function(response) {
		if (response.message == "Success") {
			$('.loader').hide();
			
			$('#approveQuot').modal('hide');
			$('#reqAppvBtn').attr("disabled", true);
			$('#delete').attr("disabled", true);
			agGrid.simpleHttpRequest({
				url : 'view-saleorder-through-ajax'
			}).then(function(data) {
				var len = data.length;
				$('#totalReq').find('span').html(len);
				gridOptions.api.setRowData(data);
			});
			$("#messageParagraph").text("Sales Order Approved Successfully");
			$("#msgOkModal").removeClass("btn3");
			$("#msgOkModal").addClass("btn1");
			$("#msgModal").modal('show');
		}else{
			$('.loader').hide();
			$('#approveQuot').modal('show');
		}
		
	},
	error : function(data) {
	}
});
}

function changeAddress(){
	var shippingHiddenId = $("#shippingHiddenId").val();
	
$('#changeAddressModel').modal('show');
var customerId = $("#custId").val();

	$.ajax({
	type : "GET",
	/* url : "view-quotation-shipping-address", */
	 url : "view-saleorder-shipping-address?customerId="+ customerId, 
	success : function(response) {
		if (response.code == "success") {
			var jsonData = JSON.parse(response.body);
			var allData=jsonData.ShippingAddress;
			var address=``;
			
			for (var i=0, n=allData.length;i<n;i++) {
				if(allData[i].addressId==shippingHiddenId){
					
					address=address+`<div class="col-md-12">
					<div class="radio-align">
					<span><input type="radio" id="orgDetails" 
						checked name="checkbox" onclick="selcetOption('${allData[i].addressId}')"></span> <label
						class="lbl">${allData[i].address}</label>
				    </div>
			        </div>`;
				}else{
					address=address+`<div class="col-md-12">
					<div class="radio-align">
					<span><input type="radio" id="orgDetails" 
						 name="checkbox" onclick="selcetOption('${allData[i].addressId}')"></span> <label
						class="lbl">${allData[i].address}</label>
				    </div>
			        </div>`;
				}

				}
		/* }else{
			
		} */	 
			var len = allData.length;
		    $("#shipping").html(address);
		   
		}
	},
	error : function(e) {
	}
});

}

function cancelChangeAddressModel(){
	$('#changeAddressModel').modal('hide');
	}

function selcetOption(addressId){
	$.ajax({
		type : "GET",
		url : "view-saleorder-shipping-dataedit?addressId="+ addressId,
		success : function(response) {
			if (response.code == "success") {
				$('#changeAddressModel').modal('hide');
				var jsonData = JSON.parse(response.body);
				var allData=jsonData.ShippingAddress[0];
				
				var len = allData.length;
				$("#shippingHiddenId").val(addressId);
			    $("#con1").val(allData.countryName);
			    $("#bstate1").html(allData.stateName);
			    $("#bcity1").html(allData.city);
				$("#bstreet11").html(allData.street1);
				$("#bstreet21").html(allData.street2);
				$("#bzipcode1").html(allData.zipCode);
				$("#bphone1").html(allData.phone);
				$("#bfax1").html(allData.fax);
				
				
			}
		},
		error : function(e) {
		}
	}); 
	
	 
}


// Email validation
 var pmailValid;
 function pmailVal() {
     var mail = $('#cusEmail').val();
     var mid =  /^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/;
    	 /^[a-zA-Z]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;
    	/*  /^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/; */
    	 
     if (mail != "") {
         if (mid.test(mail)) {
             $("#error3").hide();
             pmailValid = true;
             return true;
         } else {
             $("#error3").show();
             $("#error3").html("Please enter a valid email id.");
             pmailValid = false;
             return false;
         }

     } else {
    	 $('#cusEmail').val("");
         $("#error3").hide();
         pmailValid = true;
         return true;
     }

 }
// Email validation
 var pmailValid1;
 function pmailVal1() {
     var mail = $('#emailAdd').val();
     var mid =  /^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/;
    	
    	 
     if (mail != "") {
         if (mid.test(mail)) {
             $("#error6").hide();
             pmailValid1 = true;
             return true;
         } else {
             $("#error6").show();
             $("#error6").html("Please enter a valid email id.");
             pmailValid = false;
             return false;
         }

     } else {
    	 $('#emailAdd').val("");
         $("#error6").hide();
         pmailValid1 = true;
         return true;
     }

 }
 
//pancard card validation 

 var pancardValid;

		function pancardVal() {
			
		    var pancard = $('#pan').val();
		    
		    var pancardid = /([A-Z]){5}([0-9]){4}([A-Z]){1}$/;
		    var format = /[ `!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
		    
		    if (pancard != '' && pancard.toUpperCase() === pancard && !format.test(pancard)) {
		        if (pancardid.test(pancard)) {
		            $("#error4").hide();
		            pancardValid = true;
		            return true;
		        } else {
		        	
		            $("#error4").show();
		            $("#error4").html("Please enter a valid pan card no.");
		          //  $('#panno').val("");
		            pancardValid = false;
		            return false;
		        }

		    } else {
		        $('#pan').val("");
		        //$("#error4").hide();
		        pancardValid = false;
		        return false;
		     
		    }

		}

		// gst no  validation
		
		var GSTValid;
		function ValidateGSTNumber() {
			 var gstNumber = $('#gstNo').val();
	        var expr = /^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/;
	        if (gstNumber != ""){
	        
	        if (expr.test(gstNumber)) {
	        	
	        	
	        	  $("#error5").hide();
	        	  GSTValid = true;
		            return true;
	        }else{
	        	
	        	 $("#error5").show();
	             $("#error5").html("Please enter valid GST Number.");
	             GSTValid = false;
	             return false;
	        }
	        }else {
	        	
	        	 $('#gstNo').val("");
	        	 $("#error5").hide();
	        	 GSTValid = true;
		         return true;
		    }
	    }
		 var mobValid1;

		 function mobVal1() {
		     var mob = $('#custMobile').val();
		     var phoneno = /^\d{10}$/;
		     if (mob != '') {
		         if (phoneno.test(mob)) {
		         	
		             $("#error9").hide();
		            
		             mobValid1 = true;
		             return true;
		         } else {
		         	
		             $("#error9").html(
		                 "please enter  10 digit mobile number  ex:7089451278");
		         	 $("#error9").show();
		             mobValid1 = false;
		             return false;
		         }
		     } else {
		     	 $('#custMobile').val("");
		          $("#error9").hide();
		          mobValid1 = true;
		          return true;
		     	
		        /*  $("#error9").html(" Mobile No is Required");
		         
		         mobValid1 = false;
		         return false; */
		     }
		 }
		 //Whatsapp Val
		 var mobValid2;

		 function mobVal2() {
		     var mob = $('#whatsApp').val();
		     var phoneno = /^\d{10}$/;
		     if (mob != '') {
		         if (phoneno.test(mob)) {
		         	
		             $("#error10").hide();
		            
		             mobValid2 = true;
		             return true;
		         } else {
		         	
		             $("#error10").html(
		                 "please enter  10 digit mobile number  ex:7089451278");
		         	 $("#error9").show();
		             mobValid2 = false;
		             return false;
		         }
		     } else {
		     	 $('#whatsApp').val("");
		          $("#error10").hide();
		          mobValid2 = true;
		          return true;
		        /*  $("#error10").html(" Mobile No is Required");
		         
		         mobValid2 = false;
		         return false; */
		     }
		 }
		 //mob Val
		 var mobValid3;

		 function mobVal3() {
		     var mob = $('#phone').val();
		     var phoneno = /^\d{10}$/;
		     if (mob != '') {
		         if (phoneno.test(mob)) {
		         	
		             $("#error11").hide();
		            
		             mobValid3 = true;
		             return true;
		         } else {
		         	
		             $("#error11").html(
		                 "please enter  10 digit mobile number  ex:7089451278");
		         	 $("#error11").show();
		             mobValid3 = false;
		             return false;
		         }
		     } else {
		     	 $('#phone').val("");
		          $("#error11").hide();
		          mobValid3 = true;
		          return true;
		       /*   $("#error11").html(" Mobile No is Required");
		         
		         mobValid3 = false;
		         return false; */
		     }
		 }
		 //mob Val
		 var mobValid4;

		 function mobVal4() {
		     var mob = $('#phone1').val();
		     var phoneno = /^\d{10}$/;
		     if (mob != '') {
		         if (phoneno.test(mob)) {
		         	
		             $("#error12").hide();
		            
		             mobValid4 = true;
		             return true;
		         } else {
		         	
		             $("#error12").html(
		                 "please enter  10 digit mobile number  ex:7089451278");
		         	 $("#error12").show();
		             mobValid4 = false;
		             return false;
		         }
		     } else {
		     	 $('#phone1').val("");
		          $("#error12").hide();
		          mobValid4 = true;
		          return true;
		       /*   $("#error12").html(" Mobile No is Required");
		         
		         mobValid4 = false;
		         return false; */
		     }
		 }
		 //mob Val
		 var mobValid5;

		 function mobVal5() {
		     var mob = $('#mobile').val();
		     var phoneno = /^\d{10}$/;
		     if (mob != '') {
		         if (phoneno.test(mob)) {
		         	
		             $("#error13").hide();
		            
		             mobValid5 = true;
		             return true;
		         } else {
		         	
		             $("#error13").html(
		                 "please enter  10 digit mobile number  ex:7089451278");
		         	 $("#error13").show();
		             mobValid5 = false;
		             return false;
		         }
		     } else {
		     	$('#mobile').val("");
		         $("#error13").hide();
		         mobValid5 = true;
		         return true;
		        /*  $("#error13").html(" Mobile No is Required");
		         
		         mobValid5 = false;
		         return false; */
		     }
		 }
		 //Zip Code  validation 

		 var zipcodeValid;

		 	function zipcodeVal() {
		 					
		 		var zipcode = $('#zipCode').val();
		 				  
		 		  var zipcodeid = /^\d{6}(-\d{6})?$/;
		 		 var zipcodeid1 = /^\d{6}(-\d{5})?$/;
		 		    if (zipcode != '') {
		 				 if (zipcodeid.test(zipcode) || zipcodeid1.test(zipcode) ) {
		 				        	
		 				     $("#error14").hide();
		 				     zipcodeValid = true;
		 				      return true;
		 			  } else {
		 				      $("#error14").show();
		 				      $("#error14").html("Please enter a valid Zip Code No.");
		 				       zipcodeValid = false;
		 				      return false;
		 		}

		 	} else {
		 		 $("#error14").hide();
		 		  zipcodeValid = true;
		 		 return true;
		  }

		 } 
		 	var zipcodeValid1;

		 	function zipcodeVal1() {
		 					
		 		var zipcode = $('#zipCode1').val();
		 				  
		 		  var zipcodeid = /^\d{6}(-\d{6})?$/;
		 		 var zipcodeid1 = /^\d{6}(-\d{5})?$/;
		 		    if (zipcode != '') {
		 				 if (zipcodeid.test(zipcode) || zipcodeid1.test(zipcode) ) {
		 				        	
		 				     $("#error15").hide();
		 				     zipcodeValid1 = true;
		 				      return true;
		 			  } else {
		 				      $("#error15").show();
		 				      $("#error15").html("Please enter a valid Zip Code No.");
		 				       zipcodeValid1 = false;
		 				      return false;
		 		}

		 	} else {
		 		 $("#error15").hide();
		 		  zipcodeValid1 = true;
		 		 return true;
		  }

		 } 
		 	
		 	var mobValid6;

		 	function mobVal6() {
		 	    var mob = $('#phoneb').val();
		 	    var phoneno = /^\d{10}$/;
		 	    if (mob != '') {
		 	        if (phoneno.test(mob)) {
		 	        	
		 	            $("#error16").hide();
		 	           
		 	            mobValid6 = true;
		 	            return true;
		 	        } else {
		 	        	
		 	            $("#error16").html(
		 	                "please enter  10 digit mobile number  ex:7089451278");
		 	        	 $("#error16").show();
		 	            mobValid6 = false;
		 	            return false;
		 	        }
		 	    } else {
		 	        $("#error16").html(" Mobile No is Required");
		 	        
		 	        mobValid6 = false;
		 	        return false;
		 	    }
		 	}
		 	var zipcodeValid2;

		 	function zipcodeVal2() {
		 					
		 		var zipcode = $('#zipCodeb').val();
		 				  
		 		  var zipcodeid = /^\d{6}(-\d{6})?$/;
		 		 var zipcodeid2 = /^\d{6}(-\d{5})?$/;
		 		    if (zipcode != '') {
		 				 if (zipcodeid.test(zipcode) || zipcodeid2.test(zipcode) ) {
		 				        	
		 				     $("#error17").hide();
		 				     zipcodeValid2 = true;
		 				      return true;
		 			  } else {
		 				      $("#error17").show();
		 				      $("#error17").html("Please enter a valid Zip Code No.");
		 				       zipcodeValid2 = false;
		 				      return false;
		 		}

		 	} else {
		 		 $("#error17").hide();
		 		  zipcodeValid2 = true;
		 		 return true;
		  }

		 } 
		 	
		 	var zipcodeValid3;

		 	function zipcodeVal3() {
		 					
		 		var zipCode1s = $('#zipCode1s').val();
		 				  
		 		  var zipcodeid2 = /^\d{6}(-\d{6})?$/;
		 		 var zipcodeid3 = /^\d{6}(-\d{5})?$/;
		 		    if (zipCode1s != '') {
		 				 if (zipcodeid2.test(zipCode1s) || zipcodeid3.test(zipCode1s) ) {
		 				        	
		 				     $("#error18").hide();
		 				     zipcodeValid3 = true;
		 				      return true;
		 			  } else {
		 				      $("#error18").show();
		 				      $("#error18").html("Please enter a valid Zip Code No.");
		 				       zipcodeValid3 = false;
		 				      return false;
		 		}

		 	} else {
		 		 $("#error18").hide();
		 		  zipcodeValid3 = true;
		 		 return true;
		  }

		 } 
		 	
			function copyAsBillingAdd() {
		 		document.getElementById("mySidenavAddress").style.cssText = "width: 30%; position: absolute; right:-10px; overflow: hidden; height:auto;bottom:490px;";

		 		document.getElementById("mainSa").style.width = "70%";
		 		 var customerId = $("#customerId").text();
		 	
		 		$("#shippingId").text(customerId); 
		 		var country = $('#country').val();
		 		var states = $('#states').val();
		 		var city = $('#city').val();
		 		var street1 = $('#street1').val();
		 		var street2 = $('#street2').val();
		 		var zipCode = $('#zipCode').val();
		 		var phone = $('#phone').val();
		 		var fax = $('#fax').val();

		 		$('#country1').val(country);
		 		//$('#states1').val(states);
		 		getStateDataOnEdit1(states);
		 		$('#city1').val(city);
		 		$('#street11').val(street1);
		 		$('#street21').val(street2);
		 		$('#zipCode1').val(zipCode);
		 		$('#phone1').val(phone);
		 		$('#fax1').val(fax);
		 	}
			function newAddress() {
				
				$("#shippingId").val("");
				$("#country1").val("");
				$("#states1").val("");
				$("#city1").val("");
				$("#street11").val("");
				$("#street21").val("");
				$("#zipCode1").val("");
				$("#phone1").val("");
				$("#fax1").val("");
				 $("#addStatus").prop("checked",false);
				document.getElementById("mySidenavAddress").style.cssText = "width: 30%; position: absolute; right:-10px; overflow: hidden; height:auto;bottom:467px;";

				document.getElementById("mainSa").style.width = "70%";
			}

			function closeNavAddress() {
				document.getElementById("mySidenavAddress").style.width = "0";
				document.getElementById("mainSa").style.width = "100%";
				$("#shippingId").val("");
				$("#country1").val("");
				$("#states1").val("");
				$("#city1").val("");
				$("#street11").val("");
				$("#street21").val("");
				$("#zipCode1").val("");
				$("#phone1").val("");
				$("#fax1").val("");
				 $("#addStatus").prop("checked",false);
			}
			
			function submitAddressDetails(dataset) {
			    console.log(dataset)
			    $('.loader').show();
			    $.ajax({
			    	 type: "POST",
			         url: "view-saleorder-save-shipping-address",
			         dataType: 'json',
			         contentType: 'application/json',
			         data: JSON.stringify(dataset),
			        success: function(response) {
			            if (response.message == "Success") {
			            	$('.loader').hide();
			            	closeNavAddress();
			            	var customerIdd = $("#customerId").text();
							
							 agGrid.simpleHttpRequest({
				       			 url : "view-saleorder-shippingdetails?customerIdd=" + customerIdd,
				       			}).then(function(data) {
				       				var jsonData = JSON.parse(data.body);
				       				var allData=jsonData.Data;
				       				//var len = allData.length;
				       				//$('#totaldispatch').find('span').html(len);
				       				gridSAOptions.api.setRowData(allData);
				       			});
			            	
			            } else {
			                swal({
			                    title: response.code,
			                    text: response.message,
			                    type: "warning"
			                })
			            }
			        },
			        error: function(response) {
			            console.log(response);
			            $('.loader').hide();
			        }
			    })
			}
			
			function deleteAddressDtls() {
				 $('.loader').show();
				var selectedRows = gridSAOptions.api.getSelectedRows();
							 var id=selectedRows[0].addressId;
							 console.log("vvv",id);
							
							$.ajax({
								type : "GET",
								url : "view-saleorder-address-delete?id=" + id,
								async : false,
								success : function(response) {

									if (true) {
										$('.loader').hide();
										$("#messageParagraph").text("Deleted Successfully");
										$("#msgOkModal").removeClass("btn3");
										$("#msgOkModal").addClass("btn1");
										$("#msgModal").modal('show');

										var customerIdd = $("#customerId").text();
										
										 agGrid.simpleHttpRequest({
							       			 url : "view-saleorder-shippingdetails?customerIdd=" + customerIdd,
							       			}).then(function(data) {
							       				var jsonData = JSON.parse(data.body);
							       				var allData=jsonData.Data;
							       				//var len = allData.length;
							       				//$('#totaldispatch').find('span').html(len);
							       				gridSAOptions.api.setRowData(allData);
							       			});
										
										
										$('#deleteAddressDtls').attr("disabled", true);
										
										$('#newBtn2').attr("disabled", false);
										
										
									}

								},
							});
				}

			
			function openDetails (addressId) {
				 var editId = addressId.split(",");
				var addressId = editId[0];
				var modal = editId[1];
				$('.loader').show();
				newAddress();
				agGrid.simpleHttpRequest({
					 url : 'view-saleorder-edit-address?addressId=' + addressId,
					}).then(function(data) {
							//$("#shipmentheadId").html(data[0].salesShipmentId);
						var jsonData = JSON.parse(data.body);
						var allData=jsonData.Data;
						console.log("hhgfvh",jsonData);
						$('.loader').hide();
						   $("#shippingId").val(allData[0].addressId);
						   $("#country1").val(allData[0].country);
							$("#states1").val(allData[0].state);
							$("#city1").val(allData[0].city);
						    $("#street11").val(allData[0].street1);
							$("#street21").val(allData[0].street2);
							$("#zipCode1").val(allData[0].zipCode);
							$("#fax1").val(allData[0].fax);
							$("#phone1").val(allData[0].phone);
							if(allData[0].defaultStatus == "1") {
								$("#addStatus").prop("checked",true);
							} else {
								$("#addStatus").prop("checked",false);
							}
							
							
						});
				}
			
			function AddProduct() {

				$('#addItemModel').modal('show');
				
				$(".formValidation").remove();
				$("#mainItem").hide();
				$("#profile").hide();
				$("#prCategoryId").val("");
				$("#tempCategoryId").val("");
				$("#prLevelId").val("");
				$("#productId").val("");
				$("#catDesc").text("");
				$("#vertical").empty();
				var img = '<li data-thumb="../assets/css/extend/sld-noimg.jpg"><img src="../assets/css/extend/sld-noimg.jpg" id="imgLoc" alt="Mountains" class="hvrbox-layer_bottom img-fluid"></li>';
				$("#vertical").append(img);
				$("#productName").val("");
			    $("#brand").val("");
			    $("#mode").val("");
			    $("#hsnCodeProduct").val("");
			    $("#sicCode").val("");
			    //$("#imgemp").val("");
			    $("#prodStatus").prop("checked",false);
			    closeNavSku();
			    
			    agGrid.simpleHttpRequest({
					url : 'view-saleorder-get-sku-by-product?id=0'
				}).then(function(data) {
					console.log(data)
					skuOptions.api.setRowData(data);
					$("#skuPurchase").empty();
					$("#skuPurchase").append("<option value>Select</option>");
				});
			}
			
			function openNavItem() {
				$(".formValidation").remove();
				var productId = $("#productId").val();
				var productName = $("#productName").val();
				
				$("#skudiv").hide();
				$("#skuPrdId").text(productId);
				$("#isEdit").val("");
				$("#skuId").val("");
				$("#model").val("");
				$("#manufacture").val(productName);
				$("#variationType").val("");
				$("#variationValue").val("");
				$("#itemUnit").val("");
				$("#salePrice").val("0");
				$("#saleTax").val("");
				$("#saleCess").val("");
				$("#area").val("");
				$("#description").val("");
				document.getElementById("mySidenavItem").style.cssText = "width: 30%; position: absolute; right:-10px; overflow: hidden; height:auto;bottom:4px;";

				document.getElementById("mainItem").style.width = "70%";
			}


			function closeNavSku() {
				$("#isEdit").val("");
				document.getElementById('skuId').readOnly = false;
				$("#skuId").val("");
				$("#model").val("");
				$("#manufacture").val("");
				$("#variationType").val("");
				$("#variationValue").val("");
				$("#itemUnit").val("");
				$("#salePrice").val("");
				$("#saleTax").val("");
				$("#saleCess").val("");
				$("#area").val("");
				$("#description").val("");
				document.getElementById("mySidenavItem").style.width = "0";
				document.getElementById("mainItem").style.width = "100%";
			}
			function totalProductCSV() {
				var dataset = [];
				gridOptionsProduct.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
					dataset.push(rowNode.data);
				});
				gridOptionsProduct.api.exportDataAsCsv(dataset);
			}
			
			function viewMasterData(){
				agGrid.simpleHttpRequest({
					url : 'view-saleorder-get-sku-listing?type='+'Sales'
				}).then(function(data) {
					var len = data.length;
					$('#totalReq').find('span').html(len);
					console.log(data)
					gridOptionsProduct.api.setRowData(data);
				});
			}

			function openDetailss (id) {
				//$("#skudiv").show();
				$('.formValidation').remove();
				//newPage();
				$("#mainItem").show();
				$("#productId").val("");
				$("#productName").val("");
				$("#brand").val("");
				$("#mode").val("");
				$("#prodStatus").prop("checked",false);
				$("#prCategoryId").val("");
				$("#tempCategoryId").val("");
				$("#prLevelId").val("");
				$("#catDesc").text("");
				profileSelect();
				if(id) {
					$('.loader').show();
					$.ajax({
						type : "POST",
						url : "view-saleorder-get-product-details",
						dataType : 'json',
						contentType : 'application/json',
						data : id,
						success : function(response) {
							if (response.message == "success") {
								$('.loader').hide();
								//console.log(response);
								$("#productheadId").html(response.body.productId);
								$("#productId").val(response.body.productId);
								$("#productName").val(response.body.productName);
								$("#brand").val(response.body.brand);
								$("#mode").val(response.body.mode);
								if(response.body.productStatus == "1") {
									$("#prodStatus").prop("checked",true);
								} else {
									$("#prodStatus").prop("checked",false);
								}
								
								$("#prCategoryId").val(response.body.productCategory);
								$("#catDesc").text(response.body.productCategoryText);
								$("#hsnCode").val(response.body.hsnCode);
								//$("#sicCode").val(response.body.sicCode);
						        $('#nextproduct').hide();
					            $('#productSave').show();
								
								$('#imgemp').attr('src', '');
								if(response.body.pImgName!=null && response.body.pImgName!="") {
									$('#imgemp').attr('src', response.body.pImgName);
								} else {
									$('#imgemp').attr('src', '../assets/images/noimage.jpg');
								}
								
								agGrid.simpleHttpRequest({
									url : 'view-saleorder-get-sku-by-product?id='+response.body.productId
								}).then(function(data) {
									console.log(data)
									skuOptions.api.setRowData(data);
									
									$("#skuPurchase").empty();
									$("#skuPurchase").append("<option value>Select</option>");
									for(var i = 0; i < data.length; i++) {
										
										$("#skuPurchase").append("<option value='"+data[i].sku+"'>"+data[i].sku+"</option>");
									}
								});
			 
								
							}
						}, error : function(data) {
							console.log(data)
							$('.loader').hide();
						}
					});
				}
			}
			function profileSelect() {
				//newPage();
				$("#productheadId").html("");
				$(".formValidation").remove();
				$('#nextproduct').show();
				 $('#productSave').hide();
				$('#newId').hide();
				$("#profile").show();
				$("#prCategoryId").val("");
				$("#tempCategoryId").val("");
				$("#prLevelId").val("");
				$("#productId").val("");
				$("#catDesc").text("");
				$("#vertical").empty();
				var img = '<li data-thumb="../assets/css/extend/sld-noimg.jpg"><img src="../assets/css/extend/sld-noimg.jpg" id="imgLoc" alt="Mountains" class="hvrbox-layer_bottom img-fluid"></li>';
				$("#vertical").append(img);
				$("#productName").val("");
			    $("#brand").val("");
			    $("#mode").val("");
			    $("#hsnCode").val("");
			    $("#sicCode").val("");
			    //$("#imgemp").val("");
			    $("#prodStatus").prop("checked",false);
			    closeNavSku();
			    
			    agGrid.simpleHttpRequest({
					url : 'view-saleorder-get-sku-by-product?id=0'
				}).then(function(data) {
					console.log(data)
					skuOptions.api.setRowData(data);
					$("#skuPurchase").empty();
					$("#skuPurchase").append("<option value>Select</option>");
				});
			} 
			
			function deleteProduct() {

				$('#deleteProductModel').modal('show');
			} 
			function cancelProductModelOnclick() {

				$('#deleteProductModel').modal('hide');
			}
			
			function deleteProductModelOnclick() {
				//var vendorId=$("#vendorId").val();
				var selectedRows = gridOptionsProduct.api.getSelectedRows();
				var selectedRowsString = '';
				var selectedId = '';
				selectedRows.forEach(function(selectedRow, index) {
					if (index > 0) {
						selectedRowsString += ',';
						selectedId += ',';
					}
					selectedRowsString += '"' + selectedRow.productId + '"';
					selectedId += selectedRow.productId;
				});

				if (selectedRowsString) {
					$('.loader').hide();
					$("body").addClass("overlay");

					/* var item = {};
					item.vendorLocationId = selectedRowsString; */
					$.ajax({
						type : "POST",
						url : "view-saleorder-products-delete?id=" + selectedRowsString
								+ "&simpleid=" + selectedId,
						success : function(response) {
							if (response.message == "success") {
								console.log(response.message)
								$("#deleteProductModel").modal('hide');
								cancelProductModelOnclick();
								$('.loader').hide();
								$("body").removeClass("overlay");
								
								viewMasterData();
								 $('#deleteproduct').attr("disabled", true);
								 $('#newBtn').attr("disabled", false);
							}
						},
						error : function(data) {
							console.log(data);
						}
					})

				} else {
					$("#alert").modal('show');
					document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
				}
				/* $('#deleteVendor').modal('hide');  */

			}
			
			function openSKUDetails(skuid, id) {
				$(".formValidation").remove();
				$("#isEdit").val("");
				document.getElementById('skuId').readOnly = true;
				
				$("#skuId").val("");
				$("#model").val("");
				$("#manufacture").val("");
				$("#variationType").val("");
				$("#variationValue").val("");
				$("#itemUnit").val("");
				$("#salePrice").val("");
				$("#saleTax").val("");
				$("#saleCess").val("");
				$("#area").val("");
				$("#description").val("");
				openNavItem();
				if(id) {
					$('.loader').show();
					obj = {};
					
					obj.key = id;
					obj.name = skuid;
					
					$.ajax({
						type : "POST",
						url : "view-saleorder-get-sku-details",
						dataType : 'json',
						contentType : 'application/json',
						data : JSON.stringify(obj),
						success : function(response) {
							if (response.message == "success") {
								$('.loader').hide();
								$("#skudiv").show(); 
								$("#isEdit").val(response.body.isEdit);
								$("#skuId").val(response.body.sku);
								$("#model").val(response.body.model);
								$("#manufacture").val(response.body.manufacture);
								$("#variationType").val(response.body.variationType);
								$("#variationValue").val(response.body.variationValue);
								$("#itemUnit").val(response.body.unit);
								$("#salePrice").val(response.body.salePrice);
								$("#saleTax").val(response.body.saleTax);
								$("#saleCess").val(response.body.saleCess);
								$("#area").val(response.body.area);
								$("#description").val(response.body.description);
							}
						}, error : function(data) {
							console.log(data)
							$('.loader').hide();
						}
					});
				}
			}

			function deleteskuDtls(){
				$("#deleteSKU").modal('show');
			}
			function cancelModalSKUDtls(){
				$("#deleteSKU").modal('hide');
			}
			function deleteskud(){

				 var selectedNodes = skuOptions.api.getSelectedNodes();
				 var selectedData = selectedNodes.map(node => node.data);
				 sku= selectedData.map(node => node.sku);
				// alert(sku)
					var id = $('#productId').val();
				
				$.ajax({
						type : "GET",
						url : "view-saleorder-deletesku?id="+ sku,
						success : function(response) {
						if (response.message == "Success") {
							 $('#newBtn2').attr("disabled", false);
							 $('#deletess').attr("disabled", true);
					
							
							agGrid.simpleHttpRequest({
								url : 'view-saleorder-get-sku-by-product?id='+ id
							}).then(function(data) {
								console.log(data)
								skuOptions.api.setRowData(data);
								
								$("#skuPurchase").empty();
								$("#skuPurchase").append("<option value>Select</option>");
								for(var i = 0; i < data.length; i++) {
									
									$("#skuPurchase").append("<option value='"+data[i].sku+"'>"+data[i].sku+"</option>");
								}
							});
							closeNavSku();
							cancelModalSKUDtls();
						}
						},
						error : function(data) {
						console.log(data);
						}
					})
				
			}
			
			function profilecancelbtn(){
				$('#addItemModel').modal('hide');
				deleteFile();
				$("#newId").show();
				$(".btn-hs").show();
				$("#profile").hide();
				$("#productCategoryCBDiv").attr("df","0");
				$("#prCategoryId").val("");
				$("#tempCategoryId").val("");
				$("#prLevelId").val("");
				$("#catDesc").text("");
				$("#vertical").empty();
				var img = '<li data-thumb="../assets/css/extend/sld-noimg.jpg"><img src="../assets/css/extend/sld-noimg.jpg" id="imgLoc" alt="Mountains" class="hvrbox-layer_bottom img-fluid"></li>';
				$("#vertical").append(img);
				viewMasterData();
				
			}
			
			function saveFile() {
				
				var uFile = $('#fileUpload')[0].files[0];
				var fileName = $('#fileUpload').val();
			console.log(uFile);
			console.log(fileName);

				var lastIndex = fileName.lastIndexOf("\\");
				if (lastIndex >= 0) {
					fileName = fileName.substring(lastIndex + 1);
				}
				var iURL = URL.createObjectURL(uFile);

				$('#imgemp').attr('src', '');
				$('#imgemp').attr('src', iURL);

				var fileData = new FormData();
				fileData.append('file', uFile);
				fileData.append('path', 'none');

				$.ajax({
					type : "POST",
					url : "view-saleorder-upload-fileprofuct",
					enctype : "multipart/form-data",
					contentType : false,
					data : fileData,
					processData : false,
					cache : false,
					success : function(response) {

					},
					error : function(e) {

					}
				});
				
			}

			function check1(fieldId) {
				var tempVal = $("#" + fieldId).val().replace(/[^0-9 ]/g, '');
					$("#" + fieldId).val(tempVal);
			}
			function deleteFile() {
			$('#fileUpload').val("");
			$('#imgemp').attr('src', '');
			$('#imgemp').attr('src', '../assets/images/noimage.jpg');

			var fileData = new FormData();
			console.log('fileData',fileData)
			fileData.append('file', 'none');
			fileData.append('path', 'none');
			console.log('File',fileData.append('file', 'none'))
			console.log('Pathh',fileData.append('path', 'none'))

			$.ajax({
				type : "POST",
				url : "/view-saleorder-delete-fileproduct",
				enctype : "multipart/form-data",
				contentType : false,
				/* data        : fileData, */
				processData : false,
				cache : false,
				success : function(response) {
				},
				error : function(e) {

				}
			});
			}
			function toDataUrl(url, callback) {
			    var xhr = new XMLHttpRequest();
			    xhr.onload = function() {
			        var reader = new FileReader();
			        reader.onloadend = function() {
			            callback(reader.result);
			        }
			        reader.readAsDataURL(xhr.response);
			    };
			    xhr.open('GET', url);
			    xhr.responseType = 'blob';
			    xhr.send();
			}

			function onQuickFilterChangedd() {
				gridOptionsProduct.api.setQuickFilter(document.getElementById('quickFilterr').value);
			}

			function cancelBarr() {
				var id = document.getElementById("closeKeyy");
				id.style.display = "block";

				if ($('#quickFilterr').val() == null || $('#quickFilterr').val() == "") {
					id.style.display = "none";
				}
			}
			
			
			function getCategoryList() {
				$('.loader').show();
				$("body").addClass("overlay");
				$("#productDiv").modal("show");
				$.ajax({
			        type: "POST",
			        url: "view-saleorder-get-total-list",
			        dataType: "json",
			        contentType: "application/json",
			        success: function(response) {
			        	if (response.message == "Success") {
			        		$("#costCeneterCBDiv").empty();
			            	for(var i = 0; i < response.body.length; i++) {
			            		var row = "";
			            		if(response.body[i].categoryId == response.body[i].parentId) {
			            			if(response.body[i].nodeCount > 0) {
			            				row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'+
			    						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'+response.body[i].categoryName+'</td></tr>';
			            			} else {
			            				row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'+
			    						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk pc1-box" type="checkbox" id="ccCheck_'+ response.body[i].categoryId +'" value="'+ response.body[i].categoryId +
			    						'" name="'+ response.body[i].categoryName +'" onchange=selectCheckBoxx("'+response.body[i].categoryId+'","'+response.body[i].catLevel+'")>'+response.body[i].categoryName+'</td></tr>';
			            			}
			            			
			            		} else {
			            			if(response.body[i].nodeCount > 0) {
			            				row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'+
			    						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'+response.body[i].categoryName+'</td></tr>';
			            			} else {
			            				
			            					row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'+
			        						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk pc1-box" type="checkbox" id="ccCheck_'+ response.body[i].categoryId +'" value="'+ response.body[i].categoryId +'" name="'+
			        						response.body[i].categoryName +'" onchange=selectCheckBoxx("'+response.body[i].categoryId+'","'+response.body[i].catLevel+'")>'+response.body[i].categoryName+'</td></tr>';
			            			}
			            		}
								$("#costCeneterCBDiv").append(row);
								
			            	}
			        		
			        		var pcat = $("#prCategoryId").val();
			        		$(".benefitChk pc1-box").prop("checked", false);
			        		$("#ccCheck_"+pcat).prop("checked", false);
			            	
			            	$('.loader').hide();
			            	$("body").removeClass("overlay");
			            	
			            	$('#basic').simpleTreeTable({
			            	    expander: $('#expander'),
			            	    collapser: $('#collapser'),
			            	    store: 'session',
			            		storeKey: 'simple-tree-table-basic'
			            	});
			            }
			        }, error: function(data) {
			        	console.log(data)
			        	$('.loader').hide();
			        	$("body").removeClass("overlay");
			        	$("#productDiv").modal("show");
			        }
				});
			}

			function selectCheckBoxx(id,lvl) {
				$(".benefitChk").prop("checked", false);
				$("#ccCheck_"+id).prop("checked", true);
				$("#tempCategoryId").val(id);
				$("#prLevelId").val(lvl);
				 
			}
			function closeModall() {
				$("#myModall").modal("hide");
				$("#myModall").modal("empty");
			}

			
			function next(){
				
				var data = [];
			    $(".hvrbox-layer_bottom").each(function(i) {
			    	var xyz = "";
			    	 toDataUrl($(this).attr("src"), function(myBase64) {
			    		
			    		 xyz = myBase64;
			    		 data.push(myBase64);
			    		 console.log(xyz)
			    	});  
			     	 
			    })


			      obj = {};

			        obj['productId'] = $("#productId").val();
			        obj['productName'] = $("#productName").val();
			        obj['brand'] = $("#brand").val();
			        obj['mode'] = $("#mode").val();
			        obj['hsnCode'] = $("#hsnCode").val();
			        obj['sicCode'] = $("#sicCode").val();
			        obj['productStatus'] = $("input[name='isActive']:checked").val();
			        obj['productCategory'] = $("#prCategoryId").val();
			        obj['productCategoryText'] = $("#catDesc").text();
			        obj['imgList'] = data;
			        $(".formValidation").remove();
			        console.log(obj);
			       allPValid = true;
					if( $("#productName").val() == null || $("#productName").val() == ""){
						allPValid = false;
						validationModal("Product Name Required","productName");
					} 
					/* if( $("#brand").val() == null || $("#brand").val() == ""){
						allPValid = false;
						validationModal("Brand Required","brand");
					}  */
					if( $("#mode").val() == null || $("#mode").val() == ""){
						allPValid = false;
						validationModal("Mode Required","mode");
					} 
					if( $("#hsnCodeProduct").val() == null || $("#hsnCodeProduct").val() == ""){
		    			allPValid = false;
		    			validationModal("HSN/SAC Code Required","hsnCodeProduct");
		    		} 
					var productId = $('#productheadId').html();
			        if(allPValid) {
			        	if(productId!=""){
			        		var rowCount = skuOptions.api.getDisplayedRowCount();
			            		if(rowCount>0){
			            		 submitProduct(obj);
			            		}else{
			                      	$("body").removeClass("overlay");
			                      	$("#messageParagraph").text("Please Select Atleast one Item");
			                      	$("#msgOkModal").removeClass("btn3");
			                      	$("#msgOkModal").addClass("btn1");
			                      	$("#msgModal").modal('show');
			            		}
			     
			          }else{
			        	submitProduct(obj);
			          }
			        	
			        	
			        }
			     
			}
			
			function submitProduct(dataset) {
				
			    console.log(dataset)
			     $('.loader').show();
			    $.ajax({
			    	 type: "POST",
			         url: "view-saleorder-products-save",
			         dataType: 'json',
			         contentType: 'application/json',
			         data: JSON.stringify(dataset),
			        success: function(response) {
			            if (response.message == "Success") {
			            	$('.loader').hide();
			            	
			            	//returnPage();
							
							var productIdd = $('#productId').val();
							if(productIdd!=""){
								profilecancelbtn();
							}else{
							
			            	$('.loader').hide();
			            	
			            	/* $("#messageParagraph").text("Data Saved Successfully");
			            	$("#msgOkModal").removeClass("btn3");
			            	$("#msgOkModal").addClass("btn1");
			            	$("#msgModal").modal('show'); */
			            	$("#productId").val(response.body.productId);
			            	$("#productheadId").html(response.body.productId);
			            	//$("#productName").val(response.body.productName);
			            	//
			            	$("#mainItem").show();
			            	$("#nextproduct").hide();
			            	$("#productSave").show();
							}
			            } else {
			            	$('.loader').hide();
			            	
			                swal({
			                    title: response.code,
			                    text: response.message,
			                    type: "warning"
			                })
			            }
			        },
			        error: function(response) {
			        	$('.loader').hide();
			        	
			            console.log(response);
			        }
			    }) 
			}
			
			function skuProductCSV() {
				var dataset = [];
				skuOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
					dataset.push(rowNode.data);
				});
				skuOptions.api.exportDataAsCsv(dataset);
			}
			
			function submitProductDetails(dataset) {
			    console.log(dataset)
			    $('.loader').show();
			    $.ajax({
			    	 type: "POST",
			         url: "view-saleorder-save-sku-dtls",
			         dataType: 'json',
			         contentType: 'application/json',
			         data: JSON.stringify(dataset),
			        success: function(response) {
			            if (response.message == "Success") {
			            	$('.loader').hide();
			            	closeNavSku();
			            	//$("#addItemModel").modal('hide');
			            	var productId = $("#productId").val();
			            	agGrid.simpleHttpRequest({
								url : 'view-saleorder-get-sku-by-product?id='+productId
							}).then(function(data) {
								console.log(data)
								skuOptions.api.setRowData(data);
								
								$("#skuPurchase").empty();
								$("#skuPurchase").append("<option value>Select</option>");
								for(var i = 0; i < data.length; i++) {
									$("#skuPurchase").append("<option value='"+data[i].sku+"'>"+data[i].sku+"</option>");
								}
							});
			            	
			            } else {
			                swal({
			                    title: response.code,
			                    text: response.message,
			                    type: "warning"
			                })
			            }
			        },
			        error: function(response) {
			            console.log(response);
			            $('.loader').hide();
			        }
			    })
			}

			function checkAlphabetAndSpecialChars(fieldId) {
			    var tempVal = $("#" + fieldId).val().replace(/[^a-zA-Z!@#$%^&*()_+{}\[\]:;<>,.?~\s]/g, '');
			    tempVal = tempVal.replace(/^\w/, c => c.toUpperCase());
			    
			    const input = document.getElementById(fieldId);
			    const position = input.selectionStart;	
			    
			    if (position == 1 && tempVal.charAt(0) == ' ') {
			        $("#" + fieldId).val('');
			        tempVal = '';
			    }
			    
			    $("#" + fieldId).val(tempVal);
			}
			
			function vendorNameUpper(){
				var text =$("#customerNamee").val();
				var result = text.toUpperCase();
				$("#customerNamee").val(result);
			}
			function vendorNameUpperr(){
				
				var text =$("#companyName").val();
				var result = text.toUpperCase();
				$("#companyName").val(result);
			}
			
			function productNameUpper(){
				var text =$("#productName").val();
				var result = text.toUpperCase();
				$("#productName").val(result);
			}
</script>
</head>
<body>
	<div layout:fragment="content" class="maincontent">
		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
					<div class="content_padding">
											<div class="row" id="customerData">
							<div class="col-md-4">
								<div class="form-group">
									<div class="autocomplete" style="width: 100%;">
										<label>Customer Name</label> <input type="text"
											id="customerName" placeholder="Customer Name"
											class="form-control" onkeyup='getCustomerListt();'><input
											type="hidden" id="customerId"> <input type="hidden"
											id="custGSTNoo"> <input type="hidden" id="taxTypee">
									</div>
									<div id="suggesstion-box11_" class="sugg-cls"></div>

								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group">
									<label>PO ID</label>
									<div class="select">
										<select name="po" id="poIdd"
											onChange="poWiseSaleOrder()">
											<option value="">Select</option>
										</select> <span class="focus"></span>
									</div>
								</div>
							</div>
						</div>
						<div class="d-flex justify-content-between mt-4" id="reqTable"
							style="display: none;">

							<div class="btn-hs">
								<div class="font-design" id="totalCandidate">
									Sales Order LIST(<span></span>)
								</div>
							</div>

							<div id="searchRowDiv">
								<div class="input-style">
									<input type="text" placeholder="Search.." name="search"
										class="searchboxinput" onkeyup="cancelBar()"
										oninput="onQuickFilterChanged()" id="quickFilter"
										autocomplete="off">
									<div class="searchicon">
										<a href="javascript:void(0)"><span
											style="display: none; border-right: 1px solid #ccc; padding-right: 5px;"
											id="closeKey"
											onclick="gridOptions.api.setQuickFilter(null);$('#quickFilter').val('');document.getElementById('closeKey').style.display='none';"
											class="close_i"><i class="ti-close srchicon"></i></span></a><a
											href="javascript:void(0)"><i class="ti-search srchicon"></i></a>
									</div>
								</div>
							</div>

							<div class="col-md-5 buttonsec btn-hs">

								<button class="download-btn" id=dwnld
									onclick="downloadDetails()">Download</button>
							 <button onclick="add()" class="new-btn" id="add">New</button>
								<button onclick="deleteQuotation()" class="delete-btn"
									id="delete">delete</button>
								<button onclick="packagesView()" class="approve-btn"
									style="width: 88px" id="packages">packages</button>
                         <button id="reqAppvBtn" class="approve-btn" onclick="approve()">APPROVE</button> 
							</div>
						</div>

						<input type="hidden" id="sessionId" th:value="${userId}" /> <input
							type="hidden" id="sessionName" th:value="${userName}" /> <input
							type="hidden" id="hrRole" th:value="${hrRole}" /> <input
							type="hidden" id="sessionRole" th:value="${userRole}" /> <input
							type="hidden" id="adRole" th:value="${adRole}" />

						<div id="myGrid" style="height: 500px; width: 100%;"
							class="ag-theme-alpine"></div>

						<div class="collapse" id="addData">
							<div class="innerstickybg">
								<div class="row">
									<div class="col-md-3">
										Sales Order ID: <span id="salesOrderheadId"></span>
									</div>
									<div class="col-md-9" align="right">
										<button class="cancel-btn" id="Cancel" onClick="Cancel()">Cancel</button>
										<button class="approve-btn" id="save" onclick="save()">Save</button>
									</div>
								</div>
							</div>

							<div class="row innersticky_contentgap">
								<input type="hidden" id="salesOrder"> <input type="hidden" id="taxType">
								<div class="col-lg-3">
									<div class="form-group">
										<div class="autocomplete">
											<label>Customer Name</label> <input type="text" id="custName"
												placeholder="Customer Name" class="form-control fromtxt"
												onkeyup='getCustomerList()'> <input type="hidden"
												id="custId"> <input type="hidden" id="custGSTNo">
										</div>
										<div id="suggesstion-box1_" class="sugg-cls"></div>
									</div>

									<div class="row" id=addre>
										<div class="col-md-6">
											<span class="billtxt" id="billingAdd">Billing Address</span>
										<address class="font-small ember-view">
												<strong id="addNewAdd1" onclick="addnewAddress()"
													style="color: blue; cursor: pointer;">Add New
													Address</strong>
											</address> 
											<div class="preserve-wrap1">
												<span id='con'></span><br> <span id='bstate'></span><br>
												<span id='bcity'></span><br> <span id='bstreet1'></span><br>
												<span id='bstreet2'></span><br> <span id='bzipcode'></span><br>
												<span id='bphone'></span><br> <span id='bfax'></span><br>
											</div>
										</div>
										<div class="col-md-6">
											<span class="billtxt" id="shippingAdd">Shipping
												Address</span>
												 <input type=hidden id="shippingHiddenId">  
												 <address class="font-small ember-view">
												<strong id="changeAddress" onclick="changeAddress()"
													style="color: blue; cursor: pointer;">Change</strong>
											</address>
<!-- 											<address class="font-small ember-view">
												<strong id="addNewAdd" onclick="addnewAddress1()"
													style="color: blue; cursor: pointer;">Add New
													Address</strong>
											</address> -->
											<div class="preserve-wrap1">
												<span id='con1'></span><br> <span id='bstate1'></span><br>
												<span id='bcity1'></span><br> <span id='bstreet11'></span><br>
												<span id='bstreet21'></span><br> <span id='bzipcode1'></span><br>
												<span id='bphone1'></span><br> <span id='bfax1'></span><br>

											</div>
										</div>


									</div>

								</div>
							
								<div class="col-lg-3">
									<div class="form-group">
										<label>Sales Order Reference Id#</label><input type="text"
											id="referenceId" class="form-control" readonly>
									</div>
								</div>

							<!-- 	<div class="col-lg-3">
                            <div class="form-group">
									<label>Sales Order Date</label> <input type="text"
										id="orderReceiveDate" class="form-control" >
                                </div>
								</div> -->
								
									<div class="col-lg-3">
									<div class="form-group calendar_box">
										<label>Sales Order Date</label> <input type="text" id="orderReceiveDate"
											class="form-control" onblur="removeValid(event)"
											th:attr="onkeyup=|formatDate('orderReceiveDate','${session.DATEFORMAT_JS}')|">
										<i class="ti-calendar picker_calendar"
											id="orderReceiveDateCalendar"></i>
									</div>
								</div>

								<div class="col-lg-3">
									<div class="form-group calendar_box">
										<label>Expected Shipment Date</label> <input type="text"
											id="expectedShipmentDate" class="form-control"
											onblur="removeValid(event)"
											th:attr="onkeyup=|formatDate('expectedShipmentDate','${session.DATEFORMAT_JS}')|" readonly>
										<i class="ti-calendar picker_calendar"
											id="expectedShipmentDateCalendar"></i>
									</div>
								</div>

						<!-- 		<div class="col-lg-3">
									<div class="form-group">
										<label>Payment Term</label>
											<select id="paymentTermId" onblur="removeValid(event)" class="form-control">
												<option value="">Select</option>
												<option th:each="c,iter:${paytermList}" th:value="${c.key}"
													th:text="${c.name}"></option>
											</select>
									</div>

								</div> -->


								<div class="col-lg-3">
									<div class="form-group">
										<label>Payment Term(Days)</label> <input type="text"
											id="paymentTermId" 
											class="form-control">
									</div>
								</div>

								<div class="col-lg-3">
									<div class="form-group">
										<label>Payment Method</label>
										<div class="select">
											<select id="deliveryMethodId" onblur="removeValid(event)" class="form-control">
												<option value="">Select</option>
												<option th:each="c,iter:${PayModeLists}" th:value="${c.key}"
													th:text="${c.name}"></option>
											</select>
											</div>
									</div>

								</div>
								
								<div class="col-lg-3">
									<div class="form-group">
										<div class="autocomplete" style="width: 100%;">
											<label>Sales Person</label> <input type="text"
												id="salespersonName" placeholder="Sales Person Name"
												class="form-control" onkeyup='getSalesPersonList()'><input
												type="hidden" id="salesPersonId"> <input
												type="hidden" id="custGSTNoo"> <input type="hidden"
												id="taxTypee" onclick="hideShow()">
										</div>
										<div id="suggesstion-box2_" class="sugg-cls"></div>

									</div>

								</div>

								<div class="col-lg-3">
									<div class="form-group">
										<label>Quotation Reference</label><input type="text" id="reference"
											placeholder="Reference" class="form-control" readonly>
									</div>
								</div>
								<div class="col-lg-3">
								<div class="form-group">
								
										<label>Order Type</label>
										<div class="select">
											<select id="orderType" class="form-control">
												<option value="">Select</option>
												<option value="Purchase Order">Purchase Order</option>
												<option value="Work Order">Work Order</option>
												<option value="Purchase Order&Work Order">Purchase Order&Work Order</option>
												<option value="Verbal">Verbal</option>
											</select>
								</div>
								</div>
								</div>
								
									<div class="col-lg-3">
									<div class="form-group">
										<label>Po Id</label><input type="text" id="poId"
											class="form-control">
									</div>
								</div>

							
								<div class="col-lg-12">
									<div class="form-group1">
										<label> Customer Notes</label>
										<textarea id="qutDescription"  class="form-control" onblur="removeValid(event)"> </textarea>

									</div>
								</div>

							</div>

							<div id="main_content">
								<div class="accordion-item">
									<h2 class="accordion-header" id="headingOne">
										<button class="accordion-button" type="button"
											data-bs-toggle="collapse" data-bs-target="#collapseOne"
											aria-expanded="false" aria-controls="collapseOne">
											Item Details</button>
									</h2>

									<div id="collapseOne" class="accordion-collapse collapse show"
										aria-labelledby="headingOne"
										data-bs-parent="#accordionExample">
										<div class="accordion-body">

											<div class="row">

												<div class="col-md-4 btn-hs1">
													<div class="font-design"></div>
												</div>
												<div class="col-md-8 butttonsec">
                     <button onclick="blockeOrder()" class="cancel-btn"
									style="width: 88px" id="blockeOrder">Block Order</button>
													<button class="new-btn" id="new1" onclick="openNav()">NEW</button>
													<button class="delete-btn" id="delete1"
														onclick="deleteItem()">Delete</button> 
												</div>
											</div>
											<div id="item" style="width: 100%; height: 200px;"
												class="ag-theme-alpine"></div>


										</div>

									</div>


									<div id="mySidenav" class="sidenav">
										<div class="slidebox">
											<div class="row">
												<div class="chartbtnsec">
													<div align="right">
														<button class="cancel-btn" onclick="closeNav()">CANCEL</button>
														<button class="approve-btn" id="saveTableData"
															onclick="saveTableData()">SAVE</button>

													</div>
												</div>

												<div class="col-lg-6">
													<div class="form-group">
														<label>Stock Keeping Unit</label> <input type="text"
															id="sku" class="form-control" onblur="removeValid(event)" readonly>
													</div>
												</div>
											<div class="col-lg-6 mrt_6">
													<div class="form-group">
														<button id="browseBtnNew" class="browse-btn">Browse</button>
													</div>
												</div> 
												
												<div class="col-lg-12">
													<div class="form-group">
													<div class="autocomplete">
															<input type="hidden" id="editProduct"> 
															<input type="hidden" id="itemId"> <label>Item
																Name</label> <input type="text" id="itemName"
																onblur="removeValid(event)" class="form-control"
																onkeyup='getItemQutotationList()'>
																</div>
													<div id="suggesstion-box_" class="sugg-cls"></div>
													</div>
												</div>
												
													<div class="col-lg-6">
													<div class="form-group">
														<label>HSN Code</label> <input type="text" id="hsnCode"
															onblur="removeValid(event)" class="form-control">
													</div>
												</div>

												<div class="col-lg-6">
													<div class="form-group">
														<label>Quantity</label> <input type="text" id="quantity"
															onblur="removeValid(event)" class="form-control"
															onkeyup="calculateLineTotal()">
													</div>
												</div>
												<div class="col-lg-6">
													<div class="form-group">
														<label>MOQ</label>
															<select class="form-control" id="unit" onblur="removeValid(event);">
																<option value="">Select</option>
																<option th:each="c,iter:${unitList}" th:value="${c.key}"
																	th:text="${c.name}"></option>
															</select>
													</div>
												</div>
												<div class="col-lg-6">
													<div class="form-group">
														<label>Size(Height*Weight) In MM</label> <input
															type="text" id="sizeInMM" class="form-control">
													</div>
												</div>

												<div class="col-lg-6" >
													<div class="form-group">
														<label>Thickness In MM</label> <input type="text"
															id="thicknessInMM" class="form-control"> 
													</div>
												</div>
												<div class="col-lg-6" id="unitPriceDiv">
													<div class="form-group">
														<label>Unit Price</label><input type="text" id="unitPrice"
															onblur="removeValid(event)" class="form-control"
															onkeyup="calculateLineTotal();getGSTRateCal()" readonly>
													</div>
												</div>

												<div class="col-lg-6" id="discountDiv">
													<div class="form-group">
														<label>Discount</label>
														<div class="d-flex">
															<input type="text" id="discount" class="form-control"
																onkeyup="calculateLineTotal();getGSTRateCal()" readonly>
															<div class="select" style="width: 60px;">
																<select id="discountAmount" class="form-control"
																	onkeyup="calculateLineTotal();getGSTRateCal()">
																	<option value="0" selected>%</option>
																	<option value="1">₹</option>
																</select>
															</div>

														</div>
													</div>
												</div>

												<div class="col-lg-6" id="gstRateDiv">
													<div class="form-group">
														<label>GST Rate</label><input type="text" id="gstRate"
															class="form-control" onkeyup="getGSTRateCal()" readonly>
													</div>
												</div>
												<div class="col-lg-6" id="lineTotalDiv">
													<div class="form-group">
														<label>Line Total</label> <input type="text"
															id="lineTotal" onblur="removeValid(event)"
															class="form-control" readonly>
													</div>
												</div>

												<div class="col-lg-12">
													<div class="form-group">
														<label>Item Description</label> <input type="text"
															id="itemDesc" class="form-control">
													</div>
												</div>
												
												<div class="col-lg-12">
													<div class="form-group">
														<label>Remarks</label> <textarea 
															id="itemRemarks" class="form-control" maxlength="150"></textarea>
													</div>
												</div>
												
												<div class="col-lg-12">
													<div class="form-group">
														<label>No. Of Item</label><input type="text" id="noOfItem"
															class="form-control" onkeyup="checkNumeric('noOfItem');" >
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="row" id=gstCalS>
								<div class="col-lg-12">

									<!--accordion start-->
									<div class="accordion-item mt-4" id="accordionExample2">
										<div class="accordion-item" id="documentDetails">
											<h2 class="accordion-header" id="headingTwoo">

												<button class="accordion-button collapsed" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseTwoo"
													aria-expanded="false" aria-controls="collapseTwoo">
													OTHER DOCUMENTS</button>

											</h2>
											<div id="collapseTwoo" class="accordion-collapse collapse"
												aria-labelledby="headingTwoo"
												data-bs-parent="#accordionExample">
												<div class="accordion-body">


													<div class="row">
														<div class="col-md-4 btn-hs1">
															<div class="font-design"></div>
														</div>
														<div class="col-md-8 butttonsec">
															<!--   <button class="download-btn" onclick="rfqCSV()">Download</button> -->
															<button class="new-btn" id="saveAttachmentBtn"
																onclick="checkEmpty();">Add Document</button>

														</div>
													</div>

													<table id="docTbl" cellspacing="7" cellpadding="7">
														<thead>
															<tr class="tr_clone">
																<!-- <th align="center"></th> -->

																<th width="320">Document Name</th>
																<th width="380">Attachment</th>


															</tr>
														</thead>
														<tbody id="doctbodyData">
															<tr>
																<td style="display: none" align="center" class="pdb-24"><input
																	class="checkCls" type="checkbox" id="check2"><label
																	for="check2"></label></td>
																<td style="display: none"><div class="form-group">


																		<select class="form-control documentclss" id="docid_0"
																			onblur="removeValid(event);">
																			<option value="">--Select--</option>
																			<option th:each="c,iter:${documentTypeList}"
																				th:value="${c.key}" th:text="${c.name}"></option>
																		</select>
																	</div></td>
																<td><div class="form-group">
																		<input type="text" value=""
																			class="form-control docNoclss"
																			onblur="checkForDuplicateEntry(event)" id="docnoid_">
																	</div></td>

																<td>
																	<div class="control-group position-r">
																		<label class="custom-file-upload" for="uploadDoc_0"
																			id="uploadFor_0"> <i id="clickImg_0"
																			class="ti-plus"></i>
																		</label>
																		<div class="controls">

																			<input type="file" class="document" id="uploadDoc_0"
																				name="userImage" accept="image/*"
																				onchange="saveMultiFile(event)" />

																		</div>
																	</div> <input type="hidden" id="uploadHidden_0"
																	class="uploadHidCls">
																	<div id="uploadedBillDiv_0" align="center"
																		class="uploadedBillCls"></div>
																	<div id="imageName_0" class="imageName"></div>
																	<div id="dltImage_0"></div>
																</td>

															</tr>


														</tbody>
													</table>

												</div>
											</div>
										</div>
									</div>
									<!--accordion end-->

									<div class="form-group1" id="termsdiv">
										<label style="margin-bottom: 10px;">Terms & Conditions</label>
										<textarea id="terms" class="mt-2 form-control"
											style="height: 129px;" onblur="removeValid(event)"> </textarea>

									</div>
								</div>
								<div class="col-lg-12 mt-4" id="totDiv">
									<table style="width: 100%">
										<tr>
											<th>
												<div class="row">
													<div class="col-lg-4">Sub Total:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="subTotal" class="form-control"
																readonly>
														</div>
													</div>
												</div>
											</th>

										</tr>
										<tr class="tbl-box" id="sgstTR">
											<th>
												<div class="row">
													<div class="col-lg-4">SGST:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="qSGST" class="form-control"
																readonly>
														</div>
													</div>
												</div>
											</th>

										</tr>

										<tr id="cgstTR">
											<th>

												<div class="row">
													<div class="col-lg-4">CGST:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="qCGST" class="form-control"
																readonly>
														</div>
													</div>
												</div>
											</th>

										</tr>

										<tr class="tbl-box" id="igstTR">
											<th>
												<div class="row">
													<div class="col-lg-4">IGST:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="qIGST" class="form-control"
																readonly>
														</div>
													</div>
												</div>
											</th>
										</tr>
										<tr>
											<th>
												<div class="row">
													<div class="col-lg-4">TCS:</div>
													<div class="col-lg-5">
														<div class="form-group">
															<input type="text" class="form-control" id="tcsName"
																placeholder="TCS" onkeyup="getTCSList(); tcsBlank()" autocomplete="off">
															<input type="hidden" id="tcsId">
														</div>
														<input type=hidden id="tcsValue">
														<div id="suggesstion-box3_" class="sugg-cls"></div>
													</div>

													<div class="col-lg-3">
														<div class="form-group">
															<input type="text" class="form-control" id="tcsAmount"
																onkeyup="getTCSList();" readonly> <input
																type="hidden" id="tcsId">
														</div>
													</div>
												</div>
											</th>
										</tr>
										<!-- 										<tr>
											<th>
												<div class="row">
													<div class="col-lg-4">Adjustment:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="adjustment" class="form-control"
																onkeyup="calculateAdjustment();">
														</div>
													</div>
												</div>

											</th>

										</tr> -->
										<tr>
											<th>
												<div class="row">
													<div class="col-lg-4">Grand Total:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="grandTotal" class="form-control"  readonly>
														</div>
													</div>
												</div>
											</th>

										</tr>
									</table>
									<!-- </div> -->
								</div>
							</div>
						</div>
						<!-- delete modal start -->
						<div id="deleteQuot" class="modal fade show" aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<!-- <button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalBtn()">
											<i class="ti-close modal-close"></i>
										</button> -->
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -30px;">

										<button type="button" class="btn4" data-dismiss="modal"
											onclick="cancelModalBtn();">Cancel</button>
										<button type="button" class="btn3" onclick="deleteOnclick()">Delete</button>
									</div>
								</div>
							</div>
						</div>
						<!-- delete item start	 -->
						<div id="deleteProduct" class="modal fade show" aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<!-- <button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalProductBtn()">
											<i class="ti-close modal-close"></i>
										</button> -->
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -30px;">

										<button type="button" class="btn4" data-dismiss="modal"
											onclick="cancelModalBtn();">Cancel</button>
										<button type="button" class="btn3"
											onclick="deleteProductOnclick()">Delete</button>
									</div>
								</div>
							</div>
						</div>

						<div class="modal fade" id="myModal">
							<div class="modal-dialog modal-lg" style="margin-top: 130px;">
								<div class="modal-content">

									<!-- Modal Header -->
									<div class="modal-header">
										<h4 class="modal-title md-color">Select Product</h4>
										<button type="button" class="close cp" data-dismiss="modal"
											onclick="closeModal1()">&times;</button>
									</div>

									<!-- Modal body -->
									<div class="modal-body modal-cat">
										<div class="row">

											<div class="col-md-6" df="0"
												style="height: 300px; overflow-y: scroll;">
												<table id="basic">
													<tbody id="productCategoryCBDiv"></tbody>
												</table>


											</div>
											<div class="col-md-6" id="productCategorySelectDiv" df="0"
												style="border-left: 1px solid #ccc;">
												<div>
													<div class="productlist">Select Product</div>
													<div id="select_product"></div>
													<input type="hidden" id="itemNameTemp" /> <input
														type="hidden" id="itemIdTemp" /> <input type="hidden"
														id="brandNameTemp" /> <input type="hidden"
														id="brandIdTemp" /> <input type="hidden" id="skuTemp" />
													<input type="hidden" id="hsnCodeTemp" /> <input
														type="hidden" id="unitTemp" /> <input type="hidden"
														id="gstRateTemp" /> <input type="hidden"
														id="prodCatIdTemp" /> <input type="hidden"
														id="prodCatNameTemp" />
												</div>
											</div>
										</div>
									</div>

									<!-- Modal footer -->
									<div class="modal-footer">
										<div class="chartbtnsec">
											<button class="approve-btn" onclick="selectProductVal()">SELECT</button>
											<button class="cancel-btn" data-dismiss="modal"
												onclick="closeModal1()">CANCEL</button>
										</div>
									</div>

								</div>
							</div>
						</div>
						
							<div class="modal fade" id="changeAddressModel">
						<div class="modal-dialog modal-lg"
							style="margin-top: 130px; height: 900px;">
							<div class="modal-content">

								<!-- 	Modal Header -->
								<!-- 	<div class="modal-header">
							 <button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelChangeAddressModel()">
											<i class="ti-close modal-close"></i>
										</button> 
								</div> -->
								<div class="modal-header">
									<h4 class="modal-title" style="font-size: 16px">
										<b>Change Address </b>
									</h4>
									<button type="button" class="close" data-bs-dismiss="modal"
										aria-label="Close" onclick="cancelChangeAddressModel()">
										<i class="ti-close"></i>
									</button>
								</div>
								<!-- Modal body -->
								<div class="modal-body">

									<div class="col-md-12" id="shippingData">

										<div class="row">
											<div class="col-md-12" id="shipping" >
												
											</div>
										</div>

										<div class="row mt-4">
											<address class="font-small ember-view">
												<strong id="addNewAdd" onclick="addnewAddress1()"
													style="color: blue; cursor: pointer;">Add New
													Address</strong>
											</address>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					
					
						<div class="modal fade" id="addCustomerModel">
						<div class="modal-dialog modal-lg"
							style="margin-top: 130px; height: 900px;">
							<div class="modal-content">


								<div class="modal-body">
									<!-- <div class="innerstickybg"> -->
									<div class="d-flex justify-content-between" id="main">
										<div class="col-md-3" id="idDiv">
											Customer ID: <span id="customerId"></span>
										</div>
										<div>
											<span class="taskInfo">Customer Information</span>
										</div>
										<div class="col-md-3 padding-0" align="right">
											<button class="btn3" id="cancel" onclick="cancelBtn1()">Back</button>

										</div>
									</div>
									<!-- </div> -->

									<div class="row">
										<div class="innercontent">

											<div class="row">
												<div class="row">
													<div class="col-md-4">
														<div class="form-group">
															<label>Customer Type</label>

															<div class="select">
																<select id="customerType" onchange="customerType();"
																	onblur="removeValid(event)">

																	<option value="">Select</option>
																	<option value="Business">Business</option>
																	<option value="Individual">Individual</option>
																</select>
															</div>
														</div>
													</div>


													<div class="col-md-4" id="salutationDiv">
														<div class="form-group">
															<label>Salutation</label>
															<div class="select">
																<select id="salutation" onchange="showDisplay()"
																	onblur="removeValid(event)">
																	<option value="">Select</option>
																	<option value="Mr.">Mr.</option>
																	<option value="Mrs.">Mrs.</option>
																	<option value="Ms.">Ms.</option>
																	<option value="Miss.">Miss.</option>
																	<option value="Dr.">Dr.</option>
																	<option value="Prof.">Prof.</option>
																</select>
															</div>
														</div>
													</div>

													<div class="col-md-4" id="customerNameDiv">
														<div class="form-group">
															<label>Customer Name</label> <input type="text"
																class="form-control" id="customerNamee"
																placeholder="Customer Name"
																onkeyup="showDisplay(),checkAlphabetAndSpecialChars('customerNamee'),vendorNameUpper()"
																onblur="removeValid(event)" maxLength="50">
														</div>
													</div>

													<div class="col-md-4" id="companyNameDiv">
														<div class="form-group">
															<label>Customer Name</label> <input type="text"
																class="form-control" id="companyName"
																placeholder="Customer Name"
																onkeyup="showDisplay(),checkAlphabetAndSpecialChars('companyName'),vendorNameUpperr()"
																maxLength="50" onblur="removeValid(event)">
														</div>
													</div>

													<div class="col-md-4" id="customerDisplayNameDiv">
														<div class="form-group">
															<label>Customer Display Name</label> <input type="text"
																class="form-control" id="customerDisplayName"
																placeholder="Customer Display Name" disabled>
														</div>
													</div>

													<div class="col-md-4">
														<div class="form-group">
															<label>Customer Email</label> <input type="text"
																class="form-control" id="cusEmail" placeholder="Email"
																onblur="removeValid(event)" onkeyup="pmailVal();"
																style="text-transform: lowercase"> <span
																id="error3" class="formValidation1"></span>
														</div>
													</div>

													<div class="col-md-4" id="custMobileDiv">
														<div class="form-group">
															<label>Customer Mobile</label> <input type="text"
																class="form-control" id="custMobile"
																placeholder="Mobile" maxlength="10"
																onkeyup="mobVal1();checkNumeric('custMobile');"
																onblur="removeValid(event)"> <span id="error9"
																class="formValidation1"></span>
														</div>
													</div>


													<div class="col-md-4" id="custSkypeDiv">
														<div class="form-group">
															<label>Customer Skype</label> <input type="text"
																class="form-control" id="custSkype"
																onblur="removeValid(event)" placeholder="Customer Skype">
														</div>
													</div>

													<div class="col-md-4" id="custDesignationDiv">
														<div class="form-group">
															<label>Customer Designation</label> <input type="text"
																class="form-control" id="custDesignation"
																onblur="removeValid(event)"
																placeholder="Customer Designation">
														</div>
													</div>

													<div class="col-md-4" id="departmentDiv">
														<div class="form-group">
															<label>Department</label> <input type="text"
																class="form-control" id="department"
																onblur="removeValid(event)" placeholder="Department">
														</div>
													</div>


													<div class="col-md-4" id="webSiteDiv">
														<div class="form-group">
															<label>Web Site</label> <input type="text"
																class="form-control" id="webSite" placeholder="Web Site"
																onblur="removeValid(event)">
														</div>
													</div>


													<div class="col-md-4">
														<div class="form-group">
															<label>Status</label>
															<div class="select">
																<select id="status" onblur="removeValid(event)">
																	<option value="">Select</option>
																	<option value="Active">Active</option>
																	<option value="Inactive">Inactive</option>
																</select>
															</div>
														</div>
													</div>


												</div>
											</div>

											<div class="accordion-item">
												<h2 class="accordion-header" id="headingTwo">
													<button class="accordion-button" type="button"
														data-bs-toggle="collapse" data-bs-target="#collapseTwo"
														aria-expanded="true" aria-controls="collapseTwo">
														Other Details</button>
												</h2>
												<div id="collapseTwo"
													class="accordion-collapse collapse show"
													aria-labelledby="headingTwo"
													data-bs-parent="#accordionExample">
													<div class="accordion-body">

														<div class="row">
															<div class="col-md-4">
																<div class="form-group">
																	<label>Pan Card</label> <input type="text"
																		class="form-control" id="pan" placeholder="Pan Card"
																		onblur="removeValid(event)" onkeyup="pancardVal();"
																		maxLength="10"> <span id="error4"
																		class="formValidation1"></span>
																</div>
															</div>
															<div class="col-md-4">
																<div class="form-group">

																	<label>GST No.</label>
																	<div class="d-flex">
																		<div>
																			<input type="text" class="form-control" id="gstNo"
																				placeholder="GST No" onkeyup="ValidateGSTNumber()"
																				maxlength="15" onblur="removeValid(event)">
																			<span id="error5" class="formValidation1"></span>
																		</div>

																		<!-- <div style="margin-top: 7px;">
																			<button class="approve-btn1" id=approveGst
																				onclick="getGstData()">GST</button>
																		</div> -->
																	</div>
																</div>
															</div>

															<div class="col-md-4">
																<div class="form-group">
																	<label>Currency</label>
																	<div class="select">
																		<select id="currency" onblur="removeValid(event)">
																			<option value="">Select</option>
																			<option value="INR RUPPEE">INR RUPEE</option>
																			<option value="AED-UAE Dirham">AED-UAE
																				Dirham</option>
																			<option value="AUD-Australian Doller">AUD-Australian
																				Dollar</option>
																			<option value="CAD-Canadian Doller">CAD-Canadian
																				Dollar</option>
																			<option value="CNY-Yuan Renminbi">CNY-Yuan
																				Renminbi</option>
																			<option value="EUR-Euro">EUR-Euro</option>
																			<option value="GBP-Pound Sterlin">GBP-Pound
																				Sterlin</option>
																			<option value="JPY-Japanese Yen">JPY-Japanese
																				Yen</option>
																			<option value="SAR-Saudi Riyal">SAR-Saudi
																				Riyal</option>
																			<option value="USD-United State Doller">USD-United
																				State Dollar</option>
																			<option value="ZAR-South Africa Rand">ZAR-South
																				Africa Rand</option>
																		</select>
																	</div>
																</div>
															</div>


															<div class="col-md-4">
																<div class="form-group">
																	<label>Opening Balance</label> <input type="text"
																		class="form-control" id="openingBalance"
																		placeholder="Opening Balance"
																		onblur="removeValid(event)" autocomplete="off"
																		onkeyup="checkAmount('openingBalance');">
																</div>
															</div>


															<div class="col-md-4">
																<div class="form-group">
																	<label>Payment Terms</label>
																	<div class="select">
																		<select id="paymentTerms" onblur="removeValid(event)">
																			<option value="">Select</option>
																			<option value="Net 15">Net 15</option>
																			<option value="Net 30">Net 30</option>
																			<option value="Net 45">Net 45</option>
																			<option value="Net 60">Net 60</option>
																			<option value="Due end of the month">Due end
																				of the month</option>
																			<option value="Due end of the next month">Due
																				end of the next month</option>
																			<option value="Due on receipt">Due on
																				receipt</option>
																		</select>
																	</div>
																</div>
															</div>

															<div class="col-md-4">
																<div class="form-group">
																	<label>Portable Language</label>

																	<div class="select">
																		<select id="portableLang" onblur="removeValid(event)">
																			<option value="">Select</option>
																			<option value="English">English</option>
																			<option value="HIndi">Hindi</option>
																			<option value="Bengali">Bengali</option>
																			<option value="Odia">Odia</option>
																			<option value="French">French</option>
																			<option value="Spanish">Spanish</option>
																			<option value="Bahasa Indonesia">Bahasa
																				Indonesia</option>
																			<option value="Italian">Italian</option>
																			<option value="Dutch">Dutch</option>
																			<option value="Sanskrit">Sanskrit</option>
																		</select>
																	</div>
																</div>
															</div>

															<div class="col-md-4">
																<div class="form-group">
																	<label>WhatsApp No</label> <input type="text"
																		class="form-control" id="whatsApp"
																		placeholder="WhatsApp No" maxlength="10"
																		onkeyup="mobVal2();checkNumeric('whatsApp');"
																		onblur="removeValid(event)"> <span
																		id="error10" class="formValidation1"></span>
																</div>
															</div>
															<div class="col-md-4">
																<div class="form-group">
																	<label>Facebook</label> <input type="text"
																		class="form-control" id="faceBook"
																		placeholder="Facebook" onblur="removeValid(event)">
																</div>
															</div>

															<div class="col-md-4">
																<div class="form-group">
																	<label>Twitter</label> <input type="text"
																		class="form-control" id="twitter"
																		placeholder="Twitter" onblur="removeValid(event)">
																</div>
															</div>
															<div class="col-md-4">
																<div class="form-group">
																	<label>Enable Portals</label><br> <input
																		type="checkbox" name="isActive" class="form-control"
																		id="enableDtls" style="margin-top: 8px;" value="on"
																		placeholder="Enable Details"> <label>Allow
																		portal acces for this customer</label>
																</div>
															</div>


														</div>

													</div>
												</div>
											</div>


											<div class="accordion-item">
												<h2 class="accordion-header" id="headingTwo2">
													<button class="accordion-button" type="button"
														data-bs-toggle="collapse" data-bs-target="#collapseTwo2"
														aria-expanded="true" aria-controls="collapseTwo2">
														Billing Address Details</button>
												</h2>
												<div id="collapseTwo2"
													class="accordion-collapse collapse show"
													aria-labelledby="headingTwo2"
													data-bs-parent="#accordionExample">
													<div class="accordion-body">


														<div class="row">

															<div class="col-md-4">
																<div class="form-group">
																	<label>Country</label>
																	<div class="select">
																		<select id="country" onchange="getStateDetails()"
																			onblur="removeValid(event)">
																			<option th:value="NULL">Select Country</option>
																			<option th:each="c,iter:${countryList}"
																				th:value="${c.key}" th:text="${c.name}"></option>
																		</select>
																	</div>
																</div>
															</div>

															<div class="col-md-4">
																<div class="form-group">
																	<label>State</label>
																	<div class="select">
																		<select id="states" onblur="removeValid(event)">
																			<option th:value="NULL">Select State</option>
																			<option th:each="c,iter:${statesList}"
																				th:value="${c.key}" th:text="${c.name}"></option>
																		</select> <span class="focus"></span>
																	</div>
																</div>
															</div>

															<div class="col-md-4">
																<div class="form-group">
																	<label>City</label> <input type="text"
																		class="form-control" id="city" placeholder="City"
																		onblur="removeValid(event)"
																		onkeyup="checkAlphabet('city')" maxLength="30">
																	<span id="error7" class="formValidation1"></span>
																</div>
															</div>


															<div class="col-md-4">
																<div class="form-group">
																	<label>Street 1</label> <input type="text"
																		class="form-control" id="street1"
																		placeholder="Street 1" onblur="removeValid(event)"
																		maxLength="200">
																</div>
															</div>

															<div class="col-md-4">
																<div class="form-group">
																	<label>Street 2</label> <input type="text"
																		class="form-control" id="street2"
																		placeholder="Street 2" onblur="removeValid(event)"
																		maxLength="200">
																</div>
															</div>



															<div class="col-md-4">
																<div class="form-group">
																	<label>Zip Code</label> <input type="text"
																		class="form-control" id="zipCode" autocomplete="off"
																		placeholder="Zip Code" maxlength="6"
																		onkeyup="zipcodeVal();checkNumeric('zipCode');"
																		onblur="removeValid(event)"> <span
																		id="error14" class="formValidation1"></span>
																</div>
															</div>

															<div class="col-md-4">
																<div class="form-group">
																	<label>Phone</label> <input type="text"
																		class="form-control" id="phone" placeholder="Phone"
																		maxlength="10"
																		onkeyup="mobVal3();checkNumeric('phone');"
																		onblur="removeValid(event)"> <span
																		id="error11" class="formValidation1"></span>
																</div>
															</div>


															<div class="col-md-4">
																<div class="form-group">
																	<label>Fax</label> <input type="text"
																		class="form-control" id="fax" placeholder="Fax"
																		onblur="removeValid(event)">
																</div>
															</div>

														</div>

													</div>
												</div>
											</div>
											<div id="mainSa">
												<div class="accordion-item" id="shippingAddressAcc">
													<h2 class="accordion-header" id="headingTwo2">
														<button class="accordion-button" type="button"
															data-bs-toggle="collapse" data-bs-target="#collapseTwo2"
															aria-expanded="true" aria-controls="collapseTwo2">
															Shipping Address Details</button>

														<button class="btn btn-primarynew"
															onclick="copyAsBillingAdd()">Copy As Billing
															Address</button>
												</div>
												</h2>
												<div id="collapseTwo2"
													class="accordion-collapse collapse show"
													aria-labelledby="headingTwo2"
													data-bs-parent="#accordionExample">
													<div class="accordion-body">

														<div id="mySidenavAddress" class="sidenav">
															<div class="slidebox">
																<div class="row">
																	<div class="col-md-10">
																		<div class="edit">
																			Address Id: <span id="shippingId"></span>
																		</div>
																	</div>
																	<div class="col-md-2">
																		<div class="arrow">
																			<a href="javascript:void(0)" class="closebtn"
																				onclick="closeNav()"><i class="ti-arrow-right"></i></a>
																		</div>
																	</div>
																</div>
																<div class="chartbtnsec">
																	<div align="right">
																		<button class="cancel-btn" onclick="closeNavAddress()">CANCEL</button>
																		<!-- <button class="btn3">DELETE</button> -->
																		<button class="approve-btn" id="saveSaddressData">SAVE</button>
																	</div>
																</div>
																<div class="clearfix"></div>
																<!-- <input type="hidden" id="isEdit"> -->

																<div class="row">

																	<div class="col-md-6">
																		<div class="form-group">
																			<label>Country</label>
																			<div class="select">
																				<select id="country1" onchange="getStateDetails1()"
																					onblur="removeValid(event)">
																					<option th:value="NULL">Select Country</option>
																					<option th:each="c,iter:${countryList}"
																						th:value="${c.key}" th:text="${c.name}"></option>
																				</select>
																			</div>
																		</div>
																	</div>

																	<div class="col-md-6">
																		<div class="form-group">
																			<label>State</label>
																			<div class="select">
																				<select id="states1" onblur="removeValid(event)">
																					<option th:value="NULL">Select State</option>
																					<!-- <option th:each="c,iter:${statesList}"
													th:value="${c.key}" th:text="${c.name}"></option> -->
																				</select> <span class="focus"></span>
																			</div>
																		</div>
																	</div>
																</div>
																<div class="row">
																	<div class="col-md-6">
																		<div class="form-group">
																			<label>City</label> <input type="text"
																				class="form-control" id="city1" placeholder="City"
																				onblur="removeValid(event)"
																				onkeyup="checkAlphabet('city')" maxLength="30">
																		</div>
																	</div>


																	<div class="col-md-6">
																		<div class="form-group">
																			<label>Street 1</label> <input type="text"
																				class="form-control" id="street11"
																				placeholder="Street 1" onblur="removeValid(event)"
																				maxLength="200">
																		</div>
																	</div>
																</div>
																<div class="row">
																	<div class="col-md-6">
																		<div class="form-group">
																			<label>Street 2</label> <input type="text"
																				class="form-control" id="street21"
																				placeholder="Street 2" onblur="removeValid(event)"
																				maxLength="200">
																		</div>
																	</div>



																	<div class="col-md-6">
																		<div class="form-group">
																			<label>Zip Code</label> <input type="text"
																				class="form-control" id="zipCode1"
																				autocomplete="off" placeholder="Zip Code"
																				maxlength="6"
																				onkeyup="zipcodeVal1();checkNumeric('zipCode1');"
																				onblur="removeValid(event)"> <span
																				id="error15" class="formValidation1"></span>
																		</div>
																	</div>
																</div>
																<div class="row">
																	<div class="col-md-6">
																		<div class="form-group">
																			<label>Phone</label> <input type="text"
																				class="form-control" id="phone1" placeholder="Phone"
																				maxlength="10"
																				onkeyup="mobVal4();checkNumeric('phone1');"
																				onblur="removeValid(event)"> <span
																				id="error12" class="formValidation1"></span>
																		</div>
																	</div>


																	<div class="col-md-4">
																		<div class="form-group">
																			<label>Fax</label> <input type="text"
																				class="form-control" id="fax1" placeholder="Fax"
																				onblur="removeValid(event)">
																		</div>
																	</div>
																</div>
																<div class="row">
																	<div class="col-md-2">
																		<div class="form-group" style="margin-top: 28px;">
																			<input type="checkbox" name="isDefault"
																				style="margin-top: 8px;" id="addStatus" value="1">
																			<label>Default Address</label>
																		</div>
																	</div>
																</div>


															</div>
														</div>

														<div class="row">
															<div class="col-md-4 btn-hs1">
																<div class="font-design"></div>
															</div>
															<div class="col-md-8 butttonsec">
																<button class="delete-btn" data-toggle="modal"
																	id="deleteAddressDtls" data-target="#delete"
																	onclick="deleteAddressDtls()">DELETE</button>
																<button class="new-btn" id="newAddress"
																	onclick="newAddress()">NEW</button>
															</div>

														</div>

														<div class="row">
															<div class="col-md-12">
																<div id="mySAGrid" style="width: 100%; height: 200px;"
																	class="ag-theme-alpine"></div>
															</div>
														</div>
													</div>
												</div>
											</div>

											<div class="accordion-item" id="contactPersonAcc">
												<h2 class="accordion-header" id="headingTwo3">
													<button class="accordion-button" type="button"
														data-bs-toggle="collapse" data-bs-target="#collapseTwo3"
														aria-expanded="true" aria-controls="collapseTwo3">
														Contact Person Details</button>
												</h2>
												<div id="collapseTwo3"
													class="accordion-collapse collapse show"
													aria-labelledby="headingTwo3"
													data-bs-parent="#accordionExample">
													<div class="accordion-body">


														<div class="row">
															<div class="col-md-4">
																<div class="form-group">
																	<label>Salutation</label>
																	<div class="select">
																		<select id="salutation1" onblur="removeValid(event)">
																			<option value="">Select</option>
																			<option value="Mr.">Mr.</option>
																			<option value="Mrs.">Mrs.</option>
																			<option value="Ms.">Ms.</option>
																			<option value="Miss.">Miss.</option>
																			<option value="Dr.">Dr.</option>
																			<option value="Prof.">Prof.</option>
																		</select>
																	</div>
																</div>
															</div>

															<div class="col-md-4">
																<div class="form-group">
																	<label>First Name</label> <input type="text"
																		class="form-control" id="firstName"
																		placeholder="First Name" maxLength="50"
																		onkeyup="checkAlphabet('firstName');"
																		onblur="removeValid(event)">
																</div>
															</div>

															<div class="col-md-4">
																<div class="form-group">
																	<label>Last Name</label> <input type="text"
																		class="form-control" id="lastName"
																		placeholder="Last Name" maxLength="50"
																		onkeyup="checkAlphabet('lastName');"
																		onblur="removeValid(event)">
																</div>
															</div>


															<div class="col-md-4">
																<div class="form-group">
																	<label>Email Address</label> <input type="text"
																		class="form-control" id="emailAdd" placeholder="Email"
																		onblur="removeValid(event)" onkeyup="pmailVal1()"
																		style="text-transform: lowercase"> <span
																		id="error6" class="formValidation1"></span>
																</div>
															</div>


															<div class="col-md-4">
																<div class="form-group">
																	<label>Mobile</label> <input type="text"
																		class="form-control" id="mobile" placeholder="Mobile"
																		maxlength="10"
																		onkeyup="mobVal5();checkNumeric('mobile');"
																		onblur="removeValid(event)"> <span
																		id="error13" class="formValidation1"></span>
																</div>
															</div>

														</div>

													</div>
												</div>
											</div>


											<div class="accordion-item" id="remarksAcc">
												<h2 class="accordion-header" id="headingTwo4">
													<button class="accordion-button" type="button"
														data-bs-toggle="collapse" data-bs-target="#collapseTwo4"
														aria-expanded="true" aria-controls="collapseTwo4">
														Remark Details</button>
												</h2>
												<div id="collapseTwo4"
													class="accordion-collapse collapse show"
													aria-labelledby="headingTwo4"
													data-bs-parent="#accordionExample">
													<div class="accordion-body">

														<div class="row">
															<div class="col-md-8">
																<div class="modal-inrheading">Remarks</div>
																<div class="position-text">
																	<textarea rows="4" cols="100" id="remarks"
																		onkeyup="textCount(event)"></textarea>
																	<div id="charNumSN" class="txtcounter" align="right">
																		<span>0</span> characters
																	</div>
																</div>
															</div>


														</div>

													</div>
												</div>
											</div>

											<div class="row mt-4" id="btnDiv">
												<div class="form-group">

													<button class="btn3" id="cancel" onclick="cancelBtn1()">CANCEL</button>
													<button class="btn1" id="saveAdd"
														onclick="addCustomerInfo()">SAVE</button>
													<button class="btn1" id="next" onclick="addCustomerInfo()">NEXT</button>

												</div>
											</div>

										</div>

									</div>


								</div>
							</div>
						</div>
					</div>
					<div class="modal fade" id="addAddressModel">
							<div class="modal-dialog modal-lg"
								style="margin-top: 130px; height: 900px;">
								<div class="modal-content">

									<!-- Modal Header -->
									<div class="modal-header flex-column">
										<!-- <button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalBtn()">
											<i class="ti-close modal-close"></i>
										</button> -->
									</div>
									<!-- 	Modal body -->
									<div class="modal-body">

										<div class="col-md-12" id="billingInfo">
											<div class="card-title">
												<h4>Billing Address</h4>
											</div>
											<div class="row">

												<div class="col-md-4">
													<div class="form-group">
														<label>Country</label>
														<div class="select">
															<select id="countryb" onchange="getStateDetailsb()">
																<option th:value="NULL">Select Country</option>
																<option th:each="c,iter:${countryList}"
																	th:value="${c.key}" th:text="${c.name}"></option>
															</select>
														</div>
													</div>
												</div>

												<div class="col-md-4">
													<div class="form-group">
														<label>State</label>
														<div class="select">
															<select id="statesb">
																<option th:value="NULL">Select State</option>
																<option th:each="c,iter:${statesList}"
																	th:value="${c.key}" th:text="${c.name}"></option>
															</select> <span class="focus"></span>
														</div>
													</div>
												</div>

												<div class="col-md-4">
													<div class="form-group">
														<label>City</label> <input type="text"
															class="form-control" id="cityb" placeholder="City">
													</div>
												</div>


												<div class="col-md-4">
													<div class="form-group">
														<label>Street 1</label> <input type="text"
															class="form-control" id="street1b" placeholder="Street 1">
													</div>
												</div>

												<div class="col-md-4">
													<div class="form-group">
														<label>Street 2</label> <input type="text"
															class="form-control" id="street2b" placeholder="Street 2">
													</div>
												</div>



												<div class="col-md-4">
													<div class="form-group">
														<label>ZipCode</label> <input type="text"
															class="form-control" id="zipCodeb" placeholder="Zip Code"
															onblur="removeValid(event)" maxlength="6"
															onkeyup="checkNumeric('zipCodeb');">
													</div>
												</div>

												<div class="col-md-4">
													<div class="form-group">
														<label>Phone</label> <input type="text"
															class="form-control" id="phoneb" placeholder="Phone"
															maxlength="10" onkeyup="checkNumeric('phoneb');">
													</div>
												</div>


												<div class="col-md-4">
													<div class="form-group">
														<label>Fax</label> <input type="text" class="form-control"
															id="faxb" placeholder="Fax">
													</div>
												</div>

											</div>

											<div class="row mt-4">
												<div class="form-group">

													<button class="cancel-btn" id="cancel"
														onclick="cancelBtn()">CANCEL</button>
													<button class="btn1" id="save" onclick="addCustomerInfo2()">SAVE</button>

												</div>
											</div>
										</div>



									</div>
								</div>
							</div>
						</div>
					
					
					
										<div class="modal fade" id="addAddressModel1">
						<div class="modal-dialog modal-lg"
							style="margin-top: 130px; height: 900px;">
							<div class="modal-content">

								<!-- 	Modal Header -->
								<div class="modal-header flex-column">
									<!-- <button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalBtn()">
											<i class="ti-close modal-close"></i>
										</button> -->
								</div>
								<!-- Modal body -->
								<div class="modal-body">

									<div class="col-md-12" id="shippingInfo">
										<div class="edit">
											Shipping Address : <span id="shippingId"></span>
										</div>
										<div class="row">

											<div class="col-md-4">
												<div class="form-group">
													<label>Country</label>
													<div class="select">
														<select id="country1s" onchange="getStateDetailss('')"
															onblur="removeValid(event)">
															<option th:value="NULL">Select Country</option>
															<option th:each="c,iter:${countryList}"
																th:value="${c.key}" th:text="${c.name}"></option>
														</select>
													</div>
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group">
													<label>State</label>
													<div class="select">
														<select id="states1s" onblur="removeValid(event)">
															<option th:value="NULL">Select State</option>
															<option th:each="c,iter:${statesList}"
																th:value="${c.key}" th:text="${c.name}"></option>
														</select> <span class="focus"></span>
													</div>
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group">
													<label>City</label> <input type="text" class="form-control"
														id="city1s" placeholder="City">
												</div>
											</div>


											<div class="col-md-4">
												<div class="form-group">
													<label>Street 1</label> <input type="text"
														class="form-control" id="street11s" placeholder="Street 1">
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group">
													<label>Street 2</label> <input type="text"
														class="form-control" id="street21s" placeholder="Street 2">
												</div>
											</div>



											<!-- 	<div class="col-md-4">
												<div class="form-group">
													<label>Zip Code</label> <input type="text"
														class="form-control" id="zipCode1s" placeholder="Zip Code"
														onblur="removeValid(event)" maxlength="6"
														onkeyup="checkNumeric('zipCode1s');">
												</div>
											</div> -->


											<div class="col-md-4">
												<div class="form-group">
													<label>Zip Code</label> <input type="text"
														class="form-control" id="zipCode1s" placeholder="Zip Code"
														onblur="removeValid(event)" maxlength="6"
														onkeyup="zipcodeVal3(zipCode1s);checkNumeric('zipCode1s');">
													<span id="error18" class="formValidation1"></span>
												</div>
											</div>


											<div class="col-md-4">
												<div class="form-group">
													<label>Phone</label> <input type="text"
														class="form-control" id="phone1s" placeholder="Phone"
														maxlength="10" onkeyup="checkNumeric('phone1s');">
												</div>
											</div>


											<div class="col-md-4">
												<div class="form-group">
													<label>Fax</label> <input type="text" class="form-control"
														id="fax1s" placeholder="Fax">
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group" style="margin-top: 28px;">
													<input type="checkbox" name="isDefault"
														style="margin-top: 8px;" id="addStatus" value="1">
													<label>Default Address</label>
												</div>
											</div>


										</div>

										<div class="row mt-4">
											<div class="form-group">

												<button class="cancel-btn" id="cancel"
													onclick="cancelBtn2()">CANCEL</button>
												<button class="btn1" id="save" onclick="addCustomerInfo1()">SAVE</button>

											</div>
										</div>
									</div>



								</div>
							</div>
						</div>
					</div>

					
						<!-- alert modal start -->
						<div id="alert" class="modal fade show" aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalBtn()">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p id="textId"></p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -30px;">

										<button type="button" class="btn1" data-dismiss="modal">SELECT</button>
										<!-- <button type="button" class="btn3" onclick="deleteOnclick()">Delete</button> -->
									</div>
								</div>
							</div>
						</div>

 

						<div id="deleteAttachment" class="modal fade show"
							aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="closeDeleteConfirm()">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
										<input type="hidden" id="dltValue">
									</div>
									<div class="modal-footer justify-content-center">

										<button type="button" class="cancel-btn" data-dismiss="modal"
											onclick="closeDeleteConfirm()">Cancel</button>
										<button type="button" class="delete-btn"
											onclick="deletAttachmentRow()">Delete</button>
									</div>
								</div>
							</div>
						</div>
						
						
						<div id="blockeOrderStatus" class="modal fade show" aria-modal="true">
						<div class="modal-dialog modal-confirm">
							<div class="modal-content">
								<div class="modal-header flex-column"></div>
								<div class="modal-body">
									<p>Do you want to Block this  order</p>
								</div>
								<div class="modal-footer justify-content-center"
									style="margin-top: -30px;">
									<button type="button" class="cancel-btn" data-dismiss="modal"
										onclick="cancelblockeOrderStatus();">No</button>
									<button type="button" class="approve-btn"
										onclick="blockeOrderOnclick()">Yes</button>
								</div>
							</div>
						</div>
					</div>
						<!-- 	Approve Modal Start -->

					<div id="approveQuot" class="modal fade show" aria-modal="true">
						<div class="modal-dialog modal-confirm">
							<div class="modal-content">
								<div class="modal-header flex-column"></div>
								<div class="modal-body">
									<p>Do you want to approve this estimate order</p>
								</div>
								<div class="modal-footer justify-content-center"
									style="margin-top: -30px;">
									<button type="button" class="cancel-btn" data-dismiss="modal"
										onclick="cancelApproveModalBtn();">No</button>
									<button type="button" class="approve-btn"
										onclick="approveOnclick()">Yes</button>
								</div>
							</div>
						</div>
					</div>

	<div class="modal fade" id="addSalespersonModel">
							<div class="modal-dialog modal-lg"
								style="margin-top: 130px; height: 900px;">
								<div class="modal-content">

									<!-- Modal Header -->
									<!-- <div class="modal-header flex-column">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="cancelModalBtn()">
										<i class="ti-close modal-close"></i>
									</button>
								</div> -->
									<!-- Modal body -->
									<div class="modal-body">

										<div class="col-md-12" id="salespersonDetails">
											<div class="card-title">
												<h4>Sales Person Details</h4>
											</div>
											<div class="row">
												<!-- <input type="hidden" id="salespersonId"> -->
												<div class="col-md-6">
													<div class="form-group">
														<label>Name</label> <input type="text" autocomplete="off"
															placeholder="Name" class="form-control" id="spName"
															maxLength="50" onkeyup="checkAlphabet('spName');"
															onblur="removeValid(event)">
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group">
														<label>Gender</label>
														<div class="select">
															<select class="form-control" id="spGender" onblur="removeValid(event)">
																<option value="null">Select</option>
																<option th:each="c:${genderTypeList}"
																	th:value='${c.key}' th:text="${c.name}"></option>
															</select>
														</div>
													</div>
												</div>
												<div class="col-md-6">
													<div class="form-group calendar_box">
														<label>Date Of Birth</label> <input type="text" id="dobid"
															placeholder="Date of birth" onblur="removeValid(event)"
															class="form-control"
															th:attr="onkeyup=|formatDate('dobid','${session.DATEFORMAT_JS}')|">
														<i class="ti-calendar picker_calendar2" id="dobidCalendar"></i>
													</div>
												</div>
												<!-- <div class="col-md-6">
													<div class="form-group">
														<label>Mobile No</label> <input type="text"
															autocomplete="off" name="mobileno" value=""
															placeholder="mobile no" class="form-control"
															id="mobilenoid" maxLength="10"
															onkeyup="checkNumeric('mobilenoid');" onblur="removeValid(event)">
													</div>
												</div> -->
												
												<div class="col-md-6">
											<div class="form-group">
												<label>Mobile No</label> <input type="text" autocomplete="off" 
													class="form-control" id="mobilenoid" placeholder="Mobile No."
													maxlength="10" onkeyup="mobVal5();checkNumeric('mobilenoid');"
													onblur="removeValid(event)">
													<span id="error13" class="formValidation1"></span>
											</div>
										</div>
												
												
												<div class="col-md-6">
													<div class="form-group">
														<label>EMail</label> <input type="text" autocomplete="off"
															name="Email" value="" placeholder="Email"
															class="form-control" id="personalmailid"
															onblur="removeValid(event)" onkeyup="pmailVal()"
															style="text-transform: lowercase"> <span
															id="error6" class="formValidation1"></span>
													</div>
												</div>




												<div class="col-md-12">
													<div class="form-group">
														<label>Address</label>
														<textarea name="Address" placeholder="Address"
															autocomplete="off" class="adresscls" id="addressid_"
															maxLength="150" onblur="removeValid(event)"></textarea>
													</div>
												</div>


												<div class="row mt-4">
													<div class="form-group">
														<button class="cancel-btn" id="cancelSp"
															onclick="cancelBtnSp()">CANCEL</button>
														<button type="button" id="submitsalesperson"
															class="approve-btn" onclick="addDetails();">Submit</button>

													</div>
												</div>

											</div>
										</div>



									</div>
								</div>
							</div>
						</div>


	<div class="modal fade" id="addItemModel">
						<div class="modal-dialog modal-lg"
							style="margin-top: 130px; height: 900px;">
							<div class="modal-content">


								<div class="modal-body">

									<div id="newId">

										<div class="row" id="reqTable">
											<div class="d-flex justify-content-between">
												<div class="btn-hs" id="total">
													<div class="font-design" id="totalReq">
														Product List (<span></span>)
													</div>
												</div>

												<div id="searchRowDiv">
													<div class="input-style">
														<input type="text" placeholder="Search.." name="search"
															class="searchboxinput" onkeyup="cancelBarr()"
															oninput="onQuickFilterChangedd()" id="quickFilterr"
															autocomplete="off">
														<div class="searchicon">
															<a href="javascript:void(0)"><span
																style="display: none; border-right: 1px solid #ccc; padding-right: 5px;"
																id="closeKeyy"
																onclick="gridOptionsProduct.api.setQuickFilter(null);$('#quickFilter').val('');document.getElementById('closeKeyy').style.display='none';"
																class="close_i"><i class="ti-close srchicon"></i></span></a><a
																href="javascript:void(0)"><i
																class="ti-search srchicon"></i></a>
														</div>
													</div>
												</div>
												<div class="butttonsec btn-hs" id="btndiv">
													<!-- <button class="upload-btn">Upload</button> -->
													<button class="download-btn" onclick="totalProductCSV();">Download</button>
													<button class="delete-btn" onclick="deleteProduct();"
														id="deleteproduct">DELETE</button>
													<button class="new-btn" id="newBtn"
														onclick="profileSelect()">NEW</button>
												</div>
											</div>
										</div>
										<div id="myGridProduct" style="width: 100%; height: 500px;"
											class="ag-theme-alpine"></div>
									</div>

									<div id="profile" class="collapse">
										<div class="row">
											<div class="col-md-6 btn-hs"></div>
											<div class="col-md-12">
												Product ID: <span id="productheadId"></span>
											</div>
											<div class="col-md-12" align="right">

												<button class="cancel-btn" onclick="profilecancelbtn()"
													id="profilecancelbtn">Cancel</button>
												<button class="approve-btn" id="productSave">Save</button>
											</div>
											<div class="col-md-3">
												<div class="demo">
													<div class="item">
														<div class="clearfix" style="max-width: 360px">
															<div class="hvrbox">
																<img src="../assets/images/noimage.jpg" id="imgemp"
																	alt="Location" class="hvrbox-layer_bottom img-fluid">

																<div class="hvrbox-layer_top">
																	<div class="hvrbox-text">
																		<!-- <span><i class="fa fa-pencil-square-o"></i></span> -->
																		<input type="file" id="fileUpload"
																			onchange="saveFile();" /> <span><label
																			for="fileUpload"><i class="fa fa-camera"
																				style="cursor: pointer; font-size: 16px;"></i> <!-- <i class="fa fa-pencil-square-o"></i> --></label></span>
																		<span><i class="fa fa-trash red"
																			onclick="deleteFile();"></i></span>
																	</div>
																</div>
															</div>

														</div>
													</div>

												</div>
											</div>
											<div class="col-md-9">
												<div class="row">
													<div class="col-md-12">
														<input type="hidden" id="productId"> <input
															type="text" name="code" value="" id="productName"
															maxLength="30" placeholder="Product Name"
															onkeyup="productNameUpper()"
															class="form-control_big" onblur="removeValid(event);">

													</div>
												</div>
												<div class="row">
													<div class="col-md-4">
														<div class="form-group">
															<label>Brand</label>
															<div class="select">
																<select class="" id="brand" onblur="removeValid(event);">
																	<option value="">Select</option>
																	<option th:each="c,iter:${brandListt}"
																		th:value="${c.key}" th:text="${c.name}"></option>
																</select>
															</div>
														</div>
													</div>
													<div class="col-md-4">
														<div class="form-group">
															<label>Mode</label>
															<div class="select">
																<select class="" id="mode" onblur="removeValid(event);">
																	<option value="">Select</option>
																	<option th:each="c,iter:${modeList}"
																		th:value="${c.key}" th:text="${c.name}"></option>
																</select>
															</div>
														</div>
													</div>
													<div class="col-md-2">
														<div class="form-group" style="margin-top: 28px;">
															<input type="checkbox" name="isActive"
																style="margin-top: 8px;" id="prodStatus" value="1">
															<label>Active</label>
														</div>
													</div>
													<div class="col-md-4">
														<div class="form-group">
															<label>HSN/SAC</label> <input type="text" value=""
																placeholder="HSN/SAC" class="form-control"
																id="hsnCodeProduct" onkeyup="check1('hsnCode')"
																maxLength="8" onblur="removeValid(event);">
														</div>
													</div>


												</div>
												<div class="row mt-2">
													<div class="col-md-3">
														<button class="approve-btn modalbtn" id="categoryBtn">Select
															Category</button>
														<input type="hidden" id="prCategoryId"> <input
															type="hidden" id="tempCategoryId"> <input
															type="hidden" id="prLevelId">
													</div>
													<div class="col-md-9">
														<div class="breadcrumb" id="catDesc"></div>
													</div>
												</div>
											</div>
										</div>
										<div class="col-md-12 mt-4" align="right">
											<button class="approve-btn" onclick="next()" id="nextproduct">Next</button>
										</div>
										<div id="mainItem">
											<div class="accordion" id="accordionExampleItem">

												<div class="accordion-item">
													<h2 class="accordion-header" id="headingOneItem">
														<button class="accordion-button" type="button"
															data-bs-toggle="collapse"
															data-bs-target="#collapseOneItem" aria-expanded="true"
															aria-controls="collapseOneItem">Product Details</button>

													</h2>
													<div id="collapseOneItem"
														class="accordion-collapse collapse show"
														aria-labelledby="headingOneItem"
														data-bs-parent="#accordionExampleItem">
														<div class="accordion-body">

															<div id="mySidenavItem" class="sidenav">
																<div class="slidebox" style="margin: 0px !important;">
																	<div class="row">
																		<div class="col-md-10">
																			<div class="edit">
																				Product Id: <span id="skuPrdId"></span>
																			</div>
																		</div>
																		<div class="col-md-2">
																			<div class="arrow">
																				<a href="javascript:void(0)" class="closebtn"
																					onclick="closeNavSku()"><i
																					class="ti-arrow-right"></i></a>
																			</div>
																		</div>
																	</div>
																	<div class="chartbtnsec">
																		<div align="right">
																			<button class="cancel-btn" onclick="closeNavSku()">CANCEL</button>

																			<button class="approve-btn" id="saveSKUData">SAVE</button>
																		</div>
																	</div>
																	<div class="clearfix"></div>
																	<input type="hidden" id="isEdit">
																	<div class="row">

																		<div class="col-lg-12" id="skudiv">
																			<div class="form-group">
																				<label>SKU</label> <input type="text" value=""
																					placeholder="" class="form-control" id="skuId"
																					onblur="removeValid(event);" maxLength="8">
																			</div>
																		</div>
																		<div class="col-lg-6">
																			<div class="form-group">
																				<label>Model/Size</label> <input type="text" value=""
																					placeholder="" class="form-control" id="model"
																					onblur="removeValid(event);">
																			</div>
																		</div>
																			<div class="col-lg-6">
																		<div class="form-group">
																			<label>Area</label> <input type="text" value=""
																				placeholder="" class="form-control" id="area"
																				onblur="removeValid(event);">
																		</div>
																	</div>
																	</div>
																	<div class="row">
																		<div class="col-md-12">
																			<div class="form-group">
																				<label>Manufacture Item</label> <input type="text"
																					value="" placeholder="" class="form-control"
																					id="manufacture" onblur="removeValid(event);">
																			</div>
																		</div>

																	</div>
																	   <div class="row">
																	<div class="col-md-12">
																		<div class="form-group">
																			<label>Description</label> <textarea id="description" class="form-control"
											                          onblur="removeValid(event)"> </textarea>
																		</div>
																	</div>

																</div>

																	<div class="row">
																		<div class="col-md-6">
																			<div class="form-group">
																				<label>Variation Type</label>
																				<div class="select">
																					<select class="" id="variationType"
																						onblur="removeValid(event);">
																						<option value="">Select</option>
																						<option th:each="c,iter:${variationTypeList}"
																							th:value="${c.key}" th:text="${c.name}"></option>
																					</select>
																				</div>

																			</div>
																		</div>
																		<div class="col-md-6">
																			<div class="form-group">
																				<label>Variation Value</label> <input type="text"
																					value="" onblur="removeValid(event);"
																					placeholder="" class="form-control"
																					id="variationValue">
																			</div>
																		</div>

																	</div>

																	<div class="row">
																		<div class="col-md-6">
																			<div class="form-group">
																				<label>UOM</label>
																				<div class="select">
																					<select class="" id="itemUnit"
																						onblur="removeValid(event);">
																						<option value="">Select</option>
																						<option th:each="c,iter:${unitList}"
																							th:value="${c.key}" th:text="${c.name}"></option>
																					</select>
																				</div>
																			</div>
																		</div>
																		<div class="col-md-6">
																			<div class="form-group">
																				<label>Unit Sale Price</label> <input type="text"
																					value="" onclick="salaryBack(event)"
																					onblur="removeValid(event);salaryCheck(event)"
																					placeholder="" class="form-control" id="salePrice">
																			</div>
																		</div>
																	</div>
																</div>
															</div>

															<div class="row">
																<div class="col-md-4 btn-hs1">
																	<div class="font-design"></div>
																</div>
																<div class="col-md-8 butttonsec">
																	<!-- <button class="upload-btn">Upload</button> -->
																	<button class="download-btn" onclick="skuProductCSV();">Download</button>
																	<!-- <div class="buttongap"></div> -->
																	<button class="delete-btn" data-toggle="modal"
																		id="deletess" data-target="#delete"
																		onclick="deleteskuDtls()">DELETE</button>
																	<button class="new-btn" id="newBtn2"
																		onclick="openNavItem()">NEW</button>
																</div>

															</div>
															<div class="row" id="skuDiv">
																<div class="col-md-12">
																	<div id="mySKUGrid" style="width: 100%; height: 200px;"
																		class="ag-theme-alpine"></div>
																</div>
															</div>

														</div>
													</div>
												</div>

											</div>
										</div>

									</div>
								</div>
							</div>
						</div>


						<!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@Item Model end@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->

						<div class="modal fade" id="myModall">
							<div class="modal-dialog modal-lg" style="margin-top: 130px;">
								<div class="modal-content">

									<!-- Modal Header -->
									<div class="modal-header">
										<h4 class="modal-title md-color">Select Product Category</h4>
										<button type="button" class="close cp"
											onclick="closeModall();" data-dismiss="modal">&times;</button>
									</div>

									<!-- Modal body -->

									<div class="modal-body modal-cat">
										<div class="row">
											<table id="basicc">
												<tbody id="costCeneterCBDiv"></tbody>
											</table>
										</div>
									</div>

									<!-- Modal footer -->

									<div class="modal-footer">
										<button class="cancel-btn" data-dismiss="modal"
											onclick="closeModall();">Cancel</button>
										<button class="approve-btn" id="selectCategory">Select</button>
									</div>

								</div>
							</div>
						</div>

						<div id="deleteSKU" class="modal fade show" aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column"></div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -30px;">

										<button type="button" class="cancel-btn" data-dismiss="modal"
											onclick="cancelModalSKUDtls();">Cancel</button>
										<button type="button" class="delete-btn"
											onclick="deleteskud()">Delete</button>
									</div>
								</div>
							</div>
						</div>

						<div id="deleteProductModel" class="modal fade show"
							aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column"></div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -30px;">
										<button type="button" class="cancel-btn" data-dismiss="modal"
											onclick="cancelProductModelOnclick();">Cancel</button>
										<button type="button" class="delete-btn" id="deleteModalBtn"
											onclick="deleteProductModelOnclick()">Delete</button>
									</div>
								</div>
							</div>
						</div>


	       
					</div>


					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>