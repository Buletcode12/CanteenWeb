<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">
<head>
<style type="text/css">
.highcharts-exporting-group {
	display: none;
}

.btn-primarynew {
	color: #fff !important;
	background-color: #0d6efd;
	border-color: #0d6efd;
}

.slidebox {
	padding: 14px;
	margin-top: 0px;
	margin: 0px 10px;
}

.form-group label {
	font-size: 12px;
	position: relative;
	top: 4px;
}

.holdCls {
	background-color: rgb(0, 143, 0);
}

.bg_white {
	background: #ffffff !important;
}

.blueClsWT {
	background: #0076ba;
	color: #fff;
}

.blueCls {
	background: #0076ba;
	color: #fff;
}

.blueClsWT::before {
	font-size: 8px;
	color: #FFF;
	content: '\e64c';
	font-family: 'themify';
	padding-right: 7px;
}

.modal-body table td input[type=checkbox] {
	width: 0px;
	margin-right: 16px;
	position: relative;
	top: 0px;
	float: none;
}

.firstnode {
	color: #929292;
	border-top: 1px solid transparent !important;
	border-left: 1px solid transparent !important;
	border-bottom: 1px solid transparent !important;
	width: 320px;
	font-size: 12px;
	font-weight: 100;
}

.simple-tree-table-closed .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
	transform: rotate(90deg);
}

.simple-tree-table-opened .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
}

.simple-tree-table-icon {
	display: inline-block;
	width: 1.5em;
	line-height: 1.5em;
	margin: 0.1em;
	background-color: transparent;
	text-align: center;
	cursor: pointer;
}

.tptCls {
	background: transparnt;
}

ul#autocomplete-list1 {
	position: relative;
	z-index: 999;
}

.sugg-cls ul {
	height: 150px;
	overflow-x: scroll;
	position: relative;
}
</style>
<script>
	$(document).ready(function() {
		$('#shipment').attr("disabled", true);
		$("#freigtChargeDtlss").hide();
		$("#freigtTaxRateDtls").hide();
		$("#totalFreightChargesDtls").hide();
		$("#adjustmentDtl").hide();
		$('#invoiceBtn').attr("disabled", true);
		$("#documentDetails").show();
		$('#docTbl').on('click', '.rmv1', function() {
			openDeleteConfirm();
			var value = $(this).parent("div").attr("id");
			$("#dltValue").val(value);
		});

		var gridDiv = document.querySelector('#myGrid');
		new agGrid.Grid(gridDiv, gridOptions);

		var gridDiv = document.querySelector('#item');
		new agGrid.Grid(gridDiv, itemOptions);

		gridOptions.api.setRowData();
		itemOptions.api.setRowData();
		var dateFormat = localStorage.getItem("dateFormat");
		$("#ebillDateCalendar").datetimepicker({
			format : dateFormat,
			closeOnDateSelect : true,
			timepicker : false,
			datepicker : true,
			scrollMonth : false,
		//minDate : new Date()
		}).on("change", function() {
			$('#ebillDate').val($(this).val());
		})
		$('#ebillDate').blur(function() {
			$("#ebillDateCalendar").val($(this).val());
		});
		$('.loader').show();
		agGrid.simpleHttpRequest({
			url : "vendor-delivery-challan-view-ajax"
		}).then(function(data) {
			var len = data.length;
			$('#totalCandidate').find('span').html(len);
			gridOptions.api.setRowData(data);
			$('.loader').hide();
		});
		$("#Cancel").hide();
		$("#addData").hide();
		$("#save").hide();
		$('#delete').attr("disabled", true);
		$('#salesInvrtn').attr("disabled", true);
		$('#paymentDtls').attr("disabled", true);

		$("#igstTR").hide();
		$("#igstPayTR").hide();

		$("#browseBtnNewForQue").click(function() {
			$("#myModal").modal('show');

		});
		$('#deleteItem').attr("disabled", true);
		agGrid.simpleHttpRequest({
			url : "vendor-delivery-challan-view-ajax"
		}).then(function(data) {
			var len = data.length;
			$('#totalCandidate').find('span').html(len);
			gridOptions.api.setRowData(data);
		});
		/*
		 sales delivery page*/

		var ld = localStorage.getItem('ReqChallanData');
		var data = JSON.parse(ld);
		console.log(data)
		if (data) {

			$("#delete").hide();
			$("#invoiceBtn").hide();
			$("#customerData").hide();
			$('#hideTbl').hide();
			$('#searchRowDiv').hide();
			$("#add").hide();
			$("#myGrid").hide();
			$("#save").show();
			$("#Cancel").show();
			$("#addData").show();
			$("#totalCandidate").hide();
			$("#dwnld").hide();
			$("#upld").hide();
			$("#poId").val(data[0].poId);
			if (data[0].qutActive == "0") {
				$("#qutActive").prop("checked", false);
			} else {
				$("#qutActive").prop("checked", true);
			}
			itemOptions.api.setRowData(data);
			$("#subTotal").val(data[0].subTotal);
			$("#total").val(data[0].subTotal);
			$("#qIGST").val(data[0].qIGST);
			$("#qCGST").val(data[0].qCGST);
			$("#qSGST").val(data[0].qSGST);
			$("#grandTotal").val(data[0].grandTotal);
			$("#taxType").val(data[0].taxType);
			$("#qIGSTHid").val(data[0].qIGST);
			$("#qCGSTHid").val(data[0].qCGST);
			$("#qSGSTHid").val(data[0].qSGST);
			$("#vendorId").val(data[0].vendorId);
			$("#vendorName").val(data[0].vendorName);
			$("#adjustment").val(data[0].adjustment);
			$("#tcsName").val(data[0].tcs);
			$("#tcsId").val(data[0].tcsId);
			$("#tcsAmount").val(data[0].tcsAmount);
			$("#terms").val(data[0].terms);
			$("#qutDescription").val(data[0].qutDescription);
			$("#paymentTermId").val(data[0].paymentTermId);
			$("#poId").attr("disabled", true);
			$("#vendorName").attr("disabled", true);
			var fc = 0;
			$("#freigtTaxRate").val(fc);
			//getAddressDetails(data[0].vendorId);
			$("#addre").hide();
			hideShowS();
			var date = (new Date()).toISOString().split('T')[0];
			var newDate = changeDateFormat(date);
			$("#deliveryChallanDate").val(newDate);
			$.ajax({
				type : "GET",
				url : "view-deliverychallan-get-insertedid",
				success : function(response) {
					if (response.message == "success") {
						//console.log("Response--------------"+JSON.stringify(response.body[0].name));
						$("#challanReference").val(response.body[0].key);
					}
				},
				error : function(e) {
				}
			});

			localStorage.setItem('ReqChallanData', null);
		} else {
			$("#poId").val('New');
		}

	});
	function closeAllNav() {
		closeNav();
		closeNav1();
		closeNav2();
	}
	var columnDefs = [
			{
				headerCheckboxSelection : true,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true,
				pinned : 'left'
			},
			{
				headerName : "Challan Id",
				field : "vendorDeliveryChallan",
				pinned : 'left',
				cellRenderer : function(params) {
					return '<a onclick=editdeliveryChallan("'
							+ params.data.vendorDeliveryChallan + '","'
							+ window.btoa(params.data.shipmentStatus) + '","'
							+ window.btoa(params.data.invoiceStatus)
							+ '") href="javascript:void(0)">'
							+ params.data.vendorDeliveryChallan + '</a>';
				}
			},
			{
				headerName : 'PO Id',
				field : "poId",
			},

			{
				headerName : 'Vendor Name',
				field : "vendorName",
				width : 200,
			},
			{
				headerName : 'Amount',
				field : "grandTotal",
				width : 120,
				type : 'rightAligned',
				valueFormatter : currencyFormatter
			},
			{
				headerName : 'Carrier',
				field : "carrier",
				width : 200,
			},
			{
				headerName : 'Tracking URL',
				field : "tracking",
				width : 200,
			},
			{

				headerName : 'Invoice Status',
				field : "invoiceStatus",
				width : 155,
				cellStyle : {
					textAlign : 'center'
				},
				cellRenderer : function(params) {
					if (params.data.invoiceStatus == "Generated") {
						return '<div style="color:#0642f5">'
								+ params.data.invoiceStatus + '</div>';
					} else {
						return '<div style="color:#ff8242">'
								+ params.data.invoiceStatus + '</div>';
					}
				}
			},/*  {
							headerName : "Challan",
							cellStyle : {
								textAlign : 'center'
							},
							cellRenderer : function(params) {
								var s = "";
								s = ' <a href="#" class="grn-btn" onclick="dcPdfDownload(\''
										+ params.data.vendorDeliveryChallan
										+ '\')"><i class="ti ti-download"></i> Delivery Challan </a>';
								return s;
							},
						}, */{
				headerName : 'Created On',
				field : "qutUpdatedOn",
				width : 130,
				cellStyle : {
					textAlign : 'center'
				}
			} ];

	function dcPdfDownload(id) {
		window.open("/sales/view-deliverychallan-pdf-downloads?dcId="
				+ window.btoa(id), '_blank');
	}

	var gridOptions = {
		columnDefs : columnDefs,
		rowSelection : 'multiple',

		groupSelectsChildren : true,
		suppressRowClickSelection : true,
		suppressAggFuncInHeader : true,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 150,
			height : 10
		},
		onSelectionChanged : rowSelect,
	};

	/*
	 sales Item 
	 */

	var itemDefs = [ {
		headerCheckboxSelection : true,
		headerCheckboxSelectionFilteredOnly : true,
		checkboxSelection : true,
		width : 10,
		sortable : false,
		filter : false,
		resizable : true
	//pinned: 'left'
	}, {
		headerName : "Sl No",
		field : "slNo",
		width : 80,
	}, {
		headerName : 'SKU',
		field : "sku",
		width : 120,
	}, {
		headerName : 'HSN Code',
		field : "hsnCode",
		width : 120,
	}, {

		headerName : 'Item Name',
		field : "itemName",
		width : 200,
	}, {
		headerName : 'Quantity',
		field : "quantity",
		type : 'rightAligned',
		width : 100,
	}, {
		headerName : 'Unit',
		field : "unitName",
		width : 70,
	}, {
		headerName : 'Unit Price',
		field : "unitPrice",
		type : 'rightAligned',
		width : 150,
		valueFormatter : currencyFormatter

	}, {
		headerName : 'Discount',
		field : "discount",
		type : 'rightAligned',
		width : 120,
		hide : true,
		valueFormatter : currencyFormatter
	}, {
		headerName : 'Gst Rate',
		field : "gstRate",
		type : 'rightAligned',
		width : 100,
		valueFormatter : currencyFormatter
	}, {
		headerName : 'Amount',
		field : "lineTotal",
		type : 'rightAligned',
		width : 100,
		valueFormatter : currencyFormatter,
	}, {

		headerName : 'CGST',
		field : "itemCgst",
		type : 'rightAligned',
		width : 70,
	//valueFormatter : currencyFormatter
	}, {
		headerName : 'SGST',
		field : "itemSgst",
		type : 'rightAligned',
		width : 70,
	//valueFormatter : currencyFormatter
	}, {
		headerName : 'IGST',
		field : "itemIgst",
		type : 'rightAligned',
		width : 70,
	//valueFormatter : currencyFormatter
	}, {
		headerName : 'Taxable Amount',
		field : "taxableAmt",
		type : 'rightAligned',
		width : 170,
		valueFormatter : currencyFormatter
	}, ];

	var itemOptions = {
		columnDefs : itemDefs,
		//rowSelection : 'multiple',
		groupSelectsChildren : true,
		suppressRowClickSelection : true,
		suppressAggFuncInHeader : true,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 251,
			height : 10,
		},
		onSelectionChanged : rowSelectItem,
		getRowNodeId : function(data) {
			return data.slNo;
		},

	};
	function add() {
		$("#documentDetails").show();
		$('#deleteItem').attr("disabled", true);
		$("#searchRowDiv").hide();
		$('#deleteItem').attr("disabled", true);
		$("#invoiceBtn").hide();
		$('#salesInvrtn').hide();
		$("#delete").hide();
		$("#paymentDtls").hide();
		$('#hideTbl').hide();
		$("#add").hide();
		$("#myGrid").hide();
		$("#save").show();
		$("#Cancel").show();
		$("#shipment").hide();
		$("#addData").show();
		$("#totalCandidate").hide();
		$("#dwnld").hide();
		$("#upld").hide();
		$("#addre").hide();
		$("#myGrid").hide();
		$("#customerData").hide();
		$("#vendorName").val('');
		$("#salePackageId").val('');
		$("#challanReference").val('');
		$("#deliveryChallanDate").val('');
		$("#challanType").val('');
		$("#deliverychallanheadId").html('');
		$("#itemId").val('');
		$("#itemName").val('');
		$("#quantity").val('');
		$("#unitPrice").val('');
		$("#discount").val('');
		$("#gstRate").val('');
		$("#lineTotal").val('');
		$("#subTotal").val('');
		$("#qIGST").val('');
		$("#qCGST").val('');
		$("#qSGST").val('');
		$("#grandTotal").val('');
		$("#taxType").val('');
		$("#sku").val('');
		$("#poId").val('');
		//$("#storeId").val('');
		$("#qutActive").val('');
		$("#itemIgst").val();
		$("#itemCgst").val();
		$("#itemSgst").val();
		$("#vendorId").val();
		$("#vendorName").val();
		$("#paymentTermId").val("");
		$("#saleInvoiceId").val("");
		$("#qutDescription").val("");
		$("#terms").val("");

		$("#invoiceDate").val("");

		$("#tcsId").val("");
		$("#tcsName").val("");
		$("#ebillNo").val("");
		$("#ebillDate").val("");
		$("#tcsAmount").val("");
		$("#adjustment").val("");
		$("#totalFreightCharges").val("");
		$("#freigtTaxRate").val("");
		$("#freigtCharge").val("");
		$("#lrNumber").val("");
		$("#transporterName").val("");
		$("#transporterId").val("");
		$("#vehicleNo").val("");
		$("#tMode").val("");
		$("#freight").val("");

		var date = (new Date()).toISOString().split('T')[0];
		var newDate = changeDateFormat(date);
		$("#deliveryChallanDate").val(newDate);
		$('.loader').show();
		$.ajax({
			type : "GET",
			url : "view-deliverychallan-get-insertedid",
			success : function(response) {
				if (response.message == "success") {
					$("#challanReference").val(response.body[0].key);
					$('.loader').hide();}
			},
			error : function(e) {
				$('.loader').hide();}
		});

	}
	function rowSelectItem() {
		var selectedRows = itemOptions.api.getSelectedRows();
		var rowCount = 0;
		selectedRows.forEach(function(selectedRow, index) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
			$('#deleteItem').attr("disabled", false);
			$('#newItem').attr("disabled", true);
		} else {
			$('#newItem').attr("disabled", false);
			$('#deleteItem').attr("disabled", true);
		}
	}
	function changeDateFormat(inputDate) { // expects Y-m-d
		var splitDate = inputDate.split('-');
		if (splitDate.count == 0) {
			return null;
		}
		var year = splitDate[0];
		var month = splitDate[1];
		var day = splitDate[2];

		return day + '-' + month + '-' + year;
	}
	function Cancel() {
		localStorage.setItem('ReqChallanData', null);
		agGrid.simpleHttpRequest({
			url : "vendor-delivery-challan-view-ajax"
		}).then(function(data) {
			var len = data.length;
			$('#totalCandidate').find('span').html(len);
			gridOptions.api.setRowData(data);
		});

		$('.formValidation').remove();
		$("#delete").show();
		$("#myGrid").show();
		$("#save").hide();
		$("#Cancel").hide();
		$('#hideTbl').show();

		$("#searchRowDiv").show();
		$("#totalCandidate").show();
		$("#dwnld").show();
		$("#invoiceBtn").show();
		$("#add").show();
		$("#delete").show();
		$("#customerData").show();
		$("#reqTable").show();
		$(".btn-hs").show();
		$("#myGrid").show();
		$("#addData").hide();

		itemOptions.api.setRowData();
		$('#delete').attr("disabled", true);
		$('#invoiceBtn').attr("disabled", true);

		$("#deliverychallanheadId").html('');
		$("#itemId").val('');
		$("#itemName").val('');
		$("#quantity").val('');
		$("#unitPrice").val('');
		$("#discount").val('');
		$("#gstRate").val('');
		$("#lineTotal").val('');
		$("#subTotal").val('');
		$("#qIGST").val('');
		$("#qCGST").val('');
		$("#qSGST").val('');
		$("#grandTotal").val('');
		$("#taxType").val('');
		$("#sku").val('');
		$("#saleInvoiceId").val('');
		$("#qutActive").val('');
		$("#itemIgst").val();
		$("#itemCgst").val();
		$("#itemSgst").val();
		$('#shipment').attr("disabled", true);
	}

	function openNav() {
		$("#sku").val("");
		$("#itemName").val("");
		$("#hsnCode").val("");
		$("#quantity").val("");
		$("#unitPrice").val("");
		$("#discount").val("");
		$("#gstRate").val("");
		$("#lineTotal").val("");
		$("#unit").val("");
		$("#editProduct").val("");
		var custValid = true;
		if ($("#vendorName").val() == null || $("#vendorName").val() == "") {
			custValid = false;
		}
		if (custValid) {
			document.getElementById("mySidenav").style.cssText = "width: 25%; position: absolute; right:-10px; overflow: hidden; height:auto; top:645px;";
			document.getElementById("main_content1").style.width = "75%";
		} else {
			$("#messageParagraph").text("First Choose Customer Name");
			$("#msgOkModal").removeClass("btn3");
			$("#msgOkModal").addClass("btn1");
			$("#msgModal").modal('show');
		}
	}

	function closeNav() {
		document.getElementById("mySidenav").style.width = "0";
		document.getElementById("main_content1").style.width = "100%";
		$('.formValidation').remove();
		$("#sku").val('');
		$("#itemId").val('');
		$("#itemName").val('');
		$("#hsnCode").val('');
		$("#unit").val('');
		$("#quantity").val('');
		$("#unitPrice").val('');
		$("#discount").val('');
		$("#gstRate").val('');
		$("#lineTotal").val('');
		$("#editProduct").val(null);

	}

	/*
	 * taxtype fn
	 */
	function hideShowS() {
		var taxType = $("#taxType").val();

		if (taxType == "true") {
			$('#igstTR').hide();
			$('#cgstTR').show();
			$('#sgstTR').show();

		} else {
			$('#igstTR').show();
			$('#cgstTR').hide();
			$('#sgstTR').hide();

		}

	}

	/* //sale Invoice item  table add */

	function saveTableData() {
		var editProduct = $("#editProduct").val();
		var item = {};
		var data = 1;
		var validation = true;

		if (item.sku == null || item.sku == "") {
			validation = validationUpdated("Stock Keeping Unit Required", 'sku');
		}
		if (item.itemName == null || item.itemName == "") {
			validation = validationUpdated("Item Name Required", 'itemName');
		}
		if (item.quantity == null || item.quantity == "") {
			validation = validationUpdated("Quantity Required", 'quantity');
		}
		if (item.unitPrice == null || item.unitPrice == "") {
			validation = validationUpdated("Unit Price Required", 'unitPrice');
		}
		if (item.discount == null || item.discount == "") {
			validation = validationUpdated("Discount Required", 'discount');
		}
		if (item.gstRate == null || item.gstRate == "") {
			validation = validationUpdated("GST Rate Required", 'gstRate');
		}
		if (item.lineTotal == null || item.lineTotal == "") {
			validation = validationUpdated("Line Total Required", 'lineTotal');
		}

		if (validation) {
			itemOptions.api.forEachNode(function(rowNode, index) {
				if (!editProduct) {
					data = data + 1;
				}
			});

			item.itemId = $('#itemId').val();
			item.sku = $('#sku').val();
			item.itemName = $('#itemName').val();
			item.quantity = $('#quantity').val();
			item.unitPrice = $('#unitPrice').val();
			item.discount = $('#discount').val();
			item.gstRate = $('#gstRate').val();
			item.lineTotal = $('#lineTotal').val();
			item.hsnCode = $('#hsnCode').val();
			item.unit = $('#unit').val();
			item.unitName = $("#unit option:selected").text();
			/*   var taxType= $("#taxType").val();
				
				if (taxType == 'true') {
					item.itemCgst = (item.lineTotal*item.gstRate)/200;
					item.itemSgst = (item.lineTotal*item.gstRate)/200;
					item.itemIgst=0;
					item.taxableAmt=parseFloat(item.lineTotal)+item.itemCgst+item.itemSgst;
				}else{
					item.itemCgst = 0;
					item.itemSgst = 0;
					item.itemIgst = (item.lineTotal*item.gstRate)/100;
					item.taxableAmt=parseFloat(item.lineTotal)+item.itemIgst;
				}  */

			item.slNo = data;
			var quot = [];

			if (editProduct) {
				var rowNode = itemOptions.api.getRowNode(editProduct);
				rowNode.setData(item);
			} else {
				itemOptions.api.forEachNode(function(rowNode, index) {
					quot.push(rowNode.data);
				});
				quot.push(item)
				itemOptions.api.setRowData(quot);

			}
			priceCalculation();
			closeNav();
			$("#sku").val('');
			$("#itemId").val('');
			$("#itemName").val('');
			$("#quantity").val('');
			$("#unitPrice").val('');
			$("#discount").val('');
			$("#gstRate").val('');
			$("#lineTotal").val('');
			$("#hsnCode").val('');
			$("#unit").val('');

			$("#editProduct").val(null);
		}

	}

	function priceCalculation() {
		var grid = [];
		itemOptions.api.forEachNode(function(rowNode, index) {

			grid.push(rowNode.data);
		});
		var len = grid.length;
		var val = 0;
		var val2 = 0;
		var val3 = 0;
		var val4 = 0;

		var taxType = $("#taxType").val();
		for (i = 0; i < len; i++) {

			if (taxType == 'true') {

				val2 = parseFloat(val2) + parseFloat(grid[i].itemSgst);
				val3 = parseFloat(val3) + parseFloat(grid[i].itemCgst);
			} else {

				val4 = parseFloat(val4) + parseFloat(grid[i].itemIgst);

			}

			val = parseFloat(val) + parseFloat(grid[i].lineTotal);

		}
		grandTotalCalculation();
		calculateAdjustment();

		var adj = 0.0;
		var tcsval = 0.0;
		adj = $("#adjustment").val();

		var tcs = $('#tcsName').val();
		if (tcs != '') {
			var tcsval = tcs.replace(/[^0-9]/g, '');
		}
		//var tcsval = 0.0;
		var tcsAmount = 0.0;
		tcsAmount = val * parseFloat(tcsval) / 100;

		$("#subTotal").val(val);
		$("#qIGST").val(val4);
		$("#qCGST").val(val3);
		$("#qSGST").val(val2);
		var gTotal = 0.0;
		gTotal = parseFloat(val) + parseFloat(val2) + parseFloat(val3)
				+ parseFloat(val4) + parseFloat(adj) + parseFloat(tcsAmount);

		$("#grandTotal").val(gTotal.toFixed(2))
		$("#tcsAmount").val(tcsAmount.toFixed(2))

	}
	function eWayBillValidation() {
		var wayBillValid = true;
		var gt = $("#grandTotal").val();
		var taxType = $("#taxType").val();
		if (taxType == 'true') {
			if (gt >= 50000) {
				if (!validationUpdated(" Way Bill Date Required", 'ebillDate'))
					wayBillValid = false;
				if (!validationUpdated("Way Bill No Required", 'ebillNo'))
					wayBillValid = false;
			} else {
				wayBillValid = true;
			}
		} else {
			if (!validationUpdated(" Way Bill Date Required", 'ebillDate'))
				wayBillValid = false;
			if (!validationUpdated("Way Bill No Required", 'ebillNo'))
				wayBillValid = false;
		}
		return wayBillValid;
	}
	function save() {

		if (validProductData() && validFormData() && eWayBillValidation()) {

			var datas = [];
			if (itemOptions.api.getDisplayedRowCount() > 0) {

				itemOptions.api.forEachNode(function(rowNode, indrx) {

					var obj = rowNode.data;
					//obj.vendorDeliveryChallan = $("#vendorDeliveryChallan").val();
					obj.vendorDeliveryChallan = $("#deliverychallanheadId")
							.html();
					obj.subTotal = $("#subTotal").val();
					obj.grandTotal = $("#grandTotal").val();
					obj.qIGST = $('#qIGST').val();
					obj.qCGST = $('#qCGST').val();
					obj.qSGST = $('#qSGST').val();
					obj.taxType = $('#taxType').val();
					obj.vendorId = $('#vendorId').val();
					obj.vendorName = $('#vendorName').val();
					obj.adjustment = $("#adjustment").val();
					obj.tcs = $("#tcsId").val();
					obj.tcsAmount = $("#tcsAmount").val();
					obj.challanType = $("#challanType").val();
					obj.poId = $("#poId").val();
					obj.ebillNo = $("#ebillNo").val();
					obj.ebillDate = $("#ebillDate").val();
					obj.tMode = $("#carrierId").val();
					obj.freight = $("#freight").val();
					obj.freigtCharge = $("#freigtCharge").val();
					obj.freigtTaxRate = $("#freigtTaxRate").val();
					obj.vehicleNo = $("#vehicleNo").val();
					obj.transporterId = $("#transporterId").val();
					obj.transporterName = $("#transporterName").val();
					obj.lrNumber = $("#lrNumber").val();
					obj.total = $("#total").val();
					obj.paymentTermId = $("#paymentTermId").val();
					datas.push(obj);

				});

			} else {
				var obj = {};

				obj.vendorDeliveryChallan = $("#vendorDeliveryChallan").val();
				obj.vendorDeliveryChallan = $("#deliverychallanheadId").html();
				obj.subTotal = $("#subTotal").val();
				obj.grandTotal = $("#grandTotal").val();
				obj.qIGST = $('#qIGST').val();
				obj.qCGST = $('#qCGST').val();
				obj.qSGST = $('#qSGST').val();
				obj.taxType = $('#taxType').val();
				obj.vendorId = $('#vendorId').val();
				obj.vendorName = $('#vendorName').val();
				obj.adjustment = $("#adjustment").val();
				obj.tcs = $("#tcsId").val();
				obj.tcsAmount = $("#tcsAmount").val();
				obj.challanType = $("#challanType").val();
				obj.salePackageId = $("#salePackageId").val();
				obj.poId = $("#poId").val();
				obj.ebillNo = $("#ebillNo").val();
				obj.ebillDate = $("#ebillDate").val();
				obj.tMode = $("#tMode").val();
				obj.freight = $("#freight").val();
				obj.freigtCharge = $("#freigtCharge").val();
				obj.freigtTaxRate = $("#freigtTaxRate").val();
				obj.vehicleNo = $("#vehicleNo").val();
				obj.transporterId = $("#transporterId").val();
				obj.transporterName = $("#transporterName").val();
				obj.lrNumber = $("#lrNumber").val();
				obj.total = $("#total").val();
				datas.push(obj);

			}
			console.log(datas);
			saveAllDeliveryChallan(datas);
		}
	}

	function saveAllDeliveryChallan(datas) {
		$('.loader').show();
		console.log(JSON.stringify(datas))
		$
				.ajax({

					type : "POST",
					url : "vendor-delivery-challan-add",
					contentType : "application/json",
					data : JSON.stringify(datas),
					success : function(response) {
						if (response.message == "Success") {
							$('.loader').hide();
							console.log(JSON.stringify(datas))

							$("#messageParagraph").text(
									"Data Saved Successfully");
							$("#msgOkModal").removeClass("btn3");
							$("#msgOkModal").addClass("btn1");
							$("#msgModal").modal('show');

							agGrid.simpleHttpRequest({
								url : "vendor-delivery-challan-view-ajax"
							}).then(function(data) {
								var len = data.length;
								$('#totalCandidate').find('span').html(len);
								gridOptions.api.setRowData(data);
							});
							Cancel();
							$("#itemId").val(response.body[0].itemId);
							$("#itemName").val(response.body[0].itemName);
							$("#vendorId").val(response.body[0].vendorId);
							$("#vendorName").val(response.body[0].vendorName);
							$("#saleInvoiceId").val(
									response.body[0].saleInvoiceId);
							$("#subTotal").val(response.body[0].subTotal);
							$("#grandTotal").val(response.body[0].grandTotal);

							if (response.body[0].qutActive == "0") {
								$("#qutActive").prop("checked", false);
							} else {
								$("#qutActive").prop("checked", true);

							}
							$("#adjustment").val(response.body[0].adjustment);
							$("#tcsName").val(response.body[0].tcs);
							$("#tcsAmount").val(response.body[0].tcsAmount);
							$("#salesPerson").val(
									response.body[0].salespersonName);

							$("#qutDescription").val(
									response.body[0].qutDescription);
							$("#terms").val(response.body[0].terms);
							$("#challanType").val(response.body[0].challanType);
							$("#reference").val(response.body[0].reference);
							$("#ebillNo").val(response.body[0].ebillNo);
							$("#ebillDate").val(response.body[0].ebillDate);
							$("#totalFreightCharges").val(
									response.body[0].totalFreightCharges);
							$("#freigtTaxRate").val(
									response.body[0].freigtTaxRate);
							$("#freigtCharge").val(
									response.body[0].freigtCharge);
							$("#tMode").val(response.body[0].tMode);
							$("#freight").val(response.body[0].freight);
							$("#vehicleNo").val(response.body[0].vehicleNo);
							$("#transporterId").val(
									response.body[0].transporterId);
							$("#transporterName").val(
									response.body[0].transporterName);
							$("#lrNumber").val(response.body[0].lrNumber);

							$("#itemName").attr("data-procat",
									response.body[0].itemId);
							$("#deliverychallanheadId").html(
									response.body[0].vendorDeliveryChallan);

							// itemOptions.api.setRowData(response.body);

						}

					},
					error : function(datas) {
						console.log(datas)
						$('.loader').hide();}
				})

	}

	function checkEmpty() {
		var infofileName = true;
		$(".formValidation").remove();
		$('.docNoclss').each(function() {
			if ($(this).val() == null || $(this).val() == "") {
				infofileName = false;
				validationModal("Document Name Required", $(this).attr('id'));
			}
		});

		var mulDocInfo = true;
		if (infofileName) {
			$('#doctbodyData > tr').each(function() {
				if ($(this).closest('tr').find('.imageName').text()) {
					mulDocInfo = true;
				} else {
					mulDocInfo = false;
					$("#messageParagraph").text("Please Choose a File ");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');
					return false;
				}

			});
		}
		if (infofileName && mulDocInfo) {
			addMore1()
		}
	}
	//validation
	function validFormData() {
		var allValid = true;
		if (!validationUpdated("Freight Required", 'freight'))
			allValid = false;
		return allValid;
	}

	function validProductData() {
		return true;
	}

	/* 
	Edit Invoice Item
	 */
	function editProduct(slNo) {
		var vendorDeliveryChallan = $("#deliverychallanheadId").html();
		var rowNode = itemOptions.api.getRowNode(slNo);

		console.log(rowNode)
		openNav();
		$("#editProduct").val(slNo);
		$("#sku").val(rowNode.data.sku);
		$("#itemId").val(rowNode.data.itemId);
		$("#itemName").val(rowNode.data.itemName);
		$("#quantity").val(rowNode.data.quantity);
		$("#unitPrice").val(rowNode.data.unitPrice);
		$("#gstRate").val(rowNode.data.gstRate);
		$("#discount").val(rowNode.data.discount);
		$("#lineTotal").val(rowNode.data.lineTotal);
		$("#itemIgst").val(rowNode.data.itemIgst);
		$("#itemCgst").val(rowNode.data.itemCgst);
		$("#itemSgst").val(rowNode.data.itemSgst);
		$("#hsnCode").val(rowNode.data.hsnCode);
		$("#unit").val(rowNode.data.unit);

	}

	function editdeliveryChallan(vendorDeliveryChallan, shipmentStatus,
			invoiceStatus) {
		Cancel();
		$("#searchRowDiv").hide();
		$('#deleteItem').attr("disabled", true);
		$("#myGrid").hide();
		$("#reqTable").hide();
		$(".btn-hs").hide();
		$("#addData").show();
		$("#add").hide();
		$("#save").show();
		$("#Cancel").show();
		$("#totalCandidate").hide();
		$("#dwnld").hide();
		$("#upld").hide();
		$("#addre").hide();
		$("#documentDetails").show();
		$("#customerData").hide();
		var shipmentStatus = shipmentStatus;
		var invoiceStatus = invoiceStatus;

		if (shipmentStatus == window.btoa("Shipped")
				|| invoiceStatus == window.btoa("Generated")) {
			$("#save").hide();

		} else {
			$("#save").show();
		}
		$('.loader').show();
		agGrid.simpleHttpRequest(
				{
					url : 'vendor-delivery-challan-edit-new?id='
							+ vendorDeliveryChallan
				}).then(function(data) {
			$("#deliverychallanheadId").html(data[0].vendorDeliveryChallan);
			$("#vendorDeliveryChallan").val(data[0].vendorDeliveryChallan);
			$("#vendorId").val(data[0].vendorId);
			$("#vendorName").val(data[0].vendorName);
			$("#poId").val(data[0].poId);
			$("#salePackageId").val(data[0].salePackageId);
			if (data[0].qutActive == "0") {
				$("#qutActive").prop("checked", false);
			} else {
				$("#qutActive").prop("checked", true);
			}
			$("#adjustment").val(data[0].adjustment);
			$("#tcsName").val(data[0].tcs);
			$("#tcsId").val(data[0].tcsId);
			$("#tcsAmount").val(data[0].tcsAmount);
			$("#paymentTermId").val(data[0].paymentTermId);
			$("#qutDescription").val(data[0].qutDescription);
			$("#terms").val(data[0].terms);
			$("#subject").val(data[0].subject);
			$("#deliveryChallanDate").val(data[0].invoiceDate);
			$("#challanType").val(data[0].challanType);
			$("#reference").val(data[0].reference);
			$("#challanReference").val(data[0].vendorDeliveryChallan);
			$("#ebillNo").val(data[0].ebillNo);
			$("#ebillDate").val(data[0].ebillDate);
			$("#grandTotal").val(data[0].grandTotal);
			$("#qSGST").val(data[0].qSGST);
			$("#qIGST").val(data[0].qIGST);
			$("#qCGST").val(data[0].qCGST);
			$("#qSGSTHid").val(data[0].qSGST);
			$("#qIGSTHid").val(data[0].qIGST);
			$("#qCGSTHid").val(data[0].qCGST);
			$("#subTotal").val(data[0].subTotal);
			$("#grandTotal").val(data[0].grandTotal);
			$("#vendorName").attr("disabled", true);
			$("#poId").attr("disabled", true);
			$("#salePackageId").attr("disabled", true);
			$("#freigtTaxRate").val(data[0].freigtTaxRate);
			$("#freigtCharge").val(data[0].freigtCharge);
			$("#carrierId").val(data[0].tMode);
			$("#freight").val(data[0].freight);
			$("#totalFreightCharges").val(data[0].freigtCharge);
			$("#lrNumber").val(data[0].lrNumber);
			$("#transporterName").val(data[0].transporterName);
			$("#transporterId").val(data[0].transporterId);
			$("#vehicleNo").val(data[0].vehicleNo);
			$("#paymentTermId").val(data[0].paymentTermId);
			$("#total").val(data[0].total);
			$('#tMode').attr("disabled", true);
			//$('#freight').attr("disabled", true);
			//$('#freigtCharge').attr("disabled", true);
			$("#taxType").val(data[0].taxType);
			hideShowS();
			dataClick();
			getEditTaxType(data[0].poId);

			itemOptions.api.setRowData(data);
			$('.loader').hide();
		});

	}

	function getEditTaxType(search) {
		$('.loader').show();
		$.ajax({
			type : "POST",
			url : "view-deliverychallan-get-customer-list",
			dataType : 'json',
			contentType : 'application/json',
			data : search,
			success : function(response) {
				if (response.message == "success") {
					$('.loader').hide();
					console.log("response data" + response.body[0].taxType)
					$("#taxType").val(response.body[0].taxType);
					hideShowS();
				}
			},
			error : function(data) {
				console.log(data);
				$('.loader').hide();}
		})
	}

	//calculate Amount=(quantity*unitPrice)-Discount
	var totalLine;
	function calculateLineTotal() {
		var price = $("#unitPrice").val();
		var quantity = $("#quantity").val();
		var discount = $("#discount").val();
		var discountAmount = $("#discountAmount").val();
		if (discountAmount == '1') {
			if (price && quantity) {
				var mul = price * quantity;

				if (discount > mul) {

					$("#discount").val("0");
					totalLine = mul - discount;
					$("#lineTotal").val((mul).toFixed(2));
				} else {
					totalLine = mul - discount;
					$("#lineTotal").val((totalLine).toFixed(2));
				}

			} else {
				var mul = 0;
				$("#lineTotal").val((mul).toFixed(2));

			}
		} else {
			if (price && quantity) {
				var mul = price * quantity;
				if (discount > mul) {

					$("#discount").val("0");
					totalLine1 = (mul / 100) * discount;
					totalLine = mul - totalLine1;
					$("#lineTotal").val((mul).toFixed(2));
				} else {
					totalLine1 = (mul / 100) * discount;
					totalLine = mul - totalLine1;
					$("#lineTotal").val((totalLine).toFixed(2));
				}

			} else {
				var mul = 0;
				$("#lineTotal").val((mul).toFixed(2));

			}
		}
	}
	/* 
	Delete  
	 */
	function deleteQuotation() {

		$('#deleteQuot').modal('show');
	}
	function deleteItem() {

		$('#deleteProduct').modal('show');
	}

	function cancelModalBtn() {

		$("#deleteModalBtn").removeAttr("disabled");
		$('#deleteQuot').modal('hide');
	}

	function cancelModalProductBtn() {

		$("#deleteModalBtn").removeAttr("disabled");
		$('#deleteProduct').modal('hide');
	}

	var did = "";
	var rowCount = 0;
	function rowSelect() {
		var selectedRows = gridOptions.api.getSelectedRows();
		did = "";
		rowCount = 0;
		var shipmentStatus = "";
		var invoiceStatus = "";
		for (var i = 0; i < selectedRows.length; i++) {
			did = did + '"' + selectedRows[i].vendorDeliveryChallan + '",';
			invoiceStatus = selectedRows[i].invoiceStatus;
			rowCount = rowCount + 1;
		}
		did = did.substring(0, did.length - 1);
		if (rowCount > 0) {
			if (invoiceStatus == 'Generated') {
				$('#delete').attr("disabled", true);
				$('#add').attr("disabled", true);
				$('#invoiceBtn').attr("disabled", true);
			} else {
				$('#delete').attr("disabled", false);
				$('#add').attr("disabled", true);
				$('#invoiceBtn').attr("disabled", false);
			}
		} else {
			$('#add').attr("disabled", false);
			$('#delete').attr("disabled", true);
			$('#salesInvrtn').attr("disabled", true);
			$('#paymentDtls').attr("disabled", true);
			$('#invoiceBtn').attr("disabled", true);
		}
	}

	function shipments() {
		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += selectedRow.vendorDeliveryChallan;
		});
		if (selectedRowsString) {

			var vendorDeliveryChallan = selectedRowsString;
			sessionStorage.setItem('activity', 'ACT0206');
			agGrid.simpleHttpRequest(
					{
						url : 'view-deliverychallan-edit-new?id='
								+ vendorDeliveryChallan
					}).then(function(data) {
				localStorage.setItem('ReqShipmentData', JSON.stringify(data));
				itemOptions.api.setRowData(data);
				//return false;
				window.location.href = "/sales/view-shipments"

			});

		} else {
			$("#alert").modal('show');
			document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
		}
	}
	// delete salesInvoice 

	function deleteOnclick() {
		$('.loader').show();
		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += selectedRow.vendorDeliveryChallan;
		});
		if (selectedRowsString) {
			var item = {};
			var id = selectedRowsString;

			$.ajax({
				type : "POST",
				url : "vendor-delivery-challan-delete?id=" + id,
				success : function(response) {
					if (response.message == "Success") {
						$('.loader').hide();
						Cancel();
						$('#deleteQuot').modal('hide');
						agGrid.simpleHttpRequest({
							url : "vendor-delivery-challan-view-ajax"
						}).then(function(data) {
							var len = data.length;
							$('#totalCandidate').find('span').html(len);
							gridOptions.api.setRowData(data);
							$('#delete').attr("disabled", true);
							$('#invoiceBtn').attr("disabled", true);
							$('#add').attr("disabled", false);
						});
					} else {
						$('.loader').hide();
					}
				},
				error : function(data) {
					console.log(data)
					$('.loader').hide();}
			})
		} else {
			$('.loader').hide();
			$("#alert").modal('show');
			document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
		}

	}

	function deleteProductOnclick() {
		var selectedRows = itemOptions.api.getSelectedRows();
		itemOptions.api.applyTransaction({
			remove : selectedRows

		});
		cancelModalProductBtn();
		//DELETE GST,SUBTOTAL,GRANDTOTAL,SGST,CGST,IGST
		var sum = $("#subTotal").val();
		var gstRate = $("#gstRate").val();
		var qCGST = $("#qCGST").val();
		var qSGST = $("#qSGST").val();

		var qIGST = $("#qIGST").val();
		var grandTotal = $("#grandTotal").val();
		var itemIgst = $("#itemIgst").val();
		var itemCgst = $("#itemCgst").val();
		var itemSgst = $("#itemSgst").val();
		var len = selectedRows.length;
		for (var i = 0; i < len; i++) {

			sum = sum - selectedRows[i].lineTotal;
			var taxType = $("#taxType").val()
			if (taxType == "true") {

				selectedRows[i].itemIgst = selectedRows[i].lineTotal
						* selectedRows[i].gstRate / 100;
				qIGST = qIGST - selectedRows[i].itemIgst;
				qCGST = qCGST - selectedRows[i].itemCgst;
				qSGST = qSGST - selectedRows[i].itemSgst;
				grandTotal = sum + qIGST;

			} else {

				selectedRows[i].itemIgst = selectedRows[i].lineTotal
						* selectedRows[i].gstRate / 100;
				qIGST = qIGST - selectedRows[i].itemIgst;
				qCGST = qCGST - selectedRows[i].itemCgst;
				qSGST = qSGST - selectedRows[i].itemSgst;
				grandTotal = sum + qIGST;
			}
		}
		$("#itemIgst").val(itemIgst);
		$("#itemCgst").val(itemCgst);
		$("#itemSgst").val(itemSgst);
		$("#subTotal").val(sum);
		$("#qIGST").val(qIGST);
		$("#qCGST").val(qCGST);
		$("#qSGST").val(qSGST);
		$("#grandTotal").val(grandTotal)
		tcsCalculation();
		calculateAdjustment();
	}
	function tcsCalculation() {

		var tcsValue = $("#tcsValue").val();
		var subTotal = $("#subTotal").val();
		var grandTotal2 = $("#grandTotal").val();
		var adjustment = $("#adjustment").val();

		var qSGST = $("#qSGST").val();
		if (qSGST == "" || qSGST == null || qSGST == "null") {
			qSGST = 0;
			$("#qSGST").val(qSGST);
		}
		var qCGST = $("#qCGST").val();
		if (qCGST == "" || qCGST == null || qCGST == "null") {
			qCGST = 0;
			$("#qCGST").val(qCGST);
		}
		var qIGST = $("#qIGST").val();
		if (qIGST == "" || qIGST == null || qIGST == "null") {
			qIGST = 0;
			$("#qIGST").val(qIGST);
		}

		var tcsAmount = $("#tcsAmount").val();
		if (tcsAmount == "" || tcsAmount == null || tcsAmount == "null") {
			tcsAmount = 0;
			$("#tcsAmount").val(tcsAmount);
		}
		var grandTotal = $("#grandTotal").val();
		if (grandTotal == "" || grandTotal == null || grandTotal == "null") {
			grandTotal = 0;
			$("#grandTotal").val(grandTotal);
		}

		var totVal = parseFloat(subTotal) + parseFloat(qSGST)
				+ parseFloat(qCGST) + parseFloat(qIGST)
				+ parseFloat(adjustment);

		if (tcsValue) {

			var tcs = (parseFloat(subTotal) * parseFloat(tcsValue)) / 100;
			var add = parseFloat(tcs) + parseFloat(totVal);
			$("#grandTotal").val((add).toFixed(2));
			$("#tcsAmount").val((tcs).toFixed(2));
		} else {

			var add = 0;
			$("#grandTotal").val((totVal).toFixed(2));
		}

	}
	function calculateAdjustment() {
		//var adjustment = $("#adjustment").val();

		if (/^\d+$/.test($("#adjustment").val())
				|| $("#adjustment").val() == '-'
				|| $("#adjustment").val() == ''
				|| /^\-?\d+((\.|\,)\d+)?$/.test($("#adjustment").val())) {
			var adjustment = $("#adjustment").val();
		} else {
			$("#adjustment").val(0);
		}

		var subTotal = $("#subTotal").val();
		var qSGST = $("#qSGST").val();
		var qCGST = $("#qCGST").val();
		var qIGST = $("#qIGST").val();
		var tcsAmount1 = $("#tcsAmount").val();
		var tcsAmount = 0;
		if (tcsAmount1 != '' && tcsAmount1 != null) {
			tcsAmount = tcsAmount1;
		}
		var grandTotal = parseFloat(subTotal) + parseFloat(qSGST)
				+ parseFloat(qCGST) + parseFloat(qIGST) + parseFloat(tcsAmount);

		var add = 0;

		if (/^\-?\d+((\.|\,)\d+)?$/.test(adjustment)) {

			add = parseFloat(adjustment) + parseFloat(grandTotal);

			$("#grandTotal").val((add).toFixed(2));

		} else {

			$("#grandTotal").val((grandTotal).toFixed(2));

		}

	}
	/* Item AutoSearch */

	function getItemQutotationList() {
		$('.loader').show();
		var search = $("#itemName").val();
		if (search) {
			$
					.ajax({
						type : "POST",
						url : "view-deliverychallan-get-item-list",
						dataType : 'json',
						contentType : 'application/json',
						data : search,
						success : function(response) {
							if (response.message == "success") {
								$('.loader').hide();
								if (response.body.length != 0) {
									$("#itemName").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1" style="margin-left:-40px; font-weight:100; font-size:14px; color:#ccc;">';
									for (var i = 0; i < response.body.length; i++) {
										content += '<li class="autocompletedata cp" onClick="selectAutocompleteValueItem1(\''
												+ response.body[i].itemId
												+ '\',\''
												+ response.body[i].itemName
												+ '\',\''
												+ response.body[i].gstRate
												+ '\',\''
												+ response.body[i].sku
												+ '\')">'
												+ response.body[i].itemName
												+ '</li>';
									}
									content += '</ul>';
									console.log("content " + content)
									$("#suggesstion-box_").show();
									$("#suggesstion-box_").html(content);

								} else {
									$("#itemName").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1">';
									content += '<li onClick="selectAutocompleteValueItem()">'
											+ "No Data Found" + '</li>';
									content += '</ul>';
									$("#suggesstion-box_").show();
									$("#suggesstion-box_").html(content);
								}
							}
						},
						error : function(data) {
							console.log(data);
							$('.loader').hide();}
					})
		}
	}
	function closeModal1() {
		$("#myModal").modal('hide');
	}
	function selectAutocompleteValueItem1(itemId, itemName, gstRate, sku) {

		if (itemId) {

			$("#itemId").val(itemId);
			$("#itemName").val(itemName);
			$("#gstRate").val(gstRate);
			$("#sku").val(sku);
			$("#itemName").attr('data-procat', itemId);
			$("#suggesstion-box_").hide();
			hideShowS();
			//checkForDuplicate(key,counter);

		} else {

			$("#itemId").val("");
			$("#gstRate").val("");
			$("#sku").val("");
			$("#itemName").val("");
			$("#itemName").attr('data-procat', "");
			$("#suggesstion-box_").hide();

		}
	}
	function selectAutocompleteValueItem() {

		$("#itemId").val("");
		$("#gstRate").val("");
		$("#sku").val("");
		$("#itemName").val("");
		$("#itemName").attr('data-procat', "");
		$("#suggesstion-box_").hide();

	}
	function selectCheckBox(id, lvl) {
		$("#select_product").empty();
		getProductByCategory();

		/* $(".pc1-box").prop("checked",false);
		$("#cat_"+id).prop("checked",true); */

		if (lvl == 'L1') {
			var textDesc = $("#lbl_" + id).text();
			$("#catDesc").text(textDesc);
		} else {
			var res = lvl.substring(1, 1000000);

			var lastText = $("#lbl_" + id).text();
			var textDesc = "";
			for (i = res; i > 1; i--) {
				var pUL = $("#lbl_" + id).parents("ul").attr("id");
				pUL = pUL.substring(3, 10000000000000);
				var newText = $("#lbl_" + pUL).text();
				textDesc = newText + " > " + textDesc;
				id = pUL;
			}
			textDesc = textDesc + lastText;
			$("#catDesc").text(textDesc);
		}
	}

	function selectProductVal() {
		$("#itemName").val($("#itemNameTemp").val());
		$("#item").val($("#itemIdTemp").val());
		$("#brandName").val($("#brandNameTemp").val());
		$("#brandId").val($("#brandIdTemp").val());
		$("#category").val($("#prodCatIdTemp").val());
		$("#categoryName").val($("#prodCatNameTemp").val());
		$("#sku").val($("#skuTemp").val());
		$("#hsnCode").val($("#hsnCodeTemp").val());
		$("#unit").val($("#unitTemp").val());
		$("#search").val($("#itemNameTemp").val())
		$("#select_product").html('');
		$('#myModal').modal('hide');
	}

	function getProductByCategory() {
		$('.loader').show();
		$("#select_product").empty();
		var valor = "";
		$('input.pc1-box[type=checkbox]').each(function() {
			if (this.checked)
				valor = valor + $(this).val() + ",";
		});

		if (valor) {
			$("#select_product").empty();
			$
					.ajax({
						type : "POST",
						url : "view-deliverychallan-item-product-by-cat",
						dataType : 'json',
						contentType : 'application/json',
						data : valor,
						success : function(response) {
							if (response.message == "success") {
								$('.loader').hide();
								//console.log(response.body)
								$("#select_product").empty();
								var content = '';
								for (var i = 0; i < response.body.length; i++) {

									content += '<div class="autocompletedata cp product-item" id="'
											+ response.body[i].productId
											+ "_"
											+ response.body[i].sku
											+ '" onClick=selectActive("'
											+ response.body[i].productId
											+ "_"
											+ response.body[i].sku
											+ '","'
											+ response.body[i].sku
											+ '","'
											+ response.body[i].productId
											+ '","'
											+ encodeURIComponent(response.body[i].productName)
											+ '","'
											+ response.body[i].brandId
											+ '","'
											+ response.body[i].brandName
											+ '","'
											+ response.body[i].productCatId
											+ '","'
											+ response.body[i].productCatName
											+ '","'
											+ window
													.btoa(response.body[i].hsnCode)
											+ '","'
											+ window
													.btoa(response.body[i].unit)
											+ '")>'
											+ response.body[i].sku
											+ " - "
											+ response.body[i].brandName
											+ " - "
											+ response.body[i].productName
											+ '</div>';
								}
								content += '</ul>';
								$("#select_product").show();
								$("#select_product").append(content);

								var itemId = $("#itemId").val();
								var skuId = $("#sku").html();

								if (itemId) {
									$("#" + itemId + "_" + skuId).addClass(
											'productActive');
								}

							}
						},
						error : function(data) {
							console.log(data)
							$('.loader').hide();}
					})
		} else {
			$("#select_product").empty();
			$('.loader').hide();}
	}

	function onQuickFilterChanged() {
		$(".ti-search srchicon").hide();
		gridOptions.api
				.setQuickFilter(document.getElementById('quickFilter').value);
	}

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";

		if ($('#quickFilter').val() == null || $('#quickFilter').val() == "") {
			id.style.display = "none";
		}
	}
	function selectActive(id, sku, productId, productName, brandId, brandName,
			prodCatId, prodCatName, hsnCode, unit) {
		var splitArray = productName.split('%20');
		var finalString = "";
		for (i = 0; i < splitArray.length; i++) {
			finalString += splitArray[i] + " ";
		}
		$('.autocompletedata ').removeClass('productActive');
		$("#" + id).addClass('productActive');
		$("#itemNameTemp").val(finalString);
		$("#itemIdTemp").val(productId);
		$("#brandNameTemp").val(brandName);
		$("#brandIdTemp").val(brandId);
		$("#skuTemp").val(sku);
		$("#prodCatIdTemp").val(prodCatId);
		$("#prodCatNameTemp").val(prodCatName);
		$("#searchTemp").val(productName);
		$("#hsnCodeTemp").val(window.atob(hsnCode));
		$("#unitTemp").val(window.atob(unit));

	}

	//calculate outStdAmt
	function calculateoutStdAmt() {
		var totalAmnt = $("#totalAmnt").val();
		var paidAmnt = $("#paidAmnt").val();
		var amt = parseFloat(totalAmnt) - parseFloat(paidAmnt)
		var outStdAmt = $("#outStdAmt").val(amt)

	}

	//TCS auto search

	function getTCSList() {
		var search = $("#tcsName").val();
		$('.loader').show();
		if (search) {

			$
					.ajax({
						type : "POST",
						url : "view-deliverychallan-get-tcs-list",
						dataType : 'json',
						contentType : 'application/json',
						data : search,
						success : function(response) {
							if (response.message == "success") {
								$('.loader').hide();
								console.log("response data"
										+ JSON.stringify(response))
								if (response.body.length != 0) {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list3" >';
									for (var i = 0; i < response.body.length; i++) {
										content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;" class="autocompletedata cp" onClick="selectAutocompleteValue3(\''
												+ response.body[i].tcsId
												+ '\',\''
												+ response.body[i].taxName
												+ '\',\''
												+ response.body[i].rateId
												+ '\',\''
												+ response.body[i].taxType
												+ '\')">'
												+ response.body[i].taxName
												+ '</li>';
									}
									content += '<li style="margin-left:-30px;"  onclick="AddTCS();"><a class="addCust" href="#">Manage TCS</a>'
											+ '</li>';
									content += '</ul>';
									//console.log("content " + content)
									$("#suggesstion-box3_").show();
									$("#suggesstion-box3_").html(content);

								} else {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list3">';
									content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;" onClick="selectAutocompleteValuee1()">'
											+ "No Data Found" + '</li>';
									content += '<li style="margin-left:-30px;"  onclick="AddTCS();"><a class="addCust" href="#">Manage TCS</a>'
											+ '</li>';
									content += '</ul>';
									$("#suggesstion-box3_").show();
									$("#suggesstion-box3_").html(content);
								}
							}
						},
						error : function(data) {
							console.log(data);
							$('.loader').hide();}
					})
		}

	}

	function selectAutocompleteValuee1() {

		$("#tcsId").val("");

		$("#tcsName").val("");
		$("#custGSTNoo1").val("");
		$("#taxTypee1").val("");
		$("#search").val("");
		$("#search").attr('data-procat', "");
		$("#suggesstion-box3_").hide();

	}

	function selectAutocompleteValue3(tcsId, taxName, rateId, taxType) {

		$("#tcsId").val(tcsId);
		$("#tcsName").val(taxName);
		$("#tcsValue").val(rateId);
		$("#taxTypee1").val(taxType);
		$("#search").val(taxName);
		$("#search").attr('data-procat', tcsId);
		$("#suggesstion-box3_").hide();
		//	hideShowS();
		//checkForDuplicate(key,counter);
		grandTotalCalculation();
		//tcsAmountCalculation();

	}
	function AddTCS() {

		$('#manageTCsModel').modal('show');

	}
	function tcscancelBtn() {
		$('#manageTCsModel').modal('hide');
	}

	function addtcsInfo1() {
		$('.loader').show();
		var obj = {};
		var Id = $("#tcsId").val();

		obj.salespersonId = $("#tcsId").val();
		obj.collection = $("#collection").val();
		obj.rateId = $("#rateId").val();
		obj.taxName = $("#taxName").val();

		$.ajax({
			type : "POST",
			url : "view-deliverychallan-add-tcs",
			contentType : "application/json",
			data : JSON.stringify(obj),
			success : function(response) {
				if (response.message == "Success") {
					$('.loader').hide();
					//getSalessPersonList();
					$("#messageParagraph").text("Data Saved Successfully");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');

					//$("#myGrid").show();
					//$("#salespersonDetails").hide();
					$('#manageTCsModel').modal('hide');

				}
			},
			error : function(data) {
				$('.loader').hide();}
		})

	}

	function freightCharge() {
		var subTotal = $("#subTotal").val();
		var freigtCharge = $("#freigtCharge").val();
		if (freigtCharge == "" || freigtCharge == null
				|| freigtCharge == "null") {
			freigtCharge = 0;
			$("#totalFreightCharges").val(freigtCharge);
		} else {
			$("#totalFreightCharges").val(freigtCharge);
		}
		var freigtTaxRate = $("#freigtTaxRate").val();
		var qCGSTHid = $("#qCGSTHid").val();
		var qSGSTHid = $("#qSGSTHid").val();
		var qIGSTHid = $("#qIGSTHid").val();
		$("#total").val(parseFloat(subTotal) + parseFloat(freigtCharge));
		var taxType = $("#taxType").val();
		if (taxType == 'true') {
			var fcCGST = (parseFloat(freigtCharge) * parseFloat(freigtTaxRate)) / 200;
			var fcSGST = (parseFloat(freigtCharge) * parseFloat(freigtTaxRate)) / 200;
			var fcIGST = 0;
			$("#qCGST").val(parseFloat(qCGSTHid) + fcCGST);
			$("#qSGST").val(parseFloat(qSGSTHid) + fcSGST);
			$("#qIGST").val(parseFloat(qIGSTHid) + fcIGST);
		} else {
			var fcCGST = 0;
			var fcSGST = 0;
			var fcIGST = (parseFloat(freigtCharge) * parseFloat(freigtTaxRate)) / 100;

			$("#qCGST").val(parseFloat(qCGSTHid) + fcCGST);
			$("#qSGST").val(parseFloat(qSGSTHid) + fcSGST);
			$("#qIGST").val(parseFloat(qIGSTHid) + fcIGST);
		}
		if (freigtCharge) {
			var fc = parseFloat(freigtCharge);
			$("#totalFreightCharges").val((fc).toFixed(2));
			grandTotalCalculation()
		} else {
			var fc = 0;
			$("#totalFreightCharges").val((fc).toFixed(2));
			grandTotalCalculation()
		}
	}

	function grandTotalCalculation() {

		var tcsValue = $("#tcsValue").val();
		var subTotal = $("#subTotal").val();
		var grandTotal2 = $("#grandTotal").val();

		var qSGST = $("#qSGST").val();
		var qSGSTHid = $("#qSGSTHid").val();
		if (qSGST == "" || qSGST == null || qSGST == "null") {
			qSGST = 0;
			$("#qSGST").val(qSGST);
		}
		var qCGST = $("#qCGST").val();
		var qCGSTHid = $("#qCGSTHid").val();
		if (qCGST == "" || qCGST == null || qCGST == "null") {
			qCGST = 0;
			$("#qCGST").val(qCGST);
		}
		var qIGST = $("#qIGST").val();
		var qIGSTHid = $("#qIGSTHid").val();
		if (qIGST == "" || qIGST == null || qIGST == "null") {
			qIGST = 0;
			$("#qIGST").val(qIGST);
		}

		var tcsAmount = $("#tcsAmount").val();
		var totalFreightCharges = $("#totalFreightCharges").val();

		if (totalFreightCharges == "" || totalFreightCharges == null
				|| totalFreightCharges == "null") {
			totalFreightCharges = 0;
			$("#totalFreightCharges").val(totalFreightCharges);
		}
		var total = $("#total").val();
		if (total == "" || total == null || total == "null") {
			total = 0;
			$("#total").val(total);
		}
		var grandTotal = $("#grandTotal").val();
		if (grandTotal == "" || grandTotal == null || grandTotal == "null") {
			grandTotal = 0;
			$("#grandTotal").val(grandTotal);
		}

		var totVal = parseFloat(subTotal) + parseFloat(qSGST)
				+ parseFloat(qCGST) + parseFloat(qIGST);

		if (totalFreightCharges) {
			var add = parseFloat(tcsAmount) + parseFloat(totalFreightCharges)
					+ parseFloat(totVal);
			$("#grandTotal").val((add).toFixed(2));
		} else {

			var add = 0;
			$("#grandTotal").val((totVal).toFixed(2));
		}

	}

	var grandTotal1 = $("#grandTotal").val();

	function calculateAdjustment() {
		//var adjustment = $("#adjustment").val();

		if (/^\d+$/.test($("#adjustment").val())
				|| $("#adjustment").val() == '-'
				|| $("#adjustment").val() == ''
				|| /^\-?\d+((\.|\,)\d+)?$/.test($("#adjustment").val())) {
			var adjustment = $("#adjustment").val();
		} else {
			$("#adjustment").val(0);
		}

		var subTotal = $("#subTotal").val();
		var qSGST = $("#qSGST").val();
		var qCGST = $("#qCGST").val();
		var qIGST = $("#qIGST").val();
		var tcsAmount1 = $("#tcsAmount").val();
		var tcsAmount = 0;
		if (tcsAmount1 != '' && tcsAmount1 != null) {
			tcsAmount = tcsAmount1;
		}
		var grandTotal = parseFloat(subTotal) + parseFloat(qSGST)
				+ parseFloat(qCGST) + parseFloat(qIGST) + parseFloat(tcsAmount);

		var add = 0;

		if (/^\-?\d+((\.|\,)\d+)?$/.test(adjustment)) {

			add = parseFloat(adjustment) + parseFloat(grandTotal);

			$("#grandTotal").val((add).toFixed(2));

		} else {

			$("#grandTotal").val((grandTotal).toFixed(2));

		}

	}

	/* customer AutoSearch */

	function getCustomerList() {
		$('.loader').show();
		var search = $("#vendorName").val();
		if (search) {
			$
					.ajax({
						type : "POST",
						url : "view-deliverychallan-get-customer-list",
						dataType : 'json',
						contentType : 'application/json',
						data : search,
						success : function(response) {
							if (response.message == "success") {
								$('.loader').hide();
								console.log("response data"
										+ JSON.stringify(response))
								if (response.body.length != 0) {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1" >';
									for (var i = 0; i < response.body.length; i++) {
										content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;"  class="autocompletedata cp" onClick="selectAutocompleteValue1(\''
												+ response.body[i].vendorId
												+ '\',\''
												+ response.body[i].vendorName
												+ '\',\''
												+ response.body[i].custGSTNo
												+ '\',\''
												+ response.body[i].taxType
												+ '\')">'
												+ response.body[i].vendorName
												+ '</li>';
									}
									content += '<li style="margin-left:-30px;"  onclick="AddCustomer();"><a class="addCust" href="#">Add New Customer</a>'
											+ '</li>';
									content += '</ul>';
									//console.log("content " + content)
									$("#suggesstion-box1_").show();
									$("#suggesstion-box1_").html(content);

								} else {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1">';
									content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;" onClick="selectAutocompleteValue()">'
											+ "No Data Found" + '</li>';
									content += '<li style="margin-left:-30px;"  onclick="AddCustomer();"><a class="addCust" href="#">Add New Customer</a>'
											+ '</li>';
									content += '</ul>';
									$("#suggesstion-box1_").show();
									$("#suggesstion-box1_").html(content);
								}
							}
						},
						error : function(data) {
							console.log(data);
							$('.loader').hide();}
					})
		}

	}
	function AddCustomer() {

		$('#addCustomerModel').modal('show');
		$("#customerType").val('');
		$("#salutation").val('');
		$("#customerId").val('');
		$("#customerName").val('');
		$("#companyName").val('');
		$("#customerDisplayName").val('');
		$("#cusEmail").val('');
		$("#custMobile").val('');
		$("#custSkype").val('');
		$("#custDesignation").val('');
		$("#department").val('');
		$("#webSite").val('');
		$("#status").val('');
		$("#pan").val('');
		$("#currency").val('');
		$("#openingBalance").val('');
		$("#paymentTerms").val('');
		$("#enableDtls").val('');
		$("#portableLang").val('');
		$("#faceBook").val('');
		$("#twitter").val('');
		$("#country").val('');
		$("#states").val('');
		$("#city").val('');
		$("#street1").val('');
		$("#street2").val('');
		$("#phone").val('');
		$("#zipCode").val('');
		$("#fax").val('');
		$("#country1").val('');
		$("#states1").val('');
		$("#city").val('');
		$("#street11").val('');
		$("#street21").val('');
		$("#zipCode1").val('');
		$("#phone1").val('');
		$("#fax1").val('');
		$("#salutation1").val('');
		$("#firstName").val('');
		$("#lastName").val('');
		$("#emailAdd").val('');
		$("#mobile").val('');
		$("#remarks").val('');

	}
	function cancelBtn1() {
		$('#addCustomerModel').modal('hide');
	}
	function selectAutocompleteValue1(vendorId, vendorName, custGSTNo, taxType) {

		if (vendorId) {
			$("#vendorId").val(vendorId);
			$("#vendorName").val(vendorName);
			$("#custGSTNo").val(custGSTNo);
			$("#taxType").val(taxType);
			$("#search").val(vendorName);
			$("#search").attr('data-procat', vendorId);
			$("#suggesstion-box1_").hide();

			$("#addre").show();

			hideShowS();
			getAddressDetails(vendorId);
			getSalesOrderList(vendorId, "add", "");

		} else {

			$("#vendorId").val("");

			$("#vendorName").val("");
			$("#custGSTNo").val("");
			$("#taxType").val("");
			$("#search").val("");
			$("#search").attr('data-procat', "");
			$("#suggesstion-box1_").hide();

		}
	}
	function selectAutocompleteValue() {

		$("#vendorId").val("");

		$("#vendorName").val("");
		$("#custGSTNo").val("");
		$("#taxType").val("");
		$("#search").val("");
		$("#search").attr('data-procat', "");
		$("#suggesstion-box1_").hide();

	}

	function getCustomerListt() {
		$('.loader').show();
		var search = $("#customerName").val();
		if (search) {
			$
					.ajax({
						type : "POST",
						url : "view-deliverychallan-get-customer-listt",
						dataType : 'json',
						contentType : 'application/json',
						data : search,
						success : function(response) {
							if (response.message == "success") {
								$('.loader').hide();
								console.log("response data"
										+ JSON.stringify(response))
								if (response.body.length != 0) {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1" >';
									for (var i = 0; i < response.body.length; i++) {
										content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;"  class="autocompletedata cp" onClick="selectAutocompleteValue11(\''
												+ response.body[i].vendorId
												+ '\',\''
												+ response.body[i].vendorName
												+ '\',\''
												+ response.body[i].custGSTNo
												+ '\',\''
												+ response.body[i].taxType
												+ '\')">'
												+ response.body[i].vendorName
												+ '</li>';
									}
									content += '<li style="margin-left:-30px;"><a class="addCust" href="#"></a>'
											+ '</li>';
									content += '</ul>';
									//console.log("content " + content)
									$("#suggesstion-box11_").show();
									$("#suggesstion-box11_").html(content);

								} else {
									$("#search").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1">';
									content += '<li style="margin-left:-30px; font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;" onClick="selectAutocompleteValueD()">'
											+ "No Data Found" + '</li>';
									content += '<li style="margin-left:-30px;"  ><a class="addCust" href="#"></a>'
											+ '</li>';
									content += '</ul>';
									$("#suggesstion-box11_").show();
									$("#suggesstion-box11_").html(content);
								}
							}
						},
						error : function(data) {
							console.log(data);
							$('.loader').hide();}
					})
		} else {
			$('.loader').hide();
			$("#poIdd").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#poIdd").append(option);
			agGrid.simpleHttpRequest({
				url : "vendor-delivery-challan-view-ajax"
			}).then(function(data) {
				var len = data.length;
				$('#totalCandidate').find('span').html(len);
				gridOptions.api.setRowData(data);
			});
			$("#suggesstion-box11_").hide();
		}
	}
	function selectAutocompleteValue11(vendorId, vendorName, custGSTNo, taxType) {
		if (vendorId) {
			$("#customerId").val(vendorId);

			$("#customerName").val(vendorName);
			$("#custGSTNoo").val(custGSTNo);
			$("#taxTypee").val(taxType);
			$("#search").val(vendorName);
			$("#search").attr('data-procat', vendorId);
			$("#suggesstion-box11_").hide();
			hideShowS();
			getPOList(vendorId);
		} else {
			$("#customerId").val("");
			$("#customerName").val("");
			$("#custGSTNoo").val("");
			$("#taxTypee").val("");
			$("#search").val("");
			$("#search").attr('data-procat', "");
			$("#suggesstion-box11_").hide();
		}
	}
	function selectAutocompleteValueD() {

		$("#customerId").val("");

		$("#customerName").val("");
		$("#custGSTNoo").val("");
		$("#taxTypee").val("");
		$("#search").val("");
		$("#search").attr('data-procat', "");
		$("#suggesstion-box11_").hide();

	}

	function getPOList(vendorId) {
		$('.loader').show();
		if (vendorId) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$.ajax({
				type : "GET",
				url : "view-deliverychallan-salespolist?id=" + vendorId,
				success : function(response) {
					if (response.message == "success") {
						$('.loader').hide();
						$("#poIdd").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#poIdd").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].key);
							$("#poIdd").append(option);
						}
					}
				},
				error : function(e) {
					$('.loader').hide();}
			});
		} else {
			$('.loader').hide();
			$("#poIdd").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("poId");
			$("#poIdd").append(option);
			$("#poIdd").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
		}
	}

	function getSalesOrder(vendorId, poId) {
		$('.loader').show();
		if (vendorId) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$.ajax({
				type : "GET",
				url : "view-deliverychallan-salesorderlist?id=" + vendorId,
				success : function(response) {
					if (response.message == "success") {
						$('.loader').hide();
						$("#salesOrderId").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#salesOrderId").append(option);
						for (var i = 0; i < response.body.length; i++) {

							if (response.body[i].key == salesOrder) {
								$(option).val(response.body[i].key);
								$(option).html(response.body[i].key);
								$("#salesOrderId").append(option);
							}

						}

						if (poId != "" && poId != null && poId != "null") {
							$("#poId").val(poId);
						}

					}
				},
				error : function(e) {
					$('.loader').hide();}
			});

		} else {
			$('.loader').hide();
			$("#poId").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("salesOrderId");
			$("#poId").append(option);
			$("#poId").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");

		}

	}

	function getSOrderList(vendorId, id1, id2) {
		$('.loader').show();
		if (vendorId) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");

			$.ajax({
				type : "GET",
				url : "view-deliverychallan-salesorderlistt?id=" + vendorId
						+ "&type=" + id1,
				success : function(response) {
					if (response.message == "success") {
						$('.loader').hide();
						$("#salesOrderIdd").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#salesOrderIdd").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].key);
							$("#salesOrderIdd").append(option);
						}
						if (id2 != "") {
							$("#salesOrderIdd").val(id2);
						}

					}
				},
				error : function(e) {
					$('.loader').hide();}
			});
		} else {
			$('.loader').hide();
			$("#salesOrderIdd").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("salesOrderIdd");
			$("#salesOrderIdd").append(option);
			$("#salesOrderIdd").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#salesOrderId").append(option);
		}
	}
	function getPackageId() {
		$('.loader').show();
		var cname = $('#poId').val();
		if (cname) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
			$.ajax({
				type : "GET",
				url : "view-deliverychallan-get-PackageId?id=" + cname,
				success : function(response) {
					if (response.message == "success") {
						$('.loader').hide();
						$("#salePackageId").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#salePackageId").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#salePackageId").append(option);
						}
						/* if(pid !=""){
							$("#salePackageId").val(pid);
						} */
					}
				},
				error : function(e) {
					$('.loader').hide();}
			});
		} else {
			$('.loader').hide();
			$("#salePackageId").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#salePackageId").append(option);
			$("#salePackageId").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
		}
	}

	function getPackageId1(poId, salePackageId) {
		$('.loader').show();
		//var cname = $('#salesOrderId').val();
		if (salesOrderId) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
			$.ajax({
				type : "GET",
				url : "view-deliverychallan-get-PackageId?id=" + salesOrderId,
				success : function(response) {
					if (response.message == "success") {
						$('.loader').hide();
						$("#salePackageId").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#salePackageId").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#salePackageId").append(option);
						}
						if (salePackageId != "") {
							$("#salePackageId").val(salePackageId);
						}
					}
				},
				error : function(e) {
					$('.loader').hide();}
			});
		} else {
			$('.loader').hide();
			$("#salePackageId").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#salePackageId").append(option);
			$("#salePackageId").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
		}
	}

	function getAddressDetails(vendorId) {
		$('.loader').show();
		//var Id=$("#vendorName").val();
		$.ajax({
			type : "GET",
			url : "vendor-po-get-address?id=" + vendorId,

			async : false,
			success : function(response) {
				if (response.message == "Success") {
					$('.loader').hide();
					console.log(response.body)
					$("#con").html(response.body.country);
					$("#bstate").html(response.body.states);
					$("#bcity").html(response.body.city);
					$("#bstreet1").html(response.body.street1);
					$("#bstreet2").html(response.body.street2);
					$("#bzipcode").html(response.body.zipCode);
					$("#bphone").html(response.body.phone);
					$("#bfax").html(response.body.fax);

					$("#con1").html(response.body.country1);
					$("#bstate1").html(response.body.states1);
					$("#bcity1").html(response.body.city1);
					$("#bstreet11").html(response.body.street11);
					$("#bstreet21").html(response.body.street21);
					$("#bzipcode1").html(response.body.zipCode1);
					$("#bphone1").html(response.body.phone1);
					$("#bfax1").html(response.body.fax1);

				}
			}
		});
	}
	//add Customer Info

	function addCustomerInfo() {
		var obj = {};
		obj.customerId = $('#customerId').text();
		obj.customerType = $('#customerType').val();
		obj.salutation = $('#salutation').val();
		obj.customerName = $('#customerName').val();
		obj.companyName = $('#companyName').val();
		obj.customerDisplayName = $('#customerDisplayName').val();
		obj.cusEmail = $('#cusEmail').val();
		obj.custMobile = $('#custMobile').val();
		obj.custSkype = $('#custSkype').val();

		obj.custDesignation = $('#custDesignation').val();
		obj.department = $('#department').val();
		obj.webSite = $('#webSite').val();
		obj.status = $('#status').val();
		obj.pan = $('#pan').val();
		obj.currency = $('#currency').val();
		obj.openingBalance = $('#openingBalance').val();
		obj.paymentTerms = $('#paymentTerms').val();
		obj.enableDtls = $('#enableDtls').val();
		obj.portableLang = $('#portableLang').val();

		obj.faceBook = $('#faceBook').val();
		obj.twitter = $('#twitter').val();
		obj.country = $('#country').val();
		obj.states = $('#states').val();
		obj.city = $('#city').val();
		obj.street1 = $('#street1').val();
		obj.street2 = $('#street2').val();
		obj.zipCode = $('#zipCode').val();
		obj.phone = $('#phone').val();
		obj.fax = $('#fax').val();

		obj.country1 = $('#country1').val();
		obj.states1 = $('#states1').val();
		obj.city1 = $('#city').val();
		obj.street11 = $('#street11').val();
		obj.street21 = $('#street21').val();
		obj.zipCode1 = $('#zipCode1').val();
		obj.phone1 = $('#phone1').val();
		obj.fax1 = $('#fax1').val();

		obj.salutation1 = $('#salutation1').val();
		obj.firstName = $('#firstName').val();
		obj.lastName = $('#lastName').val();
		obj.emailAdd = $('#emailAdd').val();
		obj.mobile = $('#mobile').val();
		obj.remarks = $('#remarks').val();

		console.log("object on add customer-----------" + JSON.stringify(obj));
		//return false;

		/* FORM VALIDATION STARTS*/

		var validation = true;

		if (obj.customerType == null || obj.customerType == "") {
			validation = validationUpdated("Customer Type Required",
					"customerType");
		}

		if (obj.customerName == null || obj.customerName == "") {
			validation = validationUpdated("Customer Name Required",
					"customerName");
		}

		if (obj.companyName == null || obj.companyName == "") {
			validation = validationUpdated("Company Name Required",
					"companyName");
		}

		/* FORM VALIDATION ENDS*/
$('.loader').show();
		if (validation) {
			$.ajax({
				type : "POST",
				url : "view-deliverychallan-adds",
				contentType : "application/json",
				data : JSON.stringify(obj),
				success : function(response) {
					if (response.code == "Success") {
						console.log(response);
						$('.loader').hide();
						$("#add").hide();
						$("#copy").show();
						$("#delete").hide();
						$("#totalReq").show();
						$("#myGrid").hide();
						$("#searchRowDiv").hide();
						$("#demo").hide();
						$("#addCustomerModel").modal('hide');

					}
				},
				error : function(data) {
					$('.loader').hide();
					//console.log(data);
				}
			})
		}

	}
	function addnewAddress() {

		$('#addAddressModel').modal('show');

	}
	function addnewAddress1() {

		$('#addAddressModel1').modal('show');

	}
	function cancelBtn() {
		$('#addAddressModel').modal('hide');
	}
	function cancelBtn2() {
		$('#addAddressModel1').modal('hide');
	}
	function tcscancelBtn() {
		$('#manageTCsModel').modal('hide');
	}

	function addCustomerInfo2() {
		var obj = {};
		var Id = $("#vendorId").val();

		obj.customerId = $("#vendorId").val();
		obj.country = $("#countryb").val();
		obj.states = $("#statesb").val();
		obj.city = $("#cityb").val();
		obj.street1 = $("#street1b").val();
		obj.street2 = $("#street2b").val();
		obj.zipCode = $("#zipCodeb").val();
		obj.phone = $("#phoneb").val();
		obj.fax = $("#faxb").val();
		$('.loader').show();
		$.ajax({
			type : "POST",
			url : "view-deliverychallan-add-cust-billingaddress",
			contentType : "application/json",
			data : JSON.stringify(obj),
			success : function(response) {
				if (response.message == "Success") {
					$('.loader').hide();
					$("#messageParagraph").text("Data Saved Successfully");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');

					//$("#myGrid").show();
					$("#billingInfo").hide();

				}
			},
			error : function(data) {
				$('.loader').hide();}
		})

	}

	function addCustomerInfo1() {
		var obj = {};
		var Id = $("#vendorId").val();

		obj.customerId = $("#vendorId").val();
		obj.country1 = $("#country1s").val();
		obj.states1 = $("#states1s").val();
		obj.city1 = $("#city1s").val();
		obj.street11 = $("#street11s").val();
		obj.street21 = $("#street21s").val();
		obj.zipCode1 = $("#zipCode1s").val();
		obj.phone1 = $("#phone1s").val();
		obj.fax1 = $("#fax1s").val();
		$('.loader').show();
		$.ajax({
			type : "POST",
			url : "view-deliverychallan-add-cust-shippingaddress",
			contentType : "application/json",
			data : JSON.stringify(obj),
			success : function(response) {
				if (response.message == "Success") {
					$('.loader').hide();
					$("#messageParagraph").text("Data Saved Successfully");
					$("#msgOkModal").removeClass("btn3");
					$("#msgOkModal").addClass("btn1");
					$("#msgModal").modal('show');

					//$("#myGrid").show();
					$("#shippingInfo").hide();

				}
			},
			error : function(data) {
				$('.loader').hide();}
		})

	}

	function showDisplay() {
		var title = $('#salutation').val();
		var name = $('#customerName').val();
		var fullName = title + ' ' + name;
		$('#customerDisplayName').val(fullName);
	}

	function getStateDetails() {
		$('.loader').show();
		var cname = $('#country').val();
		if (cname) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
			$.ajax({
				type : "GET",
				url : "view-deliverychallan-stateList?id=" + cname,
				success : function(response) {
					if (response.message == "success") {
						$('.loader').hide();
						$("#states").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#states").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#states").append(option);
						}
					}
				},
				error : function(e) {
					$('.loader').hide();}
			});
		} else {
			$('.loader').hide();
			$("#states").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#states").append(option);
			$("#states").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
		}
	}

	function getStateDetails1() {
		$('.loader').show();
		var cname = $('#country1').val();
		if (cname) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
			$.ajax({
				type : "GET",
				url : "view-deliverychallan-stateList?id=" + cname,
				success : function(response) {
					if (response.message == "success") {
						$('.loader').hide();
						$("#states1").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#states1").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#states1").append(option);
						}
					}
				},
				error : function(e) {
					$('.loader').hide();}
			});
		} else {
			$('.loader').hide();
			$("#states1").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#states1").append(option);
			$("#states1").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
		}
	}

	function getStateDetailsb() {

		var cname = $('#countryb').val();
		if (cname) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
			$('.loader').show();
			$.ajax({
				type : "GET",
				url : "view-deliverychallan-stateList?id=" + cname,
				success : function(response) {
					if (response.message == "success") {
						$('.loader').hide();
						$("#statesb").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#statesb").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#statesb").append(option);
						}
					}
				},
				error : function(e) {
					$('.loader').hide();}
			});
		} else {
			$('.loader').hide();
			$("#statesb").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#statesb").append(option);
			$("#statesb").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
		}
	}

	function getStateDetailss() {
		$('.loader').show();
		var cname = $('#country1s').val();
		if (cname) {
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
			$.ajax({
				type : "GET",
				url : "view-deliverychallan-stateList?id=" + cname,
				success : function(response) {
					if (response.message == "success") {
						$('.loader').hide();
						$("#states1s").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#states1s").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#states1s").append(option);
						}
					}
				},
				error : function(e) {
					$('.loader').hide();}
			});
		} else {
			$('.loader').hide();
			$("#states1s").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#states1s").append(option);
			$("#states1s").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			//$("#dname").append(option);
		}
	}

	function copyAsBillingAdd() {

		var country = $('#country').val();
		var states = $('#states').val();
		var city = $('#city').val();
		var street1 = $('#street1').val();
		var street2 = $('#street2').val();
		var zipCode = $('#zipCode').val();
		var phone = $('#phone').val();
		var fax = $('#fax').val();

		$('#country1').val(country);
		$('#states1').val(states);
		getStateDataOnEdit1(states);
		$('#city1').val(city);
		$('#street11').val(street1);
		$('#street21').val(street2);
		$('#zipCode1').val(zipCode);
		$('#phone1').val(phone);
		$('#fax1').val(fax);
	}

	function getStateDataOnEdit1(stateId) {
		$('.loader').show();
		var country = $("#country").val();
		if (country) {
			$.ajax({
				type : "GET",
				url : "view-deliverychallan-stateList?id=" + country,
				success : function(response) {
					if (response.message == "success") {
						$('.loader').hide();
						$("#states1").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#states1").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#states1").append(option);
						}
						$("#states1").val(stateId);
					}
				},
				error : function(e) {
					$('.loader').hide();}
			});
		} else {
			$('.loader').hide();
			$("#states1").empty();
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$("#states1").append(option);
		}
	}

	function downloadDetails() {
		var dataset = [];
		gridOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
			dataset.push(rowNode.data);
		});
		gridOptions.api.exportDataAsCsv(dataset);
	}

	function salesPOWiseDeliveryChallan() {
		$('.loader').show();
		var poIdd = $("#poIdd").val();
		if (poIdd) {
			agGrid.simpleHttpRequest({
				url : 'view-deliverychallan-po-wise?id=' + poIdd
			}).then(function(data) {
				var len = data.length;
				$('#totalCandidate').find('span').html(len);
				gridOptions.api.setRowData(data);
				$('.loader').hide();
			});
		} else {
			agGrid.simpleHttpRequest({
				url : "vendor-delivery-challan-view-ajax"
			}).then(function(data) {
				var len = data.length;
				$('#totalCandidate').find('span').html(len);
				gridOptions.api.setRowData(data);
			});
			$('.loader').hide();}
	}

	function invoiceOnclick() {
		//var poid = $("#poIdd").val();
		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += selectedRow.vendorDeliveryChallan;
		});
		if (selectedRowsString) {
			var vendorDeliveryChallan = selectedRowsString;
			sessionStorage.setItem('activity', 'ACT0061');
			agGrid.simpleHttpRequest(
					{
						url : 'vendor-delivery-challan-edit-new?id='
								+ vendorDeliveryChallan
					}).then(function(data) {
				localStorage.setItem('ReqInvoiceData', JSON.stringify(data));
				itemOptions.api.setRowData(data);
				window.location.href = "/purchase/vendor-invoice"

			});
		} else {
			$("#alert").modal('show');
			document.getElementById("textId").innerHTML = "Please Select Atleast one Record !";
		}

	}
	//Transportation Mode Function
	function dataClick() {
		var freight = $("#freight").val();
		$(".formValidation").remove();
		if (freight == "1") {
			$("#freigtTaxRateDtls").show();
			$("#freigtChargeDtlss").show();
			$("#totalFreightChargesDtls").show();
		} else {
			$("#totalFreightCharges").val(0);
			$("#freigtCharge").val(0);
			$("#freigtTaxRateDtls").hide();
			$("#freigtChargeDtlss").hide();
			$("#totalFreightChargesDtls").hide();
			freightCharge();
		}
	}
	function checkNumeric(fieldId) {

		var tempVal = $("#" + fieldId).val().replace(/[^0-9 ]/g, '');

		const input = document.getElementById(fieldId);
		const position = input.selectionStart;
		if (tempVal.slice(-1) == ' ') {
			$("#" + fieldId).empty();
			tempVal = '';
		}
		$("#" + fieldId).val(tempVal);
	}
</script>
</head>
<body>
	<div layout:fragment="content" class="maincontent">
		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
					<div class="content_padding">
						<div class="row" id="customerData"></div>

						<div class="d-flex justify-content-between" id="reqTable"
							style="display: none;">
							<div class="col-md-4 btn-hs">
								<div class="font-design" id="totalCandidate">
									Delivery Challan LIST (<span></span>)
								</div>
							</div>
							<div class="col-md-4 " id="searchRowDiv">
								<div class="input-style">
									<input type="text" placeholder="Search.." name="search"
										class="searchboxinput" onkeyup="cancelBar()"
										oninput="onQuickFilterChanged()" id="quickFilter"
										autocomplete="off">
									<div class="searchicon">
										<a href="javascript:void(0)"><span
											style="display: none; border-right: 1px solid #ccc; padding-right: 5px;"
											id="closeKey"
											onclick="gridOptions.api.setQuickFilter(null);$('#quickFilter').val('');document.getElementById('closeKey').style.display='none';"
											class="close_i"><i class="ti-close srchicon"></i></span></a><a
											href="javascript:void(0)"><i class="ti-search srchicon"></i></a>
									</div>
								</div>
							</div>

							<div class="col-md-4 buttonsec btn-hs">

								<button class="btn4" id=dwnld onclick="downloadDetails()">Download</button>
								<!-- <button onclick="add()" class="btn1" id="add">New</button> -->
								<button onclick="deleteQuotation()" class="btn3" id="delete">Delete</button>
								<button onclick="invoiceOnclick()" class="btn1" id="invoiceBtn">Invoice</button>
							</div>
						</div>
						<div id="myGrid" style="height: 500px; width: 100%;"
							class="ag-theme-alpine"></div>

						<div class="collapse" id="addData">
							<div class="innerstickybg">
								<div class="row">
									<div class="col-md-6">
										Delivery Challan ID: <span id="deliverychallanheadId"></span>
									</div>
									<div class="col-md-6" align="right">
										<button class="cancel-btn" id="Cancel" onClick="Cancel()">Cancel</button>
										<button class="approve-btn" id="save" onclick="save();">Save</button>
									</div>
								</div>
							</div>

							<div class="row innersticky_contentgap">
								<input type="hidden" id="salesOrder"> <input
									type="hidden" id="quotationId"> <input type="hidden"
									id="saleInvoice"><input type="hidden"
									id="vendorDeliveryChallan"><input type="hidden"
									id="packageId">
								<div class="col-lg-3">
									<div class="form-group">
										<div class="autocomplete" style="width: 100%;">
											<label>Vendor Name</label> <input type="text" id="vendorName"
												placeholder="Search Here.." class="form-control"
												onkeyup='getVendorList()'><input type="hidden"
												id="vendorId"> <input type="hidden" id="custGSTNo">
											<input type="hidden" id="taxType">
										</div>
										<div id="suggesstion-box1_" class="sugg-cls"></div>

									</div>
									<input type="hidden" id="paymentTermId">

									<div class="row" id=addre>
										<div class="col-md-6">
											<span class="billtxt" id="billingAdd">Billing Address</span>
											<address class="font-small ember-view"></address>
											<div class="preserve-wrap1">
												<span id='con'></span><br> <span id='bstate'></span><br>
												<span id='bcity'></span><br> <span id='bstreet1'></span><br>
												<span id='bstreet2'></span><br> <span id='bzipcode'></span><br>
												<span id='bphone'></span><br> <span id='bfax'></span><br>
											</div>
										</div>


										<div class="col-md-6">
											<span class="billtxt" id="shippingAdd">Shipping
												Address</span>
											<address class="font-small ember-view"></address>
											<div class="preserve-wrap1">
												<span id='con1'></span><br> <span id='bstate1'></span><br>
												<span id='bcity1'></span><br> <span id='bstreet11'></span><br>
												<span id='bstreet21'></span><br> <span id='bzipcode1'></span><br>
												<span id='bphone1'></span><br> <span id='bfax1'></span><br>

											</div>
										</div>
									</div>
								</div>

								<div class="col-md-3">
									<div class="form-group">
										<label>PO Id</label> <input type="text" id="poId"
											class="form-control" readonly>
									</div>
								</div>

								<div class="col-lg-3">
									<div class="form-group">
										<label>Delivery Challan Date</label> <input type="text"
											id="deliveryChallanDate" class="form-control" readonly>
									</div>
								</div>
								<div class="col-lg-3">
									<div class="form-group">
										<label>Mode Of Transport</label>
										<div class="select">
											<select id="carrierId" onblur="removeValid(event)">
												<option value="">Select</option>
												<option th:each="c,iter:${CarrierLists}" th:value="${c.key}"
													th:text="${c.name}"></option>
											</select>
										</div>
									</div>

								</div>


								<div class="col-md-3">
									<div class="form-group">
										<label>Freight</label>
										<div class="select">
											<select class="form-control" id="freight"
												onchange='dataClick()'>
												<option value="">Select</option>
												<option value="1">Yes</option>
												<option value="0">No</option>
											</select>
										</div>
									</div>
								</div>

								<div class="col-lg-3" id="freigtChargeDtlss">
									<div class="form-group">
										<label>Freight Charge</label><input type="text"
											id="freigtCharge" class="form-control"
											onkeyup="freightCharge()">
									</div>
								</div>

								<div class="col-lg-3" id="freigtTaxRateDtls">
									<div class="form-group">
										<label>Freight Tax Rate(in %)</label><input type="text"
											id="freigtTaxRate" class="form-control"
											onkeyup="freightCharge()">
									</div>
								</div>

								<div class="col-lg-3">
									<div class="form-group">
										<label>Vehicle No.</label><input type="text" id="vehicleNo"
											class="form-control">
									</div>
								</div>
								<div class="col-lg-3">
									<div class="form-group">
										<label>Transporter Id</label><input type="text"
											id="transporterId" class="form-control">
									</div>
								</div>
								<div class="col-lg-3">
									<div class="form-group">
										<label>Transporter Name</label><input type="text"
											id="transporterName" class="form-control">
									</div>
								</div>
								<div class="col-lg-3">
									<div class="form-group">
										<label>LR Number</label><input type="text" id="lrNumber"
											class="form-control">
									</div>
								</div>
							</div>

							<div id="main_content1" class="mt-4">
								<div class="accordion-item">
									<h2 class="accordion-header" id="headingOne">
										<button class="accordion-button" type="button"
											data-bs-toggle="collapse" data-bs-target="#collapseOne"
											aria-expanded="false" aria-controls="collapseOne">
											Item Details</button>
									</h2>

									<div id="collapseOne" class="accordion-collapse collapse show"
										aria-labelledby="headingOne"
										data-bs-parent="#accordionExample">
										<div class="accordion-body">

											<div class="row">

												<div class="col-md-4 btn-hs1">
													<div class="font-design"></div>
												</div>
												<div class="col-md-8 butttonsec">

													<!-- <button class="new-btn" id="newItem" onclick="openNav()">NEW</button> -->
													<button class="delete-btn" id="deleteItem"
														onclick="deleteItem()">Delete</button>

												</div>
											</div>
											<div id="item" style="width: 100%; height: 200px;"
												class="ag-theme-alpine"></div>


										</div>

									</div>
								</div>

								<div id="mySidenav" class="sidenav">
									<div class="slidebox">
										<div class="row">
											<div class="chartbtnsec">
												<div align="right">
													<button class="cancel-btn" onclick="closeNav()">CANCEL</button>
													<button class="approve-btn" id="saveTableData"
														onclick="saveTableData()">SAVE</button>

												</div>
											</div>

											<div class="col-lg-6">
												<div class="form-group">
													<label>Stock Keeping Unit</label> <input type="text"
														id="sku" class="form-control" onblur="removeValid(event)">
												</div>
											</div>
											<div class="col-lg-6 mrt_6">
												<div class="form-group">
													<button id="browseBtnNewForQue" class="browse-btn">Browse</button>
												</div>
											</div>
											<div class="col-lg-6">
												<div class="form-group">
													<div class="autocomplete" style="width: auto">
														<input type="hidden" id="editProduct"> <input
															type="hidden" id="itemId"> <label>Item
															Name</label> <input type="text" id="itemName"
															class="form-control" onblur="removeValid(event)"
															onkeyup='getItemQutotationList()'>
													</div>
													<div id="suggesstion-box_" class="sugg-cls"></div>
												</div>
											</div>

											<div class="col-lg-6">
												<div class="form-group">
													<div class="autocomplete" style="width: auto">
														<label>HSN Code </label> <input type="text" id="hsnCode"
															class="form-control" onkeyup='getItemQutotationList()'>
													</div>
													<div id="suggesstion-boxx_" class="sugg-cls"></div>
												</div>
											</div>

											<div class="col-lg-6">
												<div class="form-group">
													<label>Unit</label>
													<div class="select">
														<select id="unit" onblur="removeValid(event)"
															onkeyup='getItemQutotationList()'>
															<option value="">Select</option>
															<option th:each="c,iter:${unitList}" th:value="${c.key}"
																th:text="${c.name}"></option>
														</select>
													</div>
												</div>

											</div>

											<div class="col-lg-6">
												<div class="form-group">
													<label>Quantity</label> <input type="text" id="quantity"
														class="form-control" onkeyup="calculateLineTotal()">
													<input type="hidden" onblur="removeValid(event)"
														id="quantitynew">
												</div>
											</div>
											<div class="col-lg-6">
												<div class="form-group">
													<label>Unit Price</label><input type="text" id="unitPrice"
														class="form-control" onblur="removeValid(event)"
														onkeyup="calculateLineTotal()">
												</div>
											</div>
											<div class="col-lg-6">
												<div class="form-group">
													<label>Discount</label>
													<div class="d-flex">
														<input type="text" id="discount" class="form-control"
															onkeyup="calculateLineTotal()">
														<div class="select" style="width: 60px;">
															<select id="discountAmount" class="form-control"
																onkeyup="calculateLineTotal()">
																<option value="0" selected>%</option>
																<option value="1">₹</option>
															</select>
														</div>

													</div>
												</div>
											</div>
											<div class="col-lg-6">
												<div class="form-group">
													<label>GST Rate</label><input type="text" id="gstRate"
														class="form-control" onblur="removeValid(event)">
												</div>
											</div>
											<div class="col-lg-6">
												<div class="form-group">
													<label>Line Total</label> <input type="text" id="lineTotal"
														class="form-control" onblur="removeValid(event)">
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>


							<div class="row" id=gstCalS>
								<div class="col-lg-7">
									<div class="mt-4" id="eWayBillSection">
										<div class="card">
											<div class="card-header">
												<div align="left">
													Visit > <a href="https://ewaybill.nic.in/" target="_blank">E
														- Waybill System Website </a>
												</div>
											</div>

											<div class="card-body">
												<div class="row mt-4">
													<div class="col-lg-6">
														<div class="form-group">
															<label>Way Bill No</label><input type="text" id="ebillNo"
																class="form-control" onkeyup="checkNumeric('ebillNo');"
																maxlength="12">
														</div>
													</div>
													<div class="col-md-6">
														<div class="form-group calendar_box">
															<label> Way Bill Date</label> <input type="text"
																id="ebillDate" class="form-control"
																onblur="removeValid(event)"
																th:attr="onkeyup=|formatDate('ebillDate','${session.DATEFORMAT_JS}')|">
															<i class="ti-calendar picker_calendar"
																id="ebillDateCalendar"></i>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="col-lg-5 mt-4">
									<table style="width: 100%">
										<tr>
											<th>
												<div class="row">
													<div class="col-lg-4">Sub Total:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="subTotal" class="form-control"
																readonly>
														</div>
													</div>
												</div>
											</th>

										</tr>
										<tr>
											<th>
												<div class="row" id="totalFreightChargesDtls">
													<input type="hidden" id=ftIGST> <input
														type="hidden" id=ftCGST> <input type="hidden"
														id=ftSGST>
													<div class="col-lg-4">Freight Charges:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="totalFreightCharges"
																class="form-control" readonly>
														</div>
													</div>
												</div>

											</th>
										</tr>
										<tr>
											<th>
												<div class="row" id="totalDiv">
													<div class="col-lg-4">Total:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="total" class="form-control"
																readonly>
														</div>
													</div>
												</div>

											</th>
										</tr>
										<tr class="tbl-box" id="sgstTR">
											<th>
												<div class="row">
													<div class="col-lg-4">SGST:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="qSGST" class="form-control"
																readonly> <input type="hidden" id=qSGSTHid>
														</div>
													</div>
												</div>
											</th>

										</tr>

										<tr id="cgstTR">
											<th>

												<div class="row">
													<div class="col-lg-4">CGST:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="qCGST" class="form-control"
																readonly> <input type="hidden" id=qCGSTHid>
														</div>
													</div>
												</div>
											</th>

										</tr>

										<tr class="tbl-box" id="igstTR">
											<th>
												<div class="row">
													<div class="col-lg-4">IGST:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="qIGST" class="form-control"
																readonly> <input type="hidden" id=qIGSTHid>
														</div>
													</div>
												</div>
											</th>
										</tr>


										<tr>
											<th>
												<div class="row" id="adjustmentDtl">
													<div class="col-lg-4">Adjustment:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="adjustment" class="form-control"
																readonly>
														</div>
													</div>
												</div>

											</th>

										</tr>

										<tr>
											<th>
												<div class="row">
													<div class="col-lg-4">TCS:</div>
													<div class="col-lg-5">
														<div class="form-group">
															<input type="text" class="form-control" id="tcsName"
																placeholder="TCS" readonly> <input type="hidden"
																id="tcsId">
														</div>
														<input type=hidden id="tcsValue">
														<div id="suggesstion-box3_" class="sugg-cls"></div>
													</div>

													<div class="col-lg-3">
														<div class="form-group">
															<input type="text" class="form-control" id="tcsAmount"
																readonly> <input type="hidden" id="tcsId">
														</div>
													</div>
												</div>

											</th>

										</tr>

										<tr>
											<th>
												<div class="row">
													<div class="col-lg-4">Grand Total:</div>
													<div class="col-lg-8">
														<div class="form-group">
															<input type="text" id="grandTotal" class="form-control"
																readonly>
														</div>
													</div>
												</div>
											</th>

										</tr>

									</table>
								</div>
							</div>

						</div>
					</div>
					<!-- delete modal start -->
					<div id="deleteQuot" class="modal fade show" aria-modal="true">
						<div class="modal-dialog modal-confirm">
							<div class="modal-content">
								<div class="modal-header flex-column">
									<!-- <button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="cancelModalBtn()">
										<i class="ti-close modal-close"></i>
									</button> -->
								</div>
								<div class="modal-body">
									<p>Do you really want to delete these records? This process
										cannot be undone.</p>
								</div>
								<div class="modal-footer justify-content-center"
									style="margin-top: -30px;">

									<button type="button" class="cancel-btn" data-dismiss="modal"
										onclick="cancelModalBtn()">Cancel</button>
									<button type="button" class="delete-btn"
										onclick="deleteOnclick()">Delete</button>
								</div>
							</div>
						</div>
					</div>
					<!-- delete item start	 -->
					<div id="deleteProduct" class="modal fade show" aria-modal="true">
						<div class="modal-dialog modal-confirm">
							<div class="modal-content">
								<div class="modal-header flex-column">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="cancelModalProductBtn()">
										<i class="ti-close modal-close"></i>
									</button>
								</div>
								<div class="modal-body">
									<p>Do you really want to delete these records? This process
										cannot be undone.</p>
								</div>
								<div class="modal-footer justify-content-center"
									style="margin-top: -30px;">

									<button type="button" class="cancel-btn" data-dismiss="modal"
										onclick="cancelModalProductBtn();">Cancel</button>
									<button type="button" class="delete-btn"
										onclick="deleteProductOnclick()">Delete</button>
								</div>
							</div>
						</div>
					</div>
					<div class="modal fade" id="myModal">
						<div class="modal-dialog modal-lg" style="margin-top: 130px;">
							<div class="modal-content">

								<!-- Modal Header -->
								<div class="modal-header">
									<h4 class="modal-title md-color">Select Product</h4>
									<button type="button" class="close cp" data-dismiss="modal"
										onclick="closeModal1()">&times;</button>
								</div>

								<!-- Modal body -->
								<div class="modal-body modal-cat">
									<div class="row">

										<div class="col-md-6" df="0"
											style="height: 300px; overflow-y: scroll;">
											<table id="basic">
												<tbody id="productCategoryCBDiv"></tbody>
											</table>


										</div>
										<div class="col-md-6" id="productCategorySelectDiv" df="0"
											style="border-left: 1px solid #ccc;">
											<div>
												<div class="productlist">Select Product</div>
												<div id="select_product"></div>
												<input type="hidden" id="itemNameTemp" /> <input
													type="hidden" id="itemIdTemp" /> <input type="hidden"
													id="brandNameTemp" /> <input type="hidden"
													id="brandIdTemp" /> <input type="hidden" id="skuTemp" />
												<input type="hidden" id="prodCatIdTemp" /> <input
													type="hidden" id="prodCatNameTemp" /> <input type="hidden"
													id="hsnCodeTemp" /> <input type="hidden" id="unitTemp" />
											</div>
										</div>
									</div>
								</div>

								<!-- Modal footer -->
								<div class="modal-footer">
									<div class="chartbtnsec">
										<button class="approve-btn" onclick="selectProductVal()">SELECT</button>
										<button class="cancel-btn" data-dismiss="modal"
											onclick="closeModal1()">CANCEL</button>
									</div>
								</div>

							</div>
						</div>
					</div>
					<!-- alert modal start -->
					<div id="alert" class="modal fade show" aria-modal="true">
						<div class="modal-dialog modal-confirm">
							<div class="modal-content">
								<div class="modal-header flex-column">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="cancelModalBtn()">
										<i class="ti-close modal-close"></i>
									</button>
								</div>
								<div class="modal-body">
									<p id="textId"></p>
								</div>
								<div class="modal-footer justify-content-center"
									style="margin-top: -30px;">

									<button type="button" class="btn1" data-dismiss="modal">SELECT</button>
									<!-- <button type="button" class="btn3" onclick="deleteOnclick()">Delete</button> -->
								</div>
							</div>
						</div>
					</div>


					<div id="deleteAttachment" class="modal fade show"
						aria-modal="true">
						<div class="modal-dialog modal-confirm">
							<div class="modal-content">
								<div class="modal-header flex-column">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="closeDeleteConfirm()">
										<i class="ti-close modal-close"></i>
									</button>
								</div>
								<div class="modal-body">
									<p>Do you really want to delete these records? This process
										cannot be undone.</p>
									<input type="hidden" id="dltValue">
								</div>
								<div class="modal-footer justify-content-center">

									<button type="button" class="cancel-btn" data-dismiss="modal"
										onclick="closeDeleteConfirm()">Cancel</button>
									<button type="button" class="delete-btn"
										onclick="deletAttachmentRow()">Delete</button>
								</div>
							</div>
						</div>
					</div>



					<div class="modal fade" id="manageTCsModel">
						<div class="modal-dialog modal-lg"
							style="margin-top: 130px; height: 900px;">
							<div class="modal-content">

								<!-- Modal Header -->
								<!-- <div class="modal-header flex-column">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="cancelModalBtn()">
										<i class="ti-close modal-close"></i>
									</button>
								</div> -->
								<!-- Modal body -->
								<div class="modal-body">

									<div class="col-md-12" id="tcsInfo">
										<div class="card-title">
											<h4>Manage TCS</h4>
										</div>
										<div class="row">
											<input type="hidden" id="tcsId">
											<div class="col-md-4">
												<div class="form-group">
													<label>Nature Of Collection</label>
													<div class="select">
														<select class="form-control" id="collection">
															<option th:value=null>--Select--</option>
															<option th:each="c:${collectionList}" th:value="${c.key}"
																th:text="${c.name}"></option>
														</select>
													</div>
												</div>
											</div>


											<div class="col-md-4">
												<div class="form-group">
													<label>Rate(%)</label> <input type="text"
														class="form-control" id="rateId" placeholder="Rate(%)">
												</div>
											</div>



											<div class="col-md-4">
												<div class="form-group">
													<input type="hidden" id="collectionId"> <label>Tax
														Name</label> <input type="text" class="form-control" id="taxName"
														placeholder="Tax Name">
												</div>
											</div>
										</div>

										<div class="row mt-4">
											<div class="form-group">

												<button class="btn4" id="canceltcs" onclick="tcscancelBtn()">CANCEL</button>
												<button class="btn1" id="saveTcs" onclick="addtcsInfo1()">SAVE</button>

											</div>
										</div>
									</div>


								</div>
							</div>
						</div>
					</div>


					<div class="modal fade" id="addCustomerModel">
						<div class="modal-dialog modal-lg"
							style="margin-top: 130px; height: 900px;">
							<div class="modal-content">

								<!-- Modal Header -->
								<!-- <div class="modal-header flex-column">
									<div class="row">
										<div class="form-group">
												<div class="card-title">
													<h4>Customer Information</h4>
												</div>
											</div>
										</div>
								</div> -->
								<!-- Modal body -->
								<div class="modal-body">
									<div class="innerstickybg">
										<div class="d-flex justify-content-between" id="main">
											<div class="col-md-3" id="idDiv">
												Customer ID: <span id="customerId"></span>
											</div>
											<div>
												<span class="taskInfo">Customer Information</span>
											</div>
										</div>
									</div>

									<div class="row">
										<div class="innercontent">

											<!-- <div class="row"> -->
											<div class="row">

												<!--   <div class="col-md-4">
											<div class="form-group">
												<label>Customer Type</label>
												<div class="select">
													<select id="bankName">
														<option value="">Select Bank</option>
														<option th:each="c,iter:${bankList}" th:value="${c.key}"
															th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div> -->


												<div class="col-md-4">
													<div class="form-group">
														<label>Customer Type</label>

														<div class="select">
															<select id="customerType">
																<option value="">Select</option>
																<option value="Business">Business</option>
																<option value="Individual">Individual</option>
															</select>
														</div>
													</div>
												</div>


												<div class="col-md-4">
													<div class="form-group">
														<label>Salutation</label>
														<div class="select">
															<select id="salutation" onchange="showDisplay()">
																<option value="">Select</option>
																<option value="Mr.">Mr.</option>
																<option value="Mrs.">Mrs.</option>
																<option value="Ms.">Ms.</option>
																<option value="Miss.">Miss.</option>
																<option value="Dr.">Dr.</option>
																<option value="Prof.">Prof.</option>
															</select>
														</div>
													</div>
												</div>

												<div class="col-md-4">
													<div class="form-group">
														<label>Customer Name</label> <input type="text"
															class="form-control" id="customerName"
															placeholder="Customer Name" onblur="showDisplay()">
													</div>
												</div>

												<div class="col-md-4">
													<div class="form-group">
														<label>Company Name</label> <input type="text"
															class="form-control" id="companyName"
															placeholder="Company Name">
													</div>
												</div>

												<div class="col-md-4">
													<div class="form-group">
														<label>Customer Display Name</label> <input type="text"
															class="form-control" id="customerDisplayName"
															placeholder="Customer Display Name" disabled>
													</div>
												</div>

												<div class="col-md-4">
													<div class="form-group">
														<label>Customer Email</label> <input type="text"
															class="form-control" id="cusEmail" placeholder="Email">
													</div>
												</div>

												<div class="col-md-4">
													<div class="form-group">
														<label>Customer Mobile</label> <input type="text"
															class="form-control" id="custMobile" placeholder="Mobile">
													</div>
												</div>


												<div class="col-md-4">
													<div class="form-group">
														<label>Customer Skype</label> <input type="text"
															class="form-control" id="custSkype"
															placeholder="Customer Skype">
													</div>
												</div>

												<div class="col-md-4">
													<div class="form-group">
														<label>Customer Designation</label> <input type="text"
															class="form-control" id="custDesignation"
															placeholder="Customer Designation">
													</div>
												</div>

												<div class="col-md-4">
													<div class="form-group">
														<label>Department</label> <input type="text"
															class="form-control" id="department"
															placeholder="Department">
													</div>
												</div>


												<div class="col-md-4">
													<div class="form-group">
														<label>Web Site</label> <input type="text"
															class="form-control" id="webSite" placeholder="Web Site">
													</div>
												</div>


												<div class="col-md-4">
													<div class="form-group">
														<label>Status</label>
														<div class="select">
															<select id="status">
																<option value="">Select</option>
																<option value="Active">Active</option>
																<option value="Inactive">Inactive</option>
															</select>
														</div>
													</div>
												</div>


											</div>
										</div>

										<div class="accordion-item">
											<h2 class="accordion-header" id="headingTwo">
												<button class="accordion-button" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseTwo"
													aria-expanded="true" aria-controls="collapseTwo">
													Other Details</button>
											</h2>
											<div id="collapseTwo"
												class="accordion-collapse collapse show"
												aria-labelledby="headingTwo"
												data-bs-parent="#accordionExample">
												<div class="accordion-body">

													<div class="row">
														<div class="col-md-4">
															<div class="form-group">
																<label>PAN</label> <input type="text"
																	class="form-control" id="pan" placeholder="PAN">
															</div>
														</div>


														<div class="col-md-4">
															<div class="form-group">
																<label>Currency</label>
																<div class="select">
																	<select id="currency">
																		<option value="">Select</option>
																		<option value="AED-UAE Dirham">AED-UAE Dirham</option>
																		<option value="AUD-Australian Doller">AUD-Australian
																			Dollar</option>
																		<option value="CAD-Canadian Doller">CAD-Canadian
																			Dollar</option>
																		<option value="CNY-Yuan Renminbi">CNY-Yuan
																			Renminbi</option>
																		<option value="EUR-Euro">EUR-Euro</option>
																		<option value="GBP-Pound Sterlin">GBP-Pound
																			Sterlin</option>
																		<option value="JPY-Japanese Yen">JPY-Japanese
																			Yen</option>
																		<option value="SAR-Saudi Riyal">SAR-Saudi
																			Riyal</option>
																		<option value="USD-United State Doller">USD-United
																			State Dollar</option>
																		<option value="ZAR-South Africa Rand">ZAR-South
																			Africa Rand</option>
																	</select>
																</div>
															</div>
														</div>


														<div class="col-md-4">
															<div class="form-group">
																<label>Opening Balance</label> <input type="text"
																	class="form-control" id="openingBalance"
																	placeholder="Opening Balance">
															</div>
														</div>


														<div class="col-md-4">
															<div class="form-group">
																<label>Payment Terms</label>
																<div class="select">
																	<select id="paymentTerms">
																		<option value="">Select</option>
																		<option value="Net 15">Net 15</option>
																		<option value="Net 30">Net 30</option>
																		<option value="Net 45">Net 45</option>
																		<option value="Net 60">Net 60</option>
																		<option value="Due end of the month">Due end
																			of the month</option>
																		<option value="Due end of the next month">Due
																			end of the next month</option>
																		<option value="Due on receipt">Due on receipt</option>
																	</select>
																</div>
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>Enable Portals</label><br> <input
																	type="checkbox" class="form-control" id="enableDtls"
																	placeholder="Enable Details"> <label>Allow
																	portal acces for this customer</label>
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>Portable Language</label>

																<div class="select">
																	<select id="portableLang">
																		<option value="">Select</option>
																		<option value="English">English</option>
																		<option value="HIndi">Hindi</option>
																		<option value="Bengali">Bengali</option>
																		<option value="Odia">Odia</option>
																		<option value="French">French</option>
																		<option value="Spanish">Spanish</option>
																		<option value="Bahasa Indonesia">Bahasa
																			Indonesia</option>
																		<option value="Italian">Italian</option>
																		<option value="Dutch">Dutch</option>
																		<option value="Sanskrit">Sanskrit</option>
																	</select>
																</div>
															</div>
														</div>


														<div class="col-md-4">
															<div class="form-group">
																<label>FaceBook</label> <input type="text"
																	class="form-control" id="faceBook"
																	placeholder="FaceBook">
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>Twitter</label> <input type="text"
																	class="form-control" id="twitter" placeholder="Twitter">
															</div>
														</div>


													</div>

												</div>
											</div>
										</div>


										<div class="accordion-item">
											<h2 class="accordion-header" id="headingTwo2">
												<button class="accordion-button" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseTwo2"
													aria-expanded="true" aria-controls="collapseTwo2">
													Billing Address Details</button>
											</h2>
											<div id="collapseTwo2"
												class="accordion-collapse collapse show"
												aria-labelledby="headingTwo2"
												data-bs-parent="#accordionExample">
												<div class="accordion-body">

													<div class="row">

														<div class="col-md-4">
															<div class="form-group">
																<label>Country</label>
																<div class="select">
																	<select id="country" onchange="getStateDetails()">
																		<option th:value="NULL">Select Country</option>
																		<option th:each="c,iter:${countryList}"
																			th:value="${c.key}" th:text="${c.name}"></option>
																	</select>
																</div>
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>State</label>
																<div class="select">
																	<select id="states">
																		<option th:value="NULL">Select State</option>
																		<!-- <option th:each="c,iter:${statesList}"
													th:value="${c.key}" th:text="${c.name}"></option> -->
																	</select> <span class="focus"></span>
																</div>
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>City</label> <input type="text"
																	class="form-control" id="city" placeholder="City">
															</div>
														</div>


														<div class="col-md-4">
															<div class="form-group">
																<label>Street 1</label> <input type="text"
																	class="form-control" id="street1"
																	placeholder="Street 1">
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>Street 2</label> <input type="text"
																	class="form-control" id="street2"
																	placeholder="Street 2">
															</div>
														</div>



														<div class="col-md-4">
															<div class="form-group">
																<label>ZipCode</label> <input type="text"
																	class="form-control" id="zipCode"
																	placeholder="Zip Code">
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>Phone</label> <input type="text"
																	class="form-control" id="phone" placeholder="Phone">
															</div>
														</div>


														<div class="col-md-4">
															<div class="form-group">
																<label>Fax</label> <input type="text"
																	class="form-control" id="fax" placeholder="Fax">
															</div>
														</div>

													</div>

												</div>
											</div>
										</div>
										<div class="accordion-item">
											<h2 class="accordion-header" id="headingTwo2">
												<button class="accordion-button" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseTwo2"
													aria-expanded="true" aria-controls="collapseTwo2">
													Shipping Address Details</button>
												<div class="btnbill">
													<button class="btn btn-primarynew"
														onclick="copyAsBillingAdd()">Copy As Billing
														Address</button>
												</div>
											</h2>
											<div id="collapseTwo2"
												class="accordion-collapse collapse show"
												aria-labelledby="headingTwo2"
												data-bs-parent="#accordionExample">
												<div class="accordion-body">

													<div class="row">

														<div class="col-md-4">
															<div class="form-group">
																<label>Country</label>
																<div class="select">
																	<select id="country1" onchange="getStateDetails1()">
																		<option th:value="NULL">Select Country</option>
																		<option th:each="c,iter:${countryList}"
																			th:value="${c.key}" th:text="${c.name}"></option>
																	</select>
																</div>
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>State</label>
																<div class="select">
																	<select id="states1">
																		<option th:value="NULL">Select State</option>
																		<!-- <option th:each="c,iter:${statesList}"
													th:value="${c.key}" th:text="${c.name}"></option> -->
																	</select> <span class="focus"></span>
																</div>
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>City</label> <input type="text"
																	class="form-control" id="city1" placeholder="City">
															</div>
														</div>


														<div class="col-md-4">
															<div class="form-group">
																<label>Street 1</label> <input type="text"
																	class="form-control" id="street11"
																	placeholder="Street 1">
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>Street 2</label> <input type="text"
																	class="form-control" id="street21"
																	placeholder="Street 2">
															</div>
														</div>



														<div class="col-md-4">
															<div class="form-group">
																<label>ZipCode</label> <input type="text"
																	class="form-control" id="zipCode1"
																	placeholder="Zip Code">
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>Phone</label> <input type="text"
																	class="form-control" id="phone1" placeholder="Phone">
															</div>
														</div>


														<div class="col-md-4">
															<div class="form-group">
																<label>Fax</label> <input type="text"
																	class="form-control" id="fax1" placeholder="Fax">
															</div>
														</div>

													</div>

												</div>
											</div>
										</div>

										<div class="accordion-item">
											<h2 class="accordion-header" id="headingTwo3">
												<button class="accordion-button" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseTwo3"
													aria-expanded="true" aria-controls="collapseTwo3">
													Contact Person Details</button>
											</h2>
											<div id="collapseTwo3"
												class="accordion-collapse collapse show"
												aria-labelledby="headingTwo3"
												data-bs-parent="#accordionExample">
												<div class="accordion-body">

													<div class="row">
														<div class="col-md-4">
															<div class="form-group">
																<label>Salutation</label>
																<div class="select">
																	<select id="salutation1">
																		<option value="">Select</option>
																		<option value="Mr.">Mr.</option>
																		<option value="Mrs.">Mrs.</option>
																		<option value="Ms.">Ms.</option>
																		<option value="Miss.">Miss.</option>
																		<option value="Dr.">Dr.</option>
																		<option value="Prof.">Prof.</option>
																	</select>
																</div>
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>First Name</label> <input type="text"
																	class="form-control" id="firstName"
																	placeholder="first Name">
															</div>
														</div>

														<div class="col-md-4">
															<div class="form-group">
																<label>Last Name</label> <input type="text"
																	class="form-control" id="lastName"
																	placeholder="last Name">
															</div>
														</div>


														<div class="col-md-4">
															<div class="form-group">
																<label>Email Address</label> <input type="text"
																	class="form-control" id="emailAdd" placeholder="Email">
															</div>
														</div>


														<div class="col-md-4">
															<div class="form-group">
																<label>Mobile</label> <input type="text"
																	class="form-control" id="mobile" placeholder="Mobile">
															</div>
														</div>

													</div>

												</div>
											</div>
										</div>


										<div class="accordion-item">
											<h2 class="accordion-header" id="headingTwo4">
												<button class="accordion-button" type="button"
													data-bs-toggle="collapse" data-bs-target="#collapseTwo4"
													aria-expanded="true" aria-controls="collapseTwo4">
													Remark Details</button>
											</h2>
											<div id="collapseTwo4"
												class="accordion-collapse collapse show"
												aria-labelledby="headingTwo4"
												data-bs-parent="#accordionExample">
												<div class="accordion-body">

													<div class="row">
														<div class="col-md-8">
															<div class="modal-inrheading">Remarks</div>
															<div class="position-text">
																<textarea rows="4" cols="100" id="remarks"
																	onkeyup="textCount(event)"></textarea>
																<div id="charNumSN" class="txtcounter" align="right">
																	<span>0</span> characters
																</div>
															</div>
														</div>


													</div>

												</div>
											</div>
										</div>

										<div class="row mt-4">
											<div class="form-group">

												<button class="btn4" id="cancel" onclick="cancelBtn1()">CANCEL</button>
												<button class="btn1" id="save" onclick="addCustomerInfo()">SAVE</button>

											</div>
										</div>

									</div>

								</div>


							</div>
						</div>
					</div>



					<div class="modal fade" id="addAddressModel">
						<div class="modal-dialog modal-lg"
							style="margin-top: 130px; height: 900px;">
							<div class="modal-content">

								<!-- Modal Header -->
								<div class="modal-header flex-column">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="cancelModalBtn()">
										<i class="ti-close modal-close"></i>
									</button>
								</div>
								<!-- 	Modal body -->
								<div class="modal-body">

									<div class="col-md-12" id="billingInfo">
										<div class="card-title">
											<h4>Billing Address</h4>
										</div>
										<div class="row">

											<div class="col-md-4">
												<div class="form-group">
													<label>Country</label>
													<div class="select">
														<select id="countryb" onchange="getStateDetailsb()">
															<option th:value="NULL">Select Country</option>
															<option th:each="c,iter:${countryList}"
																th:value="${c.key}" th:text="${c.name}"></option>
														</select>
													</div>
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group">
													<label>State</label>
													<div class="select">
														<select id="statesb">
															<option th:value="NULL">Select State</option>
															<option th:each="c,iter:${statesList}"
																th:value="${c.key}" th:text="${c.name}"></option>
														</select> <span class="focus"></span>
													</div>
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group">
													<label>City</label> <input type="text" class="form-control"
														id="cityb" placeholder="City">
												</div>
											</div>


											<div class="col-md-4">
												<div class="form-group">
													<label>Street 1</label> <input type="text"
														class="form-control" id="street1b" placeholder="Street 1">
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group">
													<label>Street 2</label> <input type="text"
														class="form-control" id="street2b" placeholder="Street 2">
												</div>
											</div>



											<div class="col-md-4">
												<div class="form-group">
													<label>ZipCode</label> <input type="text"
														class="form-control" id="zipCodeb" placeholder="Zip Code">
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group">
													<label>Phone</label> <input type="text"
														class="form-control" id="phoneb" placeholder="Phone">
												</div>
											</div>


											<div class="col-md-4">
												<div class="form-group">
													<label>Fax</label> <input type="text" class="form-control"
														id="faxb" placeholder="Fax">
												</div>
											</div>

										</div>

										<div class="row mt-4">
											<div class="form-group">

												<button class="btn4" id="cancel" onclick="cancelBtn()">CANCEL</button>
												<button class="btn1" id="save" onclick="addCustomerInfo2()">SAVE</button>

											</div>
										</div>
									</div>

								</div>
							</div>
						</div>
					</div>



					<div class="modal fade" id="addAddressModel1">
						<div class="modal-dialog modal-lg"
							style="margin-top: 130px; height: 900px;">
							<div class="modal-content">

								<!-- 	Modal Header -->
								<div class="modal-header flex-column">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="cancelModalBtn()">
										<i class="ti-close modal-close"></i>
									</button>
								</div>
								<!-- Modal body -->
								<div class="modal-body">

									<div class="col-md-12" id="shippingInfo">
										<div class="card-title">
											<h4>Shipping Address</h4>
										</div>
										<div class="row">

											<div class="col-md-4">
												<div class="form-group">
													<label>Country</label>
													<div class="select">
														<select id="country1s" onchange="getStateDetailss()">
															<option th:value="NULL">Select Country</option>
															<option th:each="c,iter:${countryList}"
																th:value="${c.key}" th:text="${c.name}"></option>
														</select>
													</div>
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group">
													<label>State</label>
													<div class="select">
														<select id="states1s">
															<option th:value="NULL">Select State</option>
															<option th:each="c,iter:${statesList}"
																th:value="${c.key}" th:text="${c.name}"></option>
														</select> <span class="focus"></span>
													</div>
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group">
													<label>City</label> <input type="text" class="form-control"
														id="city1s" placeholder="City">
												</div>
											</div>


											<div class="col-md-4">
												<div class="form-group">
													<label>Street 1</label> <input type="text"
														class="form-control" id="street11s" placeholder="Street 1">
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group">
													<label>Street 2</label> <input type="text"
														class="form-control" id="street21s" placeholder="Street 2">
												</div>
											</div>



											<div class="col-md-4">
												<div class="form-group">
													<label>ZipCode</label> <input type="text"
														class="form-control" id="zipCode1s" placeholder="Zip Code">
												</div>
											</div>

											<div class="col-md-4">
												<div class="form-group">
													<label>Phone</label> <input type="text"
														class="form-control" id="phone1s" placeholder="Phone">
												</div>
											</div>


											<div class="col-md-4">
												<div class="form-group">
													<label>Fax</label> <input type="text" class="form-control"
														id="fax1s" placeholder="Fax">
												</div>
											</div>

										</div>

										<div class="row mt-4">
											<div class="form-group">

												<button class="btn4" id="cancel" onclick="cancelBtn2()">CANCEL</button>
												<button class="btn1" id="save" onclick="addCustomerInfo1()">SAVE</button>

											</div>
										</div>
									</div>

								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
</body>
</html>