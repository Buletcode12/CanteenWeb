<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">

<head>
<style type="text/css">
.highcharts-exporting-group {
	display: none;
}


.modal-content1 {
	position: relative;
	display: flex;
	flex-direction: column;
	width: 120%;
	pointer-events: auto;
	background-color: #fff;
	background-clip: padding-box;
	border: 1px solid rgba(0, 0, 0, .2);
	border-radius: 0.3rem;
	outline: 0;
}

.btn-primarynew {
	color: #fff !important;
	background-color: #0d6efd;
	border-color: #0d6efd;
}

.slidebox {
	padding: 14px;
	margin-top: 0px;
	margin: 0px 10px;
}

.form-group label {
	font-size: 12px;
	position: relative;
	top: 4px;
}

.holdCls {
	background-color: rgb(0, 143, 0);
}

.bg_white {
	background: #ffffff !important;
}

.blueClsWT {
	background: #0076ba;
	color: #fff;
}

.blueCls {
	background: #0076ba;
	color: #fff;
}

.blueClsWT::before {
	font-size: 8px;
	color: #FFF;
	content: '\e64c';
	font-family: 'themify';
	padding-right: 7px;
}

.modal-body table td input[type=checkbox] {
	width: 0px;
	margin-right: 16px;
	position: relative;
	top: 0px;
	float: none;
}

.firstnode {
	color: #929292;
	border-top: 1px solid transparent !important;
	border-left: 1px solid transparent !important;
	border-bottom: 1px solid transparent !important;
	width: 320px;
	font-size: 12px;
	font-weight: 100;
}

.simple-tree-table-closed .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
	transform: rotate(90deg);
}

.simple-tree-table-opened .simple-tree-table-icon:after {
	content: "\f105" !important;
	font-family: 'FontAwesome';
	color: black;
	display: inline-block;
	margin-right: 6px;
}
.modalbtn {
    width: auto!important;
    font-size: 11px!important;
    float: left!important;
    margin-left: 0!important;
    font-weight: 100;
}
.simple-tree-table-icon {
	display: inline-block;
	width: 1.5em;
	line-height: 1.5em;
	margin: 0.1em;
	background-color: transparent;
	text-align: center;
	cursor: pointer;
}

.tptCls {
	background: transparnt;
}

.picker_calendar2 {
	cursor: pointer;
	position: absolute;
	top: 38px;
	right: 13px;
}

.font-small {
	font-size: 13px;
}

.billtxt {
	color: #777 !important;
	font-size: 14px;
	margin-top: 10px;
	text-transform: uppercase;
	display: block;
}

.fa {
	display: inline-block;
	font: normal normal normal 14px/1 FontAwesome;
	font-size: inherit;
	text-rendering: auto;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}
/* .btn-primarynew {
    color: #fff!important;
    background-color: #0d6efd;
    border-color: #0d6efd;
} */
/* .preserve-wrap{
display:none;
}
.preserve-wrap1{
display:block;
} */
.form-controls {
	font-family: 'Montserrat', sans-serif;
	display: block;
	width: 100%;
	font-size: 12px;
	color: #929292;
	background-color: transparent;
	background-clip: padding-box;
	border: 1px solid #d5d5d5;
	transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;
	line-height: 30px;
	border-radius: 0;
	padding: 0;
}

.autocomplete {
	position: relative;
	display: inline-block;
	width: 100%;
}

a.addCustnew {
	color: #fff;
	font-size: 13px !important;
}

a.addCust {
	color: #fff;
}

.sugg-cls ul {
	height: 150px;
	overflow-x: scroll;
	position: relative;
}

ul#autocomplete-list1 {
	position: relative;
	z-index: 999;
}

ul#autocomplete-list1 li {
	position: relative;
	color: #fff;
	padding-left: 6px;
	background-color: #1f57a8;
	border-bottom: solid 1px #6189c2;
	padding-top: 5px;
	padding-bottom: 5px;
}
sugg-cls ul {
	height: 150px;
	overflow-x: scroll;
	position: relative;
}

ul#autocomplete-list1 {
	position: relative;
	z-index: 999;
}

ul#autocomplete-list1 li {
	position: relative;
	color: #fff;
	padding-left: 6px;
	background-color: #1f57a8;
	border-bottom: solid 1px #6189c2;
	padding-top: 5px;
	padding-bottom: 5px;
}
.mrtop {
	margin-top: 5px;
}
label.lbl {
	position: relative;
	top: -2px !important;
}
</style>
<script>
	$(document)
			.ready(

					function() {
						$('#deallocateVendor').attr("disabled", true);
						  $('#allocateVendor').attr("disabled", true);
						  $('#rType').hide();

					
						  

							var dateFormat = localStorage.getItem("dateFormat");
							$("#receiveDateCalendar1").datetimepicker({
								format : 'd-m-Y',
								closeOnDateSelect : true,
								timepicker : false,
								datepicker : true,
								scrollMonth : false,
								
							}).on("change", function() {
								$('#receiveDate').val($(this).val());
							})
							$('#receiveDate').blur(function() {
								$("#receiveDateCalendar1").val($(this).val());
							})
							
							
						var gridDiv = document.querySelector('#myGrid');
						new agGrid.Grid(gridDiv, gridOptions);

						var gridDiv = document.querySelector('#item');
						new agGrid.Grid(gridDiv, itemOptions);
						var gridDiv = document.querySelector('#vendor');
						new agGrid.Grid(gridDiv, vendorOptions);

						$("#toDateCalendarDt").hide();
						$("#Cancel").hide();
						$("#addData").hide();
						$("#save").hide();

						$('#delete').attr("disabled", true);

						$("#Cancel").click(function() {
							$('.loader').show();
							$("body").addClass("overlay");
							$("#reqTable").show();
							$(".btn-hs").show();
							$("#myGrid").show();
							$("#addData").hide();
							agGrid.simpleHttpRequest({
								url : "view-purchase-quotation-through-ajax"
							}).then(function(data) {
								var len = data.length;
								$('#totalCandidate').find('span').html(len);
								gridOptions.api.setRowData(data);
							});
							
							/* agGrid.simpleHttpRequest({
								url : 'view-purchase-quotation-vendor-trough-ajax'
							}).then(function(data) {
								vendorOptions.api.setRowData(data);
							}); */
							/* 
							var dateFormat = localStorage.getItem("dateFormat");

							$("#receiveDateCalendar").datetimepicker({
								format : dateFormat,
								closeOnDateSelect : true,
								timepicker : false,
							}).on("change", function() {
								$('#receiveDate').val($(this).val());
							})

							$('#receiveDate').blur(function() {
								$("#receiveDateCalendar").val($(this).val());
							}) */
							
							
							$("#rfqId").val('');
							$("#pohedId").html('');
							$("#reference").val('');
							$("#vendorId").val('');
							$("#vendorName").val('');
							$("#qutValidDate").val('');
							$("#qutActive").val('');
							$("#qutUpdatedOn").val('');
							$("#itemId").val('');
							$("#itemName").val('');
							$("#quantity").val('');
							$("#unitPrice").val('');
							$("#lineTotal").val('');
							$("#sku").val('');
							$("#itemIgst").val();
							$("#itemCgst").val();
							$("#itemSgst").val();

							$('.loader').hide();
							$("body").removeClass("overlay");
						});
						gridOptions.api.setRowData();
						itemOptions.api.setRowData();

						agGrid.simpleHttpRequest({
							url : "view-purchase-quotation-through-ajax"
						}).then(function(data) {
							var len = data.length;
							$('#totalCandidate').find('span').html(len);
							gridOptions.api.setRowData(data);
						});
					

						$("#browseBtn").click(function() {
							$("#itemName").val(null);
							$("#hsnCode").val(null);
							$("#unit").val(null);
							$("#itemNameTemp").val(null);
							$("#hsnCodeTemp").val(null);
							$("#unitTemp").val(null);
							$("#myModal").modal('show');

						})
						       $("#skuPurchase").change(function(){
    	var sku = $(this).val();
    	$("#variantTypeSpan").text("");
		$("#variantValueSpan").text("");
		$("#variantUnitSpan").text("");
    	if(sku) {
    		obj = {};
    		obj.key = $("#productId").val();
    		obj.name = sku;
    		$.ajax({
				type : "POST",
				url : "view-purchase-quotation-get-variant-dtls",
				dataType : 'json',
				contentType : 'application/json',
				data : JSON.stringify(obj),
				success : function(response) {
					if (response.message == "success") {
						$("#variantTypeSpan").text(response.body.key);
			    		$("#variantValueSpan").text(response.body.name);
			    		$("#variantUnitSpan").text(response.body.code);
					}
				}, error : function(data) {
					console.log(data)
				}
    		});
    	} else {
    		$("#variantTypeSpan").text("");
    		$("#variantValueSpan").text("");
    		$("#variantUnitSpan").text("");
    	}
    })
						$("#categoryBtn").click(function(){
						    	
						    	//closeModal();
						    	$("#myModall").modal('show');
						    	$('#addItemModel').modal('hide');
						    	getCategoryList();
						    	
					    })
					    			$("#selectCategory").click(function(){ 
    	  $('#addItemModel').modal('show');  
    	var id = $("#tempCategoryId").val();
		var lvl = $("#prLevelId").val();
		
		if(id && lvl) {
			$("#prCategoryId").val(id);
			if(lvl == 'L1') {
				var textDesc = $("#lbl_"+id).text();
				$("#catDesc").text(textDesc);
			} else {
				var res = lvl.substring(1, 1000000);
				
				var lastText = $("#lbl_"+id).text();
				var textDesc = "";
				for(i = res; i > 1; i--) {
					var pUL = $("#"+id).attr("data-node-pid");
					//pUL = pUL.substring(3, 10000000000000);
					var newText = $("#lbl_"+pUL).text();
					console.log(newText+" "+i)
					textDesc =  newText+" > "+textDesc ; 
					id = pUL;
				}
				textDesc = textDesc + lastText;
				$("#catDesc").html(textDesc);
			}
		}
		$("#myModall").modal("hide");
		closeModall();
    })
    
       					
$("#saveSKUData").click(function(){
    	
    	obj = {};
    	
    	obj.isEdit = $("#isEdit").val();
    	obj.productId = $("#productId").val();
    	obj.sku = $("#skuId").val();
    	obj.model = $("#model").val();
    	obj.manufacture = $("#manufacture").val();
    	obj.variationType = $("#variationType").val();
    	obj.variationValue = $("#variationValue").val();
    	obj.unit = $("#itemUnit").val();
    	var price = $("#salePrice").val();
    	price = price.replaceAll(",","");
    	obj.salePrice = price;
    	obj.saleTax = $("#saleTax").val();
    	obj.saleCess = $("#saleCess").val();
    	
    	$(".formValidation").remove();
		allValid = true;
	
		if( obj.manufacture == null || obj.manufacture == ""){
			allValid = false;
			validationModal("Item Name Required","manufacture");
		} 
		if( obj.unit == null || obj.unit == ""){
			var mode = $("#mode").val();
			if (mode=="PMODE00004"){
				allValid = true;
			}else{
				allValid = false;
				validationModal("UOM Required","itemUnit");
			}
		} 
		if( obj.salePrice == null || obj.salePrice == ""){
			allValid = false;
			validationModal("Sale Price Required","salePrice");
		}    	
		if(allValid) {
			submitProductDetails(obj);
		}    	
    })

    
         $("#savePurchaseDtls").click(function(){
    	
    	obj = {};
    	
    	obj.isEdit = $("#isEditPurchase").val();
    	obj.productId = $("#productId").val();
    	obj.sku = $("#skuPurchase").val();
    	obj.vendorId = $("#itemVendorId").val();
    	var price = $("#purchasePrice").val();
    	price = price.replaceAll(",","");
    	obj.salePrice = price;
    	obj.saleTax = $("#purchaseTax").val();
    	obj.saleCess = $("#purchaseCess").val();
    	obj.moq = $("#moq").val();
    	obj.editSKUId = $("#editSKUId").val();
    	obj.editVendorId = $("#editVendorId").val();
    	
    	
    	$(".formValidation").remove();
		allPurValid = true;
		if( $("#skuPurchase").val() == null || $("#skuPurchase").val() == ""){
			allPurValid = false;
			validationModal("SKU Required","skuPurchase");
		} 
		if( obj.vendorId == null || obj.vendorId == ""){
			allPurValid = false;
			validationModal("Vendor Required","itemVendorId");
		} 
		if( obj.salePrice == null || obj.salePrice == ""){
			allValid = false;
			validationModal("Purchase Price Required","purchasePrice");
		} 
		if( obj.moq == null || obj.moq == ""){
			allPurValid = false;
			validationModal("MOQ Required","moq");
		} 
    	
		if(allPurValid) {
			submitPurchaseDetails(obj);
		}
    	
    })
					$("#productSave").click(function(){
    	  
    	var data = [];
        $(".hvrbox-layer_bottom").each(function(i) {
        	var xyz = "";
        	 toDataUrl($(this).attr("src"), function(myBase64) {
        		
        		 xyz = myBase64;
        		 data.push(myBase64);
        		 console.log(xyz)
        	});  
         	 
        })
    
	
          obj = {};
   
            obj['productId'] = $("#productId").val();
            obj['productName'] = $("#productName").val();
            obj['brand'] = $("#itemBrand").val();
            obj['mode'] = $("#mode").val();
            obj['hsnCode'] = $("#hsnCodeProduct").val();
            obj['sicCode'] = $("#sicCode").val();
            obj['productStatus'] = $("input[name='isActive']:checked").val();
            obj['productCategory'] = $("#prCategoryId").val();
            obj['productCategoryText'] = $("#catDesc").text();
            obj['imgList'] = data;
            $(".formValidation").remove();
           allPValid = true;
    		if( $("#productName").val() == null || $("#productName").val() == ""){
    			allPValid = false;
    			validationModal("Product Name Required","productName");
    		} 
    	/* 	if( $("#itemBrand").val() == null || $("#itemBrand").val() == ""){
    			allPValid = false;
    			validationModal("Brand Required","itemBrand");
    		}  */
    		if( $("#mode").val() == null || $("#mode").val() == ""){
    			allPValid = false;
    			validationModal("Mode Required","mode");
    		} 
    		if( $("#hsnCodeProduct").val() == null || $("#hsnCodeProduct").val() == ""){
    			allPValid = false;
    			validationModal("HSN/SAC Code Required","hsnCodeProduct");
    		} 
    		var productId = $('#productheadId').html();
            if(allPValid) {
            	if(productId!=""){
            		var rowCount = skuOptions.api.getDisplayedRowCount();
	            		if(rowCount>0){
	            			submitProduct(obj);
	            		}else{
	                      	$("body").removeClass("overlay");
	                      	$("#messageParagraph").text("Please Select Atleast one Item");
	                      	$("#msgOkModal").removeClass("btn3");
	                      	$("#msgOkModal").addClass("btn1");
	                      	$("#msgModal").modal('show');
	            		}
              }else{
            	submitProduct(obj);
              }
            }
    })

						/* 
						product category	 
						 */
						$("#browseBtn")
								.click(
										function() {

											
											$(".benefitChk").prop("checked",
													false);
											$("#productModName").val("");
											$("#brand").val("");
											$("#skuMod").val("");
											$("#modelMod").val("");
											$("#manufactureItemMod").val("");
											$("#variationTypeMod").val("");
											$("#variationValueMod").val("");
											$("#unitMod").val("");
											$("#productCategoryCBDiv").empty();
											$("#select_product").empty();
											$('.loader').show();
											$("body").addClass("overlay");
											$("#productDiv").modal("show");
											$
													.ajax({
														type : "POST",
														url : "view-purchase-quotation-item-get-product-list",
														dataType : "json",
														contentType : "application/json",
														data : "a",
														success : function(
																response) {
															if (response.message == "success") {
																for (var i = 0; i < response.body.length; i++) {
																	var row = "";
																	if (response.body[i].categoryId == response.body[i].parentId) {
																		if (response.body[i].nodeCount > 0) {

																			row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'
																					+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'
																					+ response.body[i].categoryName
																					+ '</td></tr>';
																		} else {
																			row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'
																					+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk pc1-box" type="checkbox" id="ccCheck_'
																					+ response.body[i].categoryId
																					+ '" value="'
																					+ response.body[i].categoryId
																					+ '" name="'
																					+ response.body[i].categoryName
																					+ '" onchange=selectCheckBox("'
																					+ response.body[i].categoryId
																					+ '","'
																					+ response.body[i].catLevel
																					+ '")>'
																					+ response.body[i].categoryName
																					+ '</td></tr>';
																		}

																	} else {
																		if (response.body[i].nodeCount > 0) {
																			row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'
																					+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'
																					+ response.body[i].categoryName
																					+ '</td></tr>';
																		} else {

																			row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'
																					+ '<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk pc1-box" type="checkbox" id="ccCheck_'
																					+ response.body[i].categoryId
																					+ '" value="'
																					+ response.body[i].categoryId
																					+ '" name="'
																					+ response.body[i].categoryName
																					+ '" onchange=selectCheckBox("'
																					+ response.body[i].categoryId
																					+ '","'
																					+ response.body[i].catLevel
																					+ '")>'
																					+ response.body[i].categoryName
																					+ '</td></tr>';
																		}
																	}
																	$(
																			"#productCategoryCBDiv")
																			.append(
																					row);

																}

																$('.loader')
																		.hide();
																$("body")
																		.removeClass(
																				"overlay");

																$('#basic')
																		.simpleTreeTable(
																				{
																					expander : $('#expander'),
																					collapser : $('#collapser'),
																					store : 'session',
																					storeKey : 'simple-tree-table-basic'
																				});
															}
														},
														error : function(data) {
															
															$('.loader').hide();
															$("body")
																	.removeClass(
																			"overlay");
															$("#productDiv")
																	.modal(
																			"show");
														}
													});
										})
										
										
					var ld = localStorage.getItem('ReqRFQData');
						var data = JSON.parse(ld);
						console.log(data)
						if (data) {
							$("#delete").hide();
							$("#invoiceBtn").hide();
							$("#customerData").hide();
							$('#hideTbl').hide();
							$('#searchRowDiv').hide();
							$("#add").hide();
							$("#myGrid").hide();
							$("#save").show();
							$("#Cancel").show();
							$("#approvePorder").hide();
							$("#documentDetails").show();
							$("#addData").show();
							$("#totalCandidate").hide();
							$("#dwnld").hide();
							$('#delete1').attr("disabled", true);
							$('#fetchBtn').attr("disabled", true);
							$("#upld").hide();
							$("#reqHeadId").html();
							itemOptions.api.setRowData(data);
							$("#indentId").val(data[0].indentId);
							$("#project").val(data[0].project);
							if (!$("#source").html()) {
								$("#source").html('New');
							}
							var selectedRows = gridOptions.api.getSelectedRows();
							var selectedRowsString = '';
							selectedRows.forEach(function(selectedRow, index) {
								if (index > 0) {
									selectedRowsString += ',';
								}
								selectedRowsString += selectedRow.itemId;
							});
							localStorage.setItem('ReqRFQData', null);
						} else {
							$("#rfqId").val('New');
						}

					});

	/* 
	
	 Quotation 
	
	 */

	var columnDefs = [
			{
				headerCheckboxSelection : true,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true

			},
			{
				headerName : "Inquiry Id",
				field : "rfqId",
				width : 200,
			   cellRenderer : function(params) {
				return '<a onclick=editInquiry("' + params.data.rfqId
						+ '") href="javascript:void(0)">'
						+ params.data.rfqId + '</a>';
			}
			
			}, {
				headerName : "Description",
				field : "desc",
				width: 300,
				cellStyle : {
					textAlign : 'center'
				}
			}, {
				headerName : "Type",
				field : "reqType",
				width: 150,
				cellStyle : {
					textAlign : 'center'
				}
			}, {
				headerName : "Priority",
				field : "reqPrior",
				width: 150,
				cellStyle : {
					textAlign : 'center'
				}
			}, {
				headerName : "Receive By Date",
				field : "receiveDate",
				width: 170,
				cellStyle : {
					textAlign : 'center'
				}
			},  {
					headerName : "Item Details",
					cellStyle : {
						textAlign : 'center'
					},
					cellRenderer : function(params) {
						var s = "";
						s = ' <a href="#" class="grn-btn" onclick="itemPdfDownload(\''+params.data.rfqId+'\')"><i class="ti ti-download"></i> Item Details </a>';
						return s;
					},
					width: 175, 

			} ,{
				 headerName : "Project",
				field : "project",
				width: 200,
				
			}, { 
				headerName : "Created By",
				field : "createdBy",
				cellStyle : {
					textAlign : 'center'
				},
				width: 162,
			 },
			 { 
					headerName : "Created On",
					field : "updatedOn",
					width: 160,
					cellStyle : {
						textAlign : 'center'
					}
				 }
			 ];
	
	function itemPdfDownload(id) {
		window.open("/purchase/view-purchase-quotation-pdf-downloads?itemDetailsId="+ window.btoa(id), '_blank'); 
		
	} 

	/* 
	 *
	 quotation item  
	
	 */

	var itemDefs = [
			{
				headerCheckboxSelection : true,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true

			},
			{
				headerName : "SlNo",
				field : "slNo",
				width : 70,
				cellRenderer : function(params) {
					if (params.data.slNo) {
						return '<a onclick=editProduct("' + params.data.slNo
								+ '") href="javascript:void(0)"><i class="bi bi-arrow-return-right">'
								+ params.data.slNo + '</a>';
					} else {
						return '<a onclick=editProduct("' + params.data.slNo
								+ '") href="javascript:void(0)"><i class="bi bi-arrow-return-right">'
								+ params.data.slNo + '</a>';
					}
				}
			}, {
				 headerName : 'SKU',
				field : "sku",
				width : 100,

			}, { 
				headerName : 'HSN Code',
				field : "hsnCode",
				width : 175,
			}, {

				headerName : 'Item Name',
				field : "itemName",
				width : 255,
			}, {
				headerName : 'Item Id',
				field : "itemId",
				width : 175,
				hide : true,
			}, {
				headerName : 'Quantity',
				field : "quantity",
				type : 'rightAligned',
				width : 175,
				valueFormatter : currencyFormatter
			}, {

				headerName : 'Unit',
				field : "unitName",
				width : 175,
			}, {
				headerName : 'Unit',
				field : "unit",
				hide : true,

			}, {
				headerName : 'Unit Price',
				field : "unitPrice",
				type : 'rightAligned',
				width : 175,
				valueFormatter : currencyFormatter
			}, {
				
				headerName : 'Amount',
				field : "lineTotal",
				type : 'rightAligned',
				width : 175,
				valueFormatter : currencyFormatter,
				aggFunc : 'sum'
			
				
			}, ];
	
	
	
	
	
	
	var vendorDefs = [
		{
			headerCheckboxSelection : true,
			headerCheckboxSelectionFilteredOnly : true,
			checkboxSelection : true,
			width : 10,
			sortable : false,
			filter : false,
			resizable : true

		},
		{
			headerName : "ID",
			field : "vendorId",
			width : 153,
		 	/* cellRenderer : function(params) {
				
					return '<a onclick=editProductV("' + params.data.vendorId
							+ '") href="javascript:void(0)">'
							+ params.data.vendorId + '</a>';
			}  */
			
		
		
		  cellRenderer : function(params) {
					return '<div style="color:#0642f5">'+params.data.vendorId+'</div>';
				}	
			 
			}, {
				headerName : "assignStatus",
				field : "assignStatus",
				hide : "true"
			}, {
				headerName : "Name",
				field : "vendorName",
				width : 350,
				cellClass : function(params) {
					return (params.data.assignStatus === '1' ? 'blueClsWT' : 'tptCls');
				}

			}, {
				headerName : "Location",
				field : "locationName",
				hide : "true",
				

			}, {
				headerName : "locationId",
				field : "locationId",
				hide : "true"

			}, {
				headerName : "Expertize",
				field : "expertizeName",
				width : 120,

			}, {
				headerName : "Expertize",
				field : "expertizeId",
				hide : "true"

			}, {
				headerName : "Req Send (Last 12 month)",
				field : "reqSent",
				type : 'rightAligned',
				width : 240,
				valueFormatter : currencyFormatter
			}, {
				headerName : "Candidates(Last 12 month)",
				field : "candidates",
				type : 'rightAligned',
				width : 240,
				valueFormatter : currencyFormatter

			}, {
				headerName : "Closed(Last 12 month)",
				field : "closed",
				type : 'rightAligned',
				width : 200,
				valueFormatter : currencyFormatter

			} ];
	var gridOptions = {
		columnDefs : columnDefs,
		rowSelection : 'multiple',

		groupSelectsChildren : true,
		suppressRowClickSelection : true,
		suppressAggFuncInHeader : true,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 251,
			height : 10
		},

		onSelectionChanged : rowSelect,

	};

	var itemOptions = {
		columnDefs : itemDefs,
		rowSelection : 'multiple',
		groupSelectsChildren : true,
		suppressRowClickSelection : true,
		suppressAggFuncInHeader : true,
		defaultColDef : {
			sortable : true,
			filter : true,
			resizable : true,
			width : 251,
			height : 10
		},
		onSelectionChanged : rowSelectItem,
		getRowNodeId : function(data) {
			return data.slNo;
		}
	};

	var vendorOptions = {
			columnDefs : vendorDefs,
			rowSelection : 'multiple',
			groupSelectsChildren : true,
			suppressRowClickSelection : true,
			suppressAggFuncInHeader : true,
			defaultColDef : {
				sortable : true,
				filter : true,
				resizable : true,
				width : 251,
				height : 10
			},
			onSelectionChanged : rowSelectVenderApply,
			getRowNodeId : function(data) {
				return data.vendorId;
			}
		};
	
	var columnDefs12 = [{
	    headerCheckboxSelection: true,
	    headerCheckboxSelectionFilteredOnly: true,
	    checkboxSelection: true,
	    width: 10,
	    sortable: false,
	    filter: false,
	    resizable: true
	},
	{
	    headerName: "Product Id",
	    field: "productId",
	    cellRenderer: function(params) {
	        return '<a onclick=openDetails("' + params.data.productId + '") href="javascript:void(0)">' + params.data.productId + '</a>';
	    }
	},
	{
		 headerName: "Product Name",
		    field: "productName",
		    width: 200,
	},
	{
		 headerName: "Brand",
		    field: "brand",
		    cellStyle: {textAlign: 'center'}
	   
	},
	{
	   
	    headerName: "Category",
	    field: "productCategoryText",
	    width: 200,
	},
	{
	    headerName: "Mode",
	    field: "mode",
	    cellStyle: {textAlign: 'center'}
	},
	{
		headerName: "Status",
	    field: "productStatus",
	    cellStyle: {textAlign: 'center'}
	},
	{
	  
	    headerName: "Created By",
	    field: "createdBy",
	    cellStyle: {textAlign: 'center'}
	},
	{
	    headerName: "Create Date",
	    field: "createdDate",
	    cellStyle: {textAlign: 'center'}
	}
	];	
	
	
	var gridOptions12 = {
			columnDefs: columnDefs12,
			rowSelection: 'multiple',
			defaultColDef: {
				sortable: true,
			    filter: true,
			    resizable: true,
			    width: 149,
			    height: 10
			},
			rowSelection: 'multiple',
			suppressRowClickSelection : true,
			onSelectionChanged: onSelectionChangedproduct12
};
	
	var columnSKUDefs = [{
	    headerCheckboxSelection: true,
	    headerCheckboxSelectionFilteredOnly: true,
	    checkboxSelection: true,
	    width: 10,
	    sortable: false,
	    filter: false,
	    resizable: true
	},
	{
	    headerName: "SKU",
	    field: "sku",
	    cellRenderer: function(params) {
	        return '<a onclick=openSKUDetails("' + params.data.sku + '","'+params.data.productId+'") href="javascript:void(0)">' + params.data.sku + '</a>';
	    }
	},
	{
	    headerName: "Manufacture Item",
	    field: "manufacture",
	    width: 200,
	},
	{
	    headerName: "Model",
	    field: "model"
	},
	{
	    headerName: "Variation Type",
	    field: "variationType"
	},
	{
	    headerName: "Variation Value",
	    field: "variationValue"
	},
	{
	    headerName: "UOM",
	    field: "unit"
	},
	{
	    headerName: "Unit Sale Price",
	    field: "sPrice",
	    cellStyle: {textAlign: 'right'}
	}, 
	{
	    headerName: "Create Date",
	    field: "createdDate",
	    cellStyle: {textAlign: 'center'}
	}
	];



	var skuOptions = {
	columnDefs: columnSKUDefs,
	rowSelection: 'multiple',
	defaultColDef: {
		sortable: true,
	    filter: true,
	    resizable: true,
	    width: 150,
	    height: 10
	},
	rowSelection: 'multiple',
	suppressRowClickSelection : true,
	onSelectionChanged: onSelectionChangedsku 
	};
	var columnPurchaseDefs = [{
	    headerCheckboxSelection: true,
	    headerCheckboxSelectionFilteredOnly: true,
	    checkboxSelection: true,
	    width: 10,
	    sortable: false,
	    filter: false,
	    resizable: true
	},
	{
	    headerName: "SKU",
	    field: "sku",
	    cellRenderer: function(params) {
	        return '<a onclick=openPurchaseDetails("' + params.data.sku + '","'+params.data.productId+'","'+params.data.vendorId+'") href="javascript:void(0)">' + params.data.sku + '</a>';
	    }
	},
	{
	    headerName: "Vendor Id",
	    field: "vendorId"
	},
	{
	    headerName: "Vendor Name",
	    field: "createdBy", //Here CreatedBy Variable is used for Vendor Name
	    width: 206,
	},
	{
	    headerName: "Variation Type",
	    field: "variationType"
	},
	{
	    headerName: "Variation Value",
	    field: "variationValue"
	},
	{
	    headerName: "UOM",
	    field: "unit"
	},
	{
	    headerName: "Unit Purchase Price",
	    field: "sPrice",
	    hide:true,
	    cellStyle: {textAlign: 'right'}
	},
	{
	    headerName: "MOQ",
	    field: "sMoq",
	    cellStyle: {textAlign: 'right'}
	},
	/* {
	    headerName: "Sale Tax",
	    field: "saleTax",
	    cellStyle: {textAlign: 'right'}
	},
	{
	    headerName: "Sale Cess",
	    field: "saleCess",
	    cellStyle: {textAlign: 'right'}
	}, */
	{
	    headerName: "Create Date",
	    field: "createdDate",
	    cellStyle: {textAlign: 'center'}
	}
	];
	var purchaseOptions = {
			columnDefs: columnPurchaseDefs,
			rowSelection: 'multiple',
			defaultColDef: {
				sortable: true,
			    filter: true,
			    resizable: true,
			    width: 149,
			    height: 10
			},
			rowSelection: 'multiple',
			suppressRowClickSelection : true,
			onSelectionChanged: onSelectionChangedvender 
	};
	function onSelectionChangedvender(){
		var selectedRows = purchaseOptions.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
		        $('#deletes').attr("disabled", false);
		        $('#newBtn1').attr("disabled", true);
		}else{
			    $('#deletes').attr("disabled", true);
			    $('#newBtn1').attr("disabled", false);
		}
	}
	
	
	function onSelectionChangedproduct12(){
		var selectedRows =gridOptions12.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
		        $('#deleteproduct1').attr("disabled", false);
		        $('#newBtn1').attr("disabled", true);
		}else{
			    $('#deleteproduct1').attr("disabled", false);
			    $('#newBtn1').attr("disabled", false);
		}
	}	 
	
	 function onSelectionChangedsku(){
		var selectedRows =skuOptions.api.getSelectedRows();

		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
		        $('#deletess').attr("disabled", false);
		        $('#newBtn2').attr("disabled", true);
		}else{
			    $('#deletess').attr("disabled", true);
			    $('#newBtn2').attr("disabled", false);
		}
	}
	 
	/* ----------function for rowselection for vender apply parent table----------- */
	var vid="";
	function rowSelectVenderApply() {
		var selectedRows = vendorOptions.api.getSelectedRows();
		var vid = "";
		for (var i = 0; i < selectedRows.length; i++) {
			vid = vid + '"' + selectedRows[i].vendorId + '",';
		}
		vid = vid.substring(0, vid.length - 1);
		var rowCount = 0;
		selectedRows.forEach(function(i) {
			rowCount = rowCount + 1;
		});
		
		 var selectedNodes = vendorOptions.api.getSelectedNodes();
		 var selectedData = selectedNodes.map(node => node.data);
		 var assignStatus= selectedData.map(node => node.assignStatus);
		 
		if (rowCount > 0) {
			$('#new').attr("disabled", true);
			if(assignStatus=='1'){
				$('#deallocateVendor').attr("disabled", false);
				$('#allocateVendor').attr("disabled", true);
			 }else{
				 $('#deallocateVendor').attr("disabled", true);
				 $('#allocateVendor').attr("disabled", false);
			}

		} else {
			$('#deallocateVendor').attr("disabled", true);
			$('#allocateVendor').attr("disabled", true);
		}

	}
	
	function allocateVendor() {
		var selectedRows = vendorOptions.api.getSelectedRows();

		if (selectedRows != null) {
			var datas = [];
			vendorOptions.api.forEachNode(function(rowNode, index) {
				var item = rowNode.data;
				selectedRows.forEach(function(selectedRow, index) {
					if (item.vendorId === selectedRow.vendorId) {
						item.assignStatus = '1';
					}
				});
				
				datas.push(item);
			});
			vendorOptions.api.setRowData(datas);
			$('#deallocateVendor').attr("disabled", true);
			$('#allocateVendor').attr("disabled", true);
		}
	}
	
	//Download Record
	function downloadDetails() {
		var dataset = [];
		gridOptions.api.forEachNodeAfterFilterAndSort(function(rowNode, index) {
			dataset.push(rowNode.data);
		});
		gridOptions.api.exportDataAsCsv(dataset);
	}
	
	function deallocateVendor() {
		var selectedRows = vendorOptions.api.getSelectedRows();

		if (selectedRows != null) {
			var datas = [];
			vendorOptions.api.forEachNode(function(rowNode, index) {
				var item = rowNode.data;
				selectedRows.forEach(function(selectedRow, index) {
					if (item.vendorId === selectedRow.vendorId) {
						item.assignStatus = '0';
					}
				});
				datas.push(item);
			});
			vendorOptions.api.setRowData(datas);
			$('#deallocateVendor').attr("disabled", true);
			$('#allocateVendor').attr("disabled", true);
		}
	}
	function add() {
       $('#searchRowDiv').hide();
       $('#delete').hide();
		$('#hideTbl').hide();
		$("#add").hide();
		$("#reqAppvBtn").hide();
		$("#myGrid").hide();
		$("#save").show();
		$("#Cancel").show();
		$("#addData").show();
		$("#totalCandidate").hide();
		$("#dwnld").hide();
		$("#upld").hide();
		$("#reqHeadId").html("");
		$("#rfqId").val("");
		$("#desc").val("");
		$("#reqPrior").val("");
		$("#reqType").val("");
	    $("#slNo").val("");
		$("#sku").val("");
		$("#itemId").val("");
		$("#itemName").val("");
		$("#quantity").val("");
		$("#unitPrice").val("");
		$("#lineTotal").val("");
		$("#receiveDate").val("");
		$("#project").val('');
		$('#delete1').attr("disabled", true);
		$('#fetchBtn').attr("disabled", true);
		/* agGrid.simpleHttpRequest({
			url : 'view-purchase-quotation-vendor-trough-ajax'
		}).then(function(data) {
			vendorOptions.api.setRowData(data);
		}); */
		if (!$("#source").html()) {
			$("#source").html('New');
		}
		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += selectedRow.itemId;
		});
		
		vendorOptions.api.setRowData(''); 
		// for product table
		agGrid.simpleHttpRequest({
			url : 'view-purchase-quotation-item-trough-ajax?id=' + selectedRowsString
		}).then(function(data) {
			itemOptions.api.setRowData(data);
		});

	}

	function Cancel() {

		$('.formValidation').remove();
		$("#pohedId").html('');
		$("#vendorName").val('');
		$("#vendorId").val('');
		$("#suggesstion-box1_").hide();
		$("#itemId").val('');
		$("#itemName").val('');
		$("#quantity").val('');
		$("#unitPrice").val('');
		$("#lineTotal").val('');
		$("#searchRowDiv").show();
        $("#delete").show();
		$('.formValidation').remove();
		$("#add").show();
		$("#myGrid").show();
		$("#save").hide();
		$("#Cancel").hide();
		$("#addData").hide();
		$('#hideTbl').show();
		$("#totalCandidate").show();
		$("#dwnld").show();
		$("#upld").show();
		
		itemOptions.api.setRowData();
		$('#delete').attr("disabled", true);
		$('#add').attr("disabled", false);

		agGrid.simpleHttpRequest({
			url : "view-purchase-quotation-through-ajax"
		}).then(function(data) {
			var len = data.length;
			$('#totalCandidate').find('span').html(len);
			gridOptions.api.setRowData(data);
		});
	
		gridOptions.api.setQuickFilter(null);
		$('#quickFilter').val('');
		document.getElementById('closeKey').style.display='none';
		
	}

	function openNav() {
		$("#sku").val("");
		$("#itemName").val("");
		$("#quantity").val("");
		$("#unitPrice").val("");
		$("#lineTotal").val("");
		$("#hsnCode").val("");
		$("#unit").val("");
		$("#editProduct").val("");
		document.getElementById("mySidenav").style.cssText = "width: 30%; position: absolute; right:-10px; overflow: hidden; height:auto; top:330px;";
		document.getElementById("main_content").style.width = "70%";
		
		$("#save").hide();
	}

	function closeNav() {
		document.getElementById("mySidenav").style.width = "0";
		document.getElementById("main_content").style.width = "100%";
		$('.formValidation').remove();
		$("#sku").val('');
		$("#itemId").val('');
		$("#itemName").val('');
		$("#quantity").val('');
		$("#unitPrice").val('');
		$("#lineTotal").val('');
		$("#hsnCode").val('');
		$("#unit").val('');
		$("#editProduct").val(null);
		$("#save").show();
	}

	/* //quotation item  table add */

	function saveTableData() {
	
		var editProduct = $("#editProduct").val();
		var item = {};
		var data = 1;
		var validation = true;

		
		if (item.itemName == null || item.itemName == "") {
			validation = validationUpdated("Item Name Required", 'itemName');
		}
		if (item.quantity == null || item.quantity == "") {
			validation = validationUpdated("Quantity Required", 'quantity');
		}
		if (item.unitPrice == null || item.unitPrice == "") {
			validation = validationUpdated("Unit Price Required", 'unitPrice');
			
		}
		if (item.lineTotal == null || item.lineTotal == "") {
			validation = validationUpdated("Line Total Required", 'lineTotal');
		}

		if (validation) {
			
			item.slNo = data;
			itemOptions.api.forEachNode(function(rowNode, index) {
				if (!editProduct) {
					data = data + 1;
					item.slNo = data;
				}
				else{
					item.slNo = editProduct;
				}
				
			});
			
			
			item.sku = $('#skuTemp').val();
			item.itemId = $('#itemIdTemp').val();
			item.itemName = $('#itemName').val();
			item.itemId = $('#itemIdTemp').val();
			item.hsnCode = $('#hsnCode').val();
			item.unit = $('#unit').val();
			item.unitName = $("#unit option:selected").text();
			item.quantity = $('#quantity').val();
			item.unitPrice = $('#unitPrice').val();
			item.lineTotal = $('#lineTotal').val();
		

			//item.slNo = data;
			var quot = [];

			if (editProduct) {
				var rowNode = itemOptions.api.getRowNode(editProduct);
				rowNode.setData(item);
			} else {
				itemOptions.api.forEachNode(function(rowNode, index) {
					quot.push(rowNode.data);
				});
				quot.push(item)
				itemOptions.api.setRowData(quot);

			}
			closeNav();
			$("#sku").val('');
			$("#itemId").val('');
			$("#itemName").val('');
			$("#quantity").val('');
			$("#unitPrice").val('');
			$("#lineTotal").val('');
			$("#hsnCode").val('');
			$("#unit").val('');
            $("#editProduct").val(null);
		}
		itemOptions.api.deselectAll()
	}

	/* //Quotation  table add */

	function save() {
		
		console.log(validFormData(),validProductData())
		if (validFormData() && validProductData()) {
			
			var vendorData = [];
			vendorOptions.api.forEachNode(function(rowNode, index) {
				var item = rowNode.data;
				if (item.assignStatus === '1') {
					vendorData.push(item);
				}
			});

			
			var datas = [];
			if (itemOptions.api.getDisplayedRowCount() > 0) {

				itemOptions.api.forEachNode(function(rowNode, indrx) {

					var obj = rowNode.data;
					obj.rfqId = $("#reqHeadId").html();
					obj.desc = $("#desc").val();
					obj.reqType = $("#reqType").val();
					obj.reqPrior = $("#reqPrior").val();
					obj.receiveDate = $("#receiveDate").val();
					obj.indentId = $("#indentId").val();
					obj.project = $("#project").val();
					obj.projectName = $("#project").find('option:selected').text();
					obj.vendorList = vendorData;
					datas.push(obj);

				});

			} else {
				var obj = {};
				obj.rfqId = $("#reqHeadId").html();
				obj.desc = $("#desc").val();
				obj.reqType = $("#reqType").val();
				obj.reqPrior = $("#reqPrior").val();
				obj.receiveDate = $("#receiveDate").val();
				obj.indentId = $("#indentId").val();
				obj.project = $("#project").val();
				obj.projectName = $("#project").find('option:selected').text();
				obj.vendorList = vendorData;
               datas.push(obj);

			}
			var ct=0;
			vendorOptions.api.forEachNode(function(rowNode, index) {
				var item = rowNode.data;
				
				if(item.assignStatus=='1'){
					ct=ct+1;
				}
 
			});
		if(ct>0){
			
			$("#msgModal").modal('hide');	
			savePurchaseQuotation(datas);
		}else{
		
			$("#messageParagraph").text(
			"Allocate Vendor First");
			$("#msgOkModal").removeClass("btn3");
			$("#msgOkModal").addClass("btn1");
			$("#msgModal").modal('show');	
		}
		}
	}

	function savePurchaseQuotation(datas) {
	//	window.location.reload();

		$('.loader').show();
		//$("body").addClass("overlay");
		$
				.ajax({
					type : "POST",
					url : "view-purchase-quotation-add",
					contentType : "application/json",
					data : JSON.stringify(datas),
					success : function(response) {
						if (response.message == "Success") {
							$('.loader').hide();
							//$("body").removeClass("overlay");
							$("#messageParagraph").text(
									"Data Saved Successfully");
							$("#msgOkModal").removeClass("btn3");
							$("#msgOkModal").addClass("btn1");
							$("#msgModal").modal('show');


							$("#total").show();
							$("#totalCandidate").show();
							$("#btndiv").show();

							$("#reqTable").show();
							$('#add').show();
							$('#delete').show();
							$('#dwnld').show();
							$("#addData").hide();
							$("#myGrid").show();

							$("#searchRowDiv").show();
							$("#reqTable").show();
							

							agGrid.simpleHttpRequest({
								url : "view-purchase-quotation-through-ajax"
							}).then(function(data) {
								var len = data.length;
								$('#totalCandidate').find('span').html(len);
								gridOptions.api.setRowData(data);
							});
							Cancel();
						}

					},
					error : function(datas) {
						console.log(datas)
						$('.loader').hide();}
				})
		   

	}

	function validFormData() {
		var allValid = true;

		if (!validationUpdated("Description Required", 'desc')){
			allValid = false;
		}	
		if (!validationUpdated("Type Required", 'project')){
			allValid = false;
		}	
		if (!validationUpdated("Priority Required", 'reqPrior')){
			allValid = false;
		}	
		if (!validationUpdated("Receive By Date Required", 'receiveDate')){
			allValid = false;
		}
			
		return allValid;
	}
	
	function validProductData() {
		var item = null;
		itemOptions.api.forEachNode(function(rowNode, index) {
			item = item + rowNode.data;
		});
		if (item) {
			return true;
		} else {
			$("#messageParagraph").text("Please Add Item Details");
			$("#msgOkModal").removeClass("btn3");
			$("#msgOkModal").addClass("btn1");
			$("#msgModal").modal('show');
			return false;
		}
	}

	/* 
	Edit Quotation
	 */
	function editProduct(slNo) {
		
		var reqHeadId = $("#reqHeadId").html();
		var rowNode = itemOptions.api.getRowNode(slNo);

		
		openNav();
		$("#editProduct").val(slNo);
		$("#sku").val(rowNode.data.sku);
		$("#itemIdTemp").val(rowNode.data.itemId);
		$("#itemName").val(rowNode.data.itemName);
		$("#hsnCode").val(rowNode.data.hsnCode);
		$("#unit").val(rowNode.data.unit);
		$("#quantity").val(rowNode.data.quantity);
		$("#unitPrice").val(rowNode.data.unitPrice);
		$("#skuTemp").val(rowNode.data.sku);
		$("#lineTotal").val(rowNode.data.lineTotal);
		$("#itemIdTemp").val(rowNode.data.itemId);
		
	}

	function editPo(poId) {
		Cancel();
		$('#delete1').attr("disabled", true);
		$('#fetchBtn').attr("disabled", true);
		$("#searchRowDiv").hide();
		$("#myGrid").hide();
		$("#reqTable").hide();
		$(".btn-hs").hide();
		$("#addData").show();
		$("#add").hide();
		$("#save").show();
		$("#Cancel").show();
		$("#totalCandidate").hide();
		$("#dwnld").hide();
		$("#upld").hide();
		$("#addre").hide();
		$("#documentDetails").show();
		$('.loader').show();
		agGrid
				.simpleHttpRequest({
					url : 'view-purchase-quotation-edit-new?id=' + poId
				})
				.then(
						function(data) {
							$("#pohedId").html(data[0].poId);
							$("#poId").val(data[0].poId);
							$("#qutValidDate").val(data[0].qutValidDate);
							$("#reference").val(data[0].reference);
							$("#project").val(data[0].project);
							$("#purchageOrderReference").val(data[0].poId);
							$("#purchaseDate").val(data[0].updatedOn);
							$("#paymentTermId").val(data[0].paymentTermId);
							$("#adjustment").val(data[0].adjustment);
							$("#tcsName").val(data[0].tcs);
							$("#tcsId").val(data[0].tcsId);
							$("#tcsAmount").val(data[0].tcsAmount);
			
							
							$("#terms").val(data[0].terms);
							$("#grandTotal").val(data[0].grandTotal);
							$("#qSGST").val(data[0].qSGST);
							$("#qCGST").val(data[0].qCGST);
							$("#subTotal").val(data[0].subTotal);
							$("#carrierId").val(data[0].carrierId);
							$("#vendorId").val(data[0].vendorId);
							$("#vendorName").val(data[0].vendorName);
							$("#qutValidDate").val(data[0].qutValidDate);
							$("#toDateCalendar").val(data[0].qutValidDate);
							$("#qutDescription").val(data[0].qutDescription);
							$("#taxType").val(data[0].taxType);
							
							hideShowS();
							$("#grandTotal").val(data[0].grandTotal);

							$("#shippingDetails").val(data[0].shippingDetails);
							$("#organizationName").val(data[0].orgDetails);
							$("#cursomerName").val(data[0].custDetails);
							$("#qIGST").val(data[0].qIGST);

							itemOptions.api.setRowData(data);
							$('.loader').hide();

						

						});
		
	}



	/* 
	Delete quotation
	 */
	function deleteQuotation() {

		$('#deleteQuot').modal('show');
	}
	function deleteItem() {

		$('#deleteProduct').modal('show');
	}

	function cancelModalBtn() {

		$("#deleteModalBtn").removeAttr("disabled");
		$('#deleteQuot').modal('hide');
		$('#deleteProduct').modal('hide');
	}

	function cancelModalProductBtn() {

		$("#deleteModalBtn").removeAttr("disabled");
		$('#deleteProduct').modal('hide');
	}

	function rowSelect() {
		var selectedRows = gridOptions.api.getSelectedRows();
		var rowCount = 0;
		selectedRows.forEach(function(selectedRow, index) {
			rowCount = rowCount + 1;
		});

		if (rowCount > 0) {
			$('#reqAppvBtn').attr("disabled", false);
			$('#delete').attr("disabled", false);
			$('#salesOrder').attr("disabled", false);
			$('#add').attr("disabled", true);
		} else {
			$('#add').attr("disabled", false);
			$('#delete').attr("disabled", true);
			$('#salesOrder').attr("disabled", true);
			$('#reqAppvBtn').attr("disabled", true);
		}
	}

	function closeModal1() {
		$("#myModal").modal('hide');
	}
	function rowSelectItem() {
		var selectedRows = itemOptions.api.getSelectedRows();
		var rowCount = 0;
		selectedRows.forEach(function(selectedRow, index) {
			rowCount = rowCount + 1;
		});
		if (rowCount > 0) {
			$('#delete1').attr("disabled", false);
			$('#newItem').attr("disabled", true);
			$('#fetchBtn').attr("disabled", false);
		} else {
			$('#newItem').attr("disabled", false);
			$('#delete1').attr("disabled", true);
			$('#fetchBtn').attr("disabled", true);
		}
		//vendor4();
	}

	function fetchVendor() {
		var selectedRows = itemOptions.api.getSelectedRows();
		var rowCount = 0;
		selectedRows.forEach(function(selectedRow, index) {
			rowCount = rowCount + 1;
		});
		var selectedRowsString = '';
		var sku = "";
		for (var i = 0; i < selectedRows.length; i++) {
			sku = sku + '"' + selectedRows[i].sku + '",';
		}
		sku = sku.substring(0, sku.length - 1);
		if (sku) {
			agGrid.simpleHttpRequest({
				url : 'view-purchase-quotation-get-Vendordata?sku=' + sku + "&rowCount=" + rowCount
			}).then(function(data) {
				vendorOptions.api.setRowData(data);
			});
		}
	}
	function onQuickFilterChanged() {
		$(".ti-search srchicon").hide();
		gridOptions.api
				.setQuickFilter(document.getElementById('quickFilter').value);
	}
	function onQuickFilterChanged1() {
		$(".ti-search srchicon").hide();
		vendorOptions.api
				.setQuickFilter(document.getElementById('quickFilter1').value);
	}

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";

		if ($('#quickFilter').val() == null || $('#quickFilter').val() == "") {
			id.style.display = "none";
		}
	}
	function cancelBar1() {
		var id = document.getElementById("closeKey1");
		id.style.display = "block";

		if ($('#quickFilter1').val() == null || $('#quickFilter1').val() == "") {
			id.style.display = "none";
		}
	}
	// delete Quotation

	function deleteOnclick() {
		var selectedRows = gridOptions.api.getSelectedRows();
		var selectedRowsString = '';
		selectedRows.forEach(function(selectedRow, index) {
			if (index > 0) {
				selectedRowsString += ',';
			}
			selectedRowsString += selectedRow.rfqId;
		});
		if (selectedRowsString) {
			var item = {};
			item.rfqId = selectedRowsString;
			$('.loader').show();
			$.ajax({
				type : "POST",
				url : "view-purchase-quotation-delete",
				dataType : "json",
				contentType : "application/json",
				data : JSON.stringify(item),
				success : function(response) {
					$('.loader').hide();
					$('#deleteQuot').modal('hide');

					$('#delete').attr("disabled", true);
					$('#add').attr("disabled", false);
					$('#dwnld').attr("disabled", false);
					if (response.message == "Success") {
						agGrid.simpleHttpRequest({
							url : 'view-purchase-quotation-through-ajax'
						}).then(function(data) {
							gridOptions.api.setRowData(data);
							
						});

					} else {

					}
				},
				error : function(data) {
					console.log(data)
					$('.loader').hide();}
			})
		}

	}
	function deleteProductOnclick() {
		var selectedRows = itemOptions.api.getSelectedRows();
		itemOptions.api.applyTransaction({
			remove : selectedRows

		});
		cancelModalProductBtn();
		//DELETE GST,SUBTOTAL,GRANDTOTAL,SGST,CGST,IGST
		var sum = $("#itemName").val();
		var gstRate = $("#hsnCode").val();
		var qCGST = $("#unit").val();
		var qSGST = $("#quantity").val();
		var qIGST = $("#unitPrice").val();
		var grandTotal = $("#lineTotal").val();
		var itemIgst = $("#itemIgst").val();
		var itemCgst = $("#itemCgst").val();
		var itemSgst = $("#itemSgst").val();
		var len = selectedRows.length;
		for (var i = 0; i < len; i++) {

			sum = sum - selectedRows[i].lineTotal;
			var taxType = $("#taxType").val()
			if (taxType == "true") {

				selectedRows[i].itemIgst = selectedRows[i].lineTotal
						* selectedRows[i].gstRate / 100;
				qIGST = qIGST - selectedRows[i].itemIgst;
				grandTotal = sum + qIGST;
			} else {
				selectedRows[i].itemCgst = selectedRows[i].lineTotal
						* selectedRows[i].gstRate / 200;
				selectedRows[i].itemSgst = selectedRows[i].lineTotal
						* selectedRows[i].gstRate / 200;

				qCGST = qCGST - selectedRows[i].itemCgst;
				qSGST = qSGST - selectedRows[i].itemSgst;
				grandTotal = sum + qCGST + qSGST;
			}

		}

		$("#itemName").val(itemName);
		$("#hsnCode").val(hsnCode);
		$("#unit").val(unit);
		$("#quantity").val(quantity);
		$("#unitPrice").val(unitPrice);
		$("#lineTotal").val(lineTotal);
		$("#qSGST").val(qSGST);
		$("#grandTotal").val(grandTotal)
	}
	function selectCheckBoxx(id,lvl) {
		if(id=='PCAT000004'){
			event.target.checked = false
			}else{
		$(".benefitChk").prop("checked", false);
		$("#ccCheck_"+id).prop("checked", true);
		$("#tempCategoryId").val(id);
		$("#prLevelId").val(lvl);
	}
		 
	}
	function closeNavSku() {
		$("#isEdit").val("");
		document.getElementById('skuId').readOnly = false;
		$("#skuId").val("");
		$("#model").val("");
		$("#manufacture").val("");
		$("#variationType").val("");
		$("#variationValue").val("");
		$("#itemUnit").val("");
		$("#salePrice").val("");
		$("#saleTax").val("");
		$("#saleCess").val("");
		document.getElementById("mySidenavItem").style.width = "0";
		document.getElementById("main3").style.width = "100%";
	}
	function submitProductDetails(dataset) {
	    console.log(dataset)
	    $('.loader').show();
	    $.ajax({
	    	 type: "POST",
	         url: "view-purchase-quotation-save-sku-dtls",
	         dataType: 'json',
	         contentType: 'application/json',
	         data: JSON.stringify(dataset),
	        success: function(response) {
	            if (response.message == "Success") {
	            	$('.loader').hide();
	            	closeNavSku();
	            	$("#addItemModel").modal('show');
	            	var productId = $("#productId").val();
	            	agGrid.simpleHttpRequest({
						url : 'view-purchase-quotation-get-sku-by-product?id='+productId
					}).then(function(data) {
						console.log(data)
						skuOptions.api.setRowData(data);
						
						$("#skuPurchase").empty();
						$("#skuPurchase").append("<option value>Select</option>");
						for(var i = 0; i < data.length; i++) {
							$("#skuPurchase").append("<option value='"+data[i].sku+"'>"+data[i].sku+"</option>");
						}
					});
	            	
	            } else {
	            	$('.loader').hide();
	                swal({
	                    title: response.code,
	                    text: response.message,
	                    type: "warning"
	                })
	            }
	        },
	        error: function(response) {
	            console.log(response);
	            $('.loader').hide();
	        }
	    })
	}
/* Item AutoSearch */

		function getItemQutotationList() {
		var search = $("#itemName").val();
		if (search) {
			$('.loader').show();
			$.ajax({
						type : "POST",
						url : "view-purchase-quotation-item-get-list",
						dataType : 'json',
						contentType : 'application/json',
						data : search,
						success : function(response) {
							if (response.message == "success") {
								$('.loader').hide();
								if (response.body.length != 0) {
									$("#itemId").val("");
									$("#gstRate").val("");
									$("#sku").val("");
									$("#brandName").val("");
									$("#brandId").val("");
									$("#hsnCode").val("");
									$("#unit").val("");
									$("#itemName").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1" style="margin-left:-40px; font-weight:100; font-size:14px; color:#ccc;">';
									for (var i = 0; i < response.body.length; i++) {
							content += '<li class="autocompletedata cp" onClick="selectAutocompleteValueItem1(\''
												+ response.body[i].sku
												+ '\',\''
												+ response.body[i].productId
												+ '\',\''
												+ window.btoa(response.body[i].productName)
												+ '\',\''
												+ response.body[i].brandId
												+ '\',\''
												+ window.btoa(response.body[i].brandName)
												+ '\',\''
												+ window.btoa(response.body[i].hsnCode)
												+ '\',\''
												+ window.btoa(response.body[i].unit)
												+ '\',\''
												+ window.btoa(response.body[i].gstRate)
												+ '\')">'
												/* + response.body[i].sku
												+ " - " */
												+ response.body[i].productName
												+ '</li>';
									}
									content += '<li style="margin-left:-0px;"  onclick="AddProduct();"><a class="addCustnew" href="#">Add Item</a>'
										+ '</li>';
									content += '</ul>';
									$("#suggesstion-box_").show();
									$("#suggesstion-box_").html(content);

								} else {
									$("#itemName").css("background", "#FFF");
									var content = '<ul id="autocomplete-list1">';
									content += '<li style="margin-left:-30px;font-weight:100; font-size:14px; color:#ccc;     background-color: #0909e4;"li onClick="selectAutocompleteValueItem()">'
										+ "No Data Found" + '</li>';
											content += '<li style="margin-left:-30px;"  onclick="AddProduct();"><a class="addCustnew" href="#">Add Item</a>'
												+ '</li>';
									content += '</ul>';
									$("#suggesstion-box_").show();
									$("#suggesstion-box_").html(content);
								}
							}
						},
						error : function(data) {
							console.log(data);
							$('.loader').hide();}
					})
		}else{
			$('.loader').hide();
			$("#itemId").val("");
			$("#itemName").val("");
			$("#gstRate").val("");
			$("#sku").val("");
			$("#brandName").val("");
			$("#brandId").val("");
			$("#hsnCode").val("");
			$("#unit").val("");
			$("#suggesstion-box_").hide();
		}
	}
	
		function getGSTRateCal() {
		}

	function selectAutocompleteValueItem1(sku, productId, productName, brandId, brandName,
			 hsnCode, unit, gstRate) {
		if (sku) {
			//$("#sku").val(sku);
			$("#itemName").val(window.atob(productName));
			$("#itemIdTemp").val(productId);
			$("#brandName").val(window.atob(brandName));
			$("#brandId").val(brandId);
			$("#skuTemp").val(sku);
			$("#sku").val(sku);
			$("#hsnCode").val(window.atob(hsnCode));
			$("#unit").val(window.atob(unit));
			$("#gstRate").val(window.atob(gstRate));
			$("#itemName").attr('data-procat', itemId);
			$("#suggesstion-box_").hide();
			hideShowS();
		} else {
			
			$("#sku").val("");
			$("#itemId").val("");
			$("#itemName").val("");
			$("#gstRate").val("");
			$("#brandName").val("");
			$("#brandId").val("");
			$("#hsnCode").val("");
			$("#unit").val("");
			$("#itemName").attr('data-procat', "");
			$("#suggesstion-box_").hide();

		}
	}
	function selectAutocompleteValueItem() {

		$("#itemId").val("");

		$("#gstRate").val("");
		$("#sku").val("");
		$("#itemName").val("");
		$("#itemName").attr('data-procat', "");
		$("#suggesstion-box_").hide();

	}

	function selectCheckBox(id, lvl) {

		$("#select_product").empty();
		getProductByCategory();

		if (lvl == 'L1') {
			var textDesc = $("#lbl_" + id).text();
			$("#catDesc").text(textDesc);
		} else {
			var res = lvl.substring(1, 1000000);

			var lastText = $("#lbl_" + id).text();
			var textDesc = "";
			for (i = res; i > 1; i--) {
				var pUL = $("#lbl_" + id).parents("ul").attr("id");
				pUL = pUL.substring(3, 10000000000000);
				var newText = $("#lbl_" + pUL).text();
				textDesc = newText + " > " + textDesc;
				id = pUL;
			}
			textDesc = textDesc + lastText;
			$("#catDesc").text(textDesc);
		}
	}

	function selectProductVal() {
		$("#itemName").val($("#itemNameTemp").val());
		$("#item").val($("#itemIdTemp").val());
		$("#brandName").val($("#brandNameTemp").val());
		$("#brandId").val($("#brandIdTemp").val());
		$("#category").val($("#prodCatIdTemp").val());
		$("#categoryName").val($("#prodCatNameTemp").val());
		$("#sku").val($("#skuTemp").val());
		$("#hsnCode").val($("#hsnCodeTemp").val());
		$("#unit").val($("#unitTemp").val());
		$("#search").val($("#itemNameTemp").val())
		$("#select_product").html('');
		$('#myModal').modal('hide');
	}

	function getProductByCategory() {

		$("#select_product").empty();
		var valor = "";
		$('input.pc1-box[type=checkbox]').each(function() {
			if (this.checked)
				valor = valor + $(this).val() + ",";
		});
		if (valor) {
			$('.loader').show();
			$("#select_product").empty();
			$
					.ajax({
						type : "POST",
						url : "view-purchase-quotation-item-product-by-cat",
						dataType : 'json',
						contentType : 'application/json',
						data : valor,
						success : function(response) {
							if (response.message == "success") {
								$('.loader').hide();
								$("#select_product").empty();
								var content = '';
								for (var i = 0; i < response.body.length; i++) {

									content += '<div class="autocompletedata cp product-item" id="'
											+ response.body[i].productId
											+ "_"
											+ response.body[i].sku
											+ '" onClick=selectActive("'
											+ response.body[i].productId
											+ "_"
											+ response.body[i].sku
											+ '","'
											+ response.body[i].sku
											+ '","'
											+ response.body[i].productId
											+ '","'
											+ window.btoa(response.body[i].productName)
											+ '","'
											+ window.btoa(response.body[i].brandId)
											+ '","'
											+ window.btoa(response.body[i].brandName)
											+ '","'
											+ window.btoa(response.body[i].productCatId)
											+ '","'
											+ window.btoa(response.body[i].productCatName)
											+ '","'
											+ window.btoa(response.body[i].hsnCode)
											+ '","'
											+ window.btoa(response.body[i].unit)
											+ '")>'
											/* + response.body[i].sku
											+ " - "
											+ response.body[i].brandName
											+ " - " */
											+ response.body[i].productName
											+ '</div>';
								}
								content += '</ul>';
								$("#select_product").show();
								$("#select_product").append(content);

								var itemId = $("#itemId").val();
								
								var skuId = $("#sku").html();

								if (itemId) {
									$("#" + itemId + "_" + skuId).addClass(
											'productActive');
								}

							}
						},
						error : function(data) {
							$('.loader').hide();
						}
					})
		} else {
			$('.loader').hide();
			$("#itemName").val(null);
			$("#hsnCode").val(null);
			$("#unit").val(null);
			$("#itemId").val(null);
		//	$("#sku").val(null);
			$("#select_product").empty();
		}
	}

	function selectActive(id, sku, productId, productName, brandId, brandName,
			prodCatId, prodCatName, hsnCode, unit) {
		$('.autocompletedata ').removeClass('productActive');
		$("#" + id).addClass('productActive');
		$("#itemNameTemp").val(window.atob(productName));
		$("#itemIdTemp").val(productId);
		$("#brandNameTemp").val(window.atob(brandName));
		$("#brandIdTemp").val(window.atob(brandId));
		$("#skuTemp").val(sku);
		$("#prodCatIdTemp").val(window.atob(prodCatId));
		$("#prodCatNameTemp").val(window.atob(prodCatName));
		$("#searchTemp").val(window.atob(productName))
		$("#hsnCodeTemp").val(window.atob(hsnCode));
		$("#unitTemp").val(window.atob(unit));

	}

	var totalLine;
	function calculateLineTotal() {
		var price = $("#unitPrice").val();
		var quantity = $("#quantity").val();
		
		
      if (price && quantity) {
				var mul = price * quantity;
				
				$("#lineTotal").val((mul).toFixed(2));

			} else {
				var mul = 0;
				$("#lineTotal").val((mul).toFixed(2));

			}
		
	}


	function editInquiry(rfqId) {
		//Cancel();
		$('#delete1').attr("disabled", true);
		$('#fetchBtn').attr("disabled", true);
		$('#addMoreDetails').attr("disabled", true);
		$('#newItem').attr("disabled", false);
		$("#searchRowDiv").hide();
		$("#searchRowDiv1").show();
		$("#reqTable1").show();
		$("#myGrid").hide();
		$("#reqTable").hide();
		//$(".btn-hs").hide();
		$("#addData").show();
		$("#add").hide();
		$("#save").show();
		$("#Cancel").show();
		$("#totalCandidate").hide();
		$("#dwnld").hide();
		$("#upld").hide();
		$("#delete").hide();
		
		//openModal();

		agGrid.simpleHttpRequest({
					url : 'view-purchase-quotation-edit-new?id=' + rfqId
				}).then(
						function(data) {
							
							$("#reqHeadId").html(data[0].rfqId);
							$("#rfqId").val(data[0].rfqId);
							$("#desc").val(data[0].desc);
							$("#reqType").val(data[0].reqType);
							$("#reqPrior").val(data[0].reqPrior);
							$("#receiveDate").val(data[0].receiveDate);
							itemOptions.api.setRowData(data);
							var vend = data[0].vendorList;
							/* vendorOptions.api.setRowData(data);
							var datas = [];
							vendorOptions.api.forEachNode(function(rowNode, index) {
								for (var i = 0; i < vend.length; i++) {
									if (rowNode.data.vendorId === vend[i].vendorId) {
										rowNode.data.assignStatus = '1';
									}
								}
								datas.push(rowNode.data);
							});
							var blankData = [];
							vendorOptions.api.setRowData(blankData);
							vendorOptions.api.setRowData(datas); 
							 */
							 agGrid.simpleHttpRequest({
								url : 'view-purchase-quotation-vendor-trough-ajax?id=' + rfqId
							}).then(function(data) {
								vendorOptions.api.setRowData(data);
								var datas = [];
								vendorOptions.api.forEachNode(function(rowNode, index) {
									for (var i = 0; i < vend.length; i++) {
										if (rowNode.data.vendorId === vend[i].vendorId) {
											rowNode.data.assignStatus = '1';
										}
									}
									datas.push(rowNode.data);
								});
								var blankData = [];
								vendorOptions.api.setRowData(blankData);
								vendorOptions.api.setRowData(datas); 
							});  
						});
	}
	function AddProduct() {

		 $('#addItemModel').modal('show');
	     $('#myGrid1').show();
	      $('#deleteproduct1').attr("disabled", true);
	      $("#productName").val("");
		    $("#itemBrand").val("");
		    $("#mode").val("");
		    $("#hsnCodeProduct").val("");
		    $("#sicCode").val("");
	      agGrid.simpleHttpRequest({
	  		url : 'manage-purchase-order-get-sku-listing?type='+"Purchase"
	  	}).then(function(data) {
	  		var len = data.length;
	  		$('#totalReq').find('span').html(len);
	  		console.log(data)
	  		gridOptions12.api.setRowData(data);
	  	}); 
	      getVendorListForProduct();      
		}

	function profileSelect(){
		
		$('#next').show();
		//$("#productSave").hide();
		$(".formValidation").remove();
		$('#newId').hide();
		$("#profile").show();
		$("#productheadId").html(null);
		$("#prCategoryId").val("");
		$("#tempCategoryId").val("");
		$("#prLevelId").val("");
		$("#productId").val("");
		$("#catDesc").text("");
		$("#vertical").empty();
		var img = '<li data-thumb="../assets/css/extend/sld-noimg.jpg"><img src="../assets/css/extend/sld-noimg.jpg" id="imgLoc" alt="Mountains" class="hvrbox-layer_bottom img-fluid"></li>';
		$("#vertical").append(img);
		$("#productName").val("");
	    $("#brand").val("");
	    $("#mode").val("");
	    $("#hsnCode").val("");
	    $("#sicCode").val("");
	    $("#fileedit").val("");
	    $("#main3").hide();
	   // $("#myPurchaseGrid").empty();
	    $("#prodStatus").prop("checked",false);
	   // closeNav();
	    closeVendor();
	    getBrandList();
	    $('#deletess').attr("disabled", true);
		  $('#deletes').attr("disabled", true);
	    skuOptions.api.setRowData();
	    purchaseOptions.api.setRowData();
	    $('#productSave').hide();
	    deleteFile();
	}
function closeVendor() {		
		$("#variantTypeSpan").text("");
		$("#variantValueSpan").text("");
		$("#variantUnitSpan").text("");
		$("#skuPurchase").val("");
		$("#itemVendorId").val("");
		$("#purchasePrice").val("");
		$("#purchaseTax").val("");
		$("#purchaseCess").val("");
		$("#moq").val("");
		$("#isEditPurchase").val("");
		$("#editSKUId").val("");
		$("#editVendorId").val("");
		document.getElementById("myVendorSidenav").style.width = "0";
		document.getElementById("main3").style.width = "100%";
	}
	function deleteFile() {
		$("#reqTable").hide();
		$("#searchRowDiv").hide();
		$('#fileUpload').val("");
		$('#imgemp').attr('src', '');
		$('#imgemp').attr('src', '../assets/images/noimage.jpg');

		var fileData = new FormData();
		fileData.append('file', 'none');
		fileData.append('path', 'none');

		$.ajax({
			type : "POST",
			url : "view-purchase-quotation-delete-fileproduct",
			enctype : "multipart/form-data",
			contentType : false,
			/* data        : fileData, */
			processData : false,
			cache : false,
			success : function(response) {
			},
			error : function(e) {

			}
		});
	}
	function toDataUrl(url, callback) {
	    var xhr = new XMLHttpRequest();
	    xhr.onload = function() {
	        var reader = new FileReader();
	        reader.onloadend = function() {
	            callback(reader.result);
	        }
	        reader.readAsDataURL(xhr.response);
	    };
	    xhr.open('GET', url);
	    xhr.responseType = 'blob';
	    xhr.send();
	}
	function next(){
		$("#next").show();
		$("#main").show();
		$("#profile").show();	
		$("#productSave").hide();	
		$("#accordionExample23").hide();	
		var data = [];
        $(".hvrbox-layer_bottom").each(function(i) {
        	var xyz = "";
        	 toDataUrl($(this).attr("src"), function(myBase64) {
        		
        		 xyz = myBase64;
        		 data.push(myBase64);
        		 console.log(xyz)
        	});        	 
        })   

        obj = {};
        obj['productId'] = $("#productId").val();
        obj['productName'] = $("#productName").val();
        obj['brand'] = $("#itemBrand").val();
        obj['mode'] = $("#mode").val();
        obj['hsnCode'] = $("#hsnCodeProduct").val();
        obj['sicCode'] = $("#sicCode").val();
        obj['productStatus'] = $("input[name='isActive']:checked").val();
        obj['productCategory'] = $("#prCategoryId").val();
        obj['productCategoryText'] = $("#catDesc").text();
        obj['imgList'] = data;
        $(".formValidation").remove();
        allPValid = true;
		if( $("#productName").val() == null || $("#productName").val() == ""){
			allPValid = false;
			validationModal("Product Name Required","productName");
		} 
		if( $("#mode").val() == null || $("#mode").val() == ""){
			allPValid = false;
			validationModal("Mode Required","mode");
		}
		/* if( $("#itemBrand").val() == null || $("#itemBrand").val() == ""){
			allPValid = false;
			validationModal("Brand Required","itemBrand");
		} */
		if( $("#hsnCodeProduct").val() == null || $("#hsnCodeProduct").val() == ""){
			allPValid = false;
			validationModal("HSN/SAC Code Required","hsnCodeProduct");
		}
    	var productId = $('#productheadId').html();
    		
          if(allPValid) {
            	if(productId!=""){
            		var rowCount = skuOptions.api.getDisplayedRowCount();
	            		if(rowCount>0){
	            			submitProduct(obj);
	            		}else{
	                      	$("body").removeClass("overlay");
	                      	$("#messageParagraph").text("Please Select Atleast one Item");
	                      	$("#msgOkModal").removeClass("btn3");
	                      	$("#msgOkModal").addClass("btn1");
	                      	$("#msgModal").modal('show');
	            		}
         
              }else{
            	  submitProduct(obj);
              }
            	
            	
            }		
	}
	 document.addEventListener('DOMContentLoaded', function() {
		 var gridDiv = document.querySelector('#myGrid1');
			new agGrid.Grid(gridDiv, gridOptions12);

		    var gridDiv = document.querySelector('#mySKUGrid');
		    new agGrid.Grid(gridDiv, skuOptions);
		    
		    var gridDiv = document.querySelector('#myPurchaseGrid');
		    new agGrid.Grid(gridDiv, purchaseOptions);
		});	
	
	function getVendorListForProduct() {
		var id=0;
			var option = $("<option></option>");
			$(option).val(null);
			$(option).html("Select");
			$('.loader').show();
			$.ajax({
				type : "GET",
				url : "manage-purchase-order-get-VendorList?id=" + id,
				success : function(response) {
					if (response.message == "success") {
						$('.loader').hide();
						$("#itemVendorId").empty();
						var option = $("<option></option>");
						$(option).val(null);
						$(option).html("Select");
						$("#itemVendorId").append(option);
						for (var i = 0; i < response.body.length; i++) {
							var option = $("<option></option>");
							$(option).val(response.body[i].key);
							$(option).html(response.body[i].name);
							$("#itemVendorId").append(option);
						}
						if(rid!="" || rid!=null || rid!="null"){
							$("#itemVendorId").val(rid);
						}
					}
				},
				error : function(e) {
					$('.loader').hide();}
			});	
	}
	 function addNewBrand(){
			$('#brandModal').modal('show');
		} 
	 function cancelBtn2(){
			$('#brandModal').modal('hide');
		}
	 function getBrandList() {
		 $('.loader').show();
			var rid='';
				 		var id=0;
				 			var option = $("<option></option>");
				 			$(option).val(null);
				 			$(option).html("Select");
				 			$.ajax({
				 				type : "GET",
				 				url : "view-product-get-brandList?id=" + id,
				 				//url : "view-product-get-brandList",
				 				success : function(response) {
				 					if (response.message == "success") {
				 						$('.loader').hide();
				 						$("#itemBrand").empty();
				 						var option = $("<option></option>");
				 						$(option).val(null);
				 						$(option).html("Select");
				 						$("#itemBrand").append(option);
				 						for (var i = 0; i < response.body.length; i++) {
				 							var option = $("<option></option>");
				 							$(option).val(response.body[i].key);
				 							$(option).html(response.body[i].name);
				 							$("#itemBrand").append(option);
				 						}
				 						if(rid!="" || rid!=null || rid!="null"){
				 							$("#itemBrand").val(rid);
				 						}
				 					}
				 				},
				 				error : function(e) {
				 					$('.loader').hide();}
			});	
	}	
	function cancelItemModel() {
		$('#addItemModel').modal('hide');
	}
	function addBrand() {
		var obj = {};
		obj.brandId = $("#brandId").val();
		obj.brandName = $("#brandName").val();
		obj.brandDesc = $("#brandDesc").val();
		var validation = true;

		if (obj.brandName == null || obj.brandName == "") {
			validation = validationUpdated("Brand Name Required", "brandName");
		}
		
		if (validation) {
			$('.loader').show();
			$(".formValidation").remove();
			$.ajax({
				type : "POST",
				url : "view-purchase-quotation-add-brand",
				contentType : "application/json",
				data : JSON.stringify(obj),
				success : function(response) {
					if (response.message == "Success") {
						$('.loader').hide();
						$("#messageParagraph").text(
								"Saved Successfully");
						$("#msgOkModal").removeClass("btn3");
						$("#msgOkModal").addClass("btn1");
						$("#msgModal").modal('show');
						$('#brandModal').modal('hide');
						getBrandList();
					}
				},
				error : function(data) {
					$('.loader').hide();}
			})
		}
	}
	function submitProduct(dataset) {
	    console.log(dataset)
	    $('.loader').show();
	    $.ajax({
	    	 type: "POST",
	         url: "manage-purchase-order-products-save",
	         dataType: 'json',
	         contentType: 'application/json',
	         data: JSON.stringify(dataset),
	        success: function(response) {
	            if (response.message == "Success") {
	            	$('.loader').hide();
	            	//returnPage();
	            	var productIdd = $('#productId').val();
					if(productIdd!=""){
						$("#messageParagraph").text("Data Saved Successfully");
		            	$("#msgOkModal").removeClass("btn3");
		            	$("#msgOkModal").addClass("btn1");
		            	$("#msgModal").modal('show');
		            	$("#productheadId").html(null);
						profilecancelbtn();
					}else{
	            	$('.loader').hide();
	            	$("body").removeClass("overlay");
	            	$("#productId").val(response.body.productId);
	            	$("#productheadId").html(response.body.productId);
	            	$("#main3").show();
	            	$("#productSave").show();
	            	$("#profile").show();
	            	$("#next").hide();
	            	$("#accordionExample23").show();
	     		    $("#headingOne1").show();
					}
	            } else {
	            	$('.loader').hide();
	            	$("body").removeClass("overlay");
	                swal({
	                    title: response.code,
	                    text: response.message,
	                    type: "warning"
	                })
	            }
	        },
	        error: function(response) {
	        	$('.loader').hide();
	        	$("body").removeClass("overlay");
	            console.log(response);
	        }
	    }) 
	}
	
	function openDetails(id) {
		$('.formValidation').remove();
		//newPage();
		$("#next").hide();
		$('#main3').show();
		$("#profile").show();
		$('#myGrid1').hide();
		$("#productId").val("");
		$("#productName").val("");
		$("#brand").val("");
		$("#mode").val("");
		$("#prodStatus").prop("checked",false);
		$("#prCategoryId").val("");
		$("#tempCategoryId").val("");
		$("#prLevelId").val("");
		$("#catDesc").text("");
		
		
		profileSelect();
		if(id) {
			$.ajax({
				type : "POST",
				url : "manage-invoice-get-product-details",
				dataType : 'json',
				contentType : 'application/json',
				data : id,
				success : function(response) {
					if (response.message == "success") {
						$("#productSave").show();
						//console.log(response);
						$("#productheadId").html(response.body.productId);
						$("#productId").val(response.body.productId);
						$("#productName").val(response.body.productName);
						$("#itemBrand").val(response.body.brand);
						$("#mode").val(response.body.mode);
						if(response.body.productStatus == "1") {
							$("#prodStatus").prop("checked",true);
						} else {
							$("#prodStatus").prop("checked",false);
						}
						
						$("#prCategoryId").val(response.body.productCategory);
						$("#catDesc").text(response.body.productCategoryText);
						$("#hsnCodeProduct").val(response.body.hsnCode);
						//$("#sicCode").val(response.body.sicCode);				
						$('#imgemp').attr('src', '');
						if(response.body.pImgName!=null && response.body.pImgName!="") {
							$('#imgemp').attr('src', response.body.pImgName);
							//$("#fileedit").val(response.body.pImgName);
						} else {
							$('#imgemp').attr('src', '../assets/images/noimage.jpg');
							//$("#fileedit").val("");
						}
						
						agGrid.simpleHttpRequest({
							url : 'view-purchase-quotation-get-sku-by-product?id='+response.body.productId
						}).then(function(data) {
							console.log(data)
							skuOptions.api.setRowData(data);
							
							$("#skuPurchase").empty();
							$("#skuPurchase").append("<option value>Select</option>");
							for(var i = 0; i < data.length; i++) {
								
								$("#skuPurchase").append("<option value='"+data[i].sku+"'>"+data[i].sku+"</option>");
							}
						});
						
						agGrid.simpleHttpRequest({
							url : 'view-purchase-quotation-get-purchase-by-product?id='+response.body.productId 
						}).then(function(data) {
							console.log(data)
							purchaseOptions.api.setRowData(data);
						});
						
					}
				}, error : function(data) {
					console.log(data)
				}
			});
		}
		$('#main3').show();
		$('#next').hide();
	}
	function openNavItem() {
		$(".formValidation").remove();
		var productId = $("#productId").val();
		var productName = $("#productName").val();		
		$("#skudiv").hide();
		$("#skuPrdId").text(productId);
		$("#isEdit").val("");
		$("#skuId").val("");
		$("#model").val("");
		$("#manufacture").val(productName);
		$("#variationType").val("");
		$("#variationValue").val("");
		$("#itemUnit").val("");
		$("#salePrice").val("0");
		$("#saleTax").val("");
		$("#saleCess").val("");
		document.getElementById("mySidenavItem").style.cssText = "width: 30%; position: absolute; right:-10px; overflow: hidden; height:431px;bottom:4px;";
		document.getElementById("main3").style.width = "70%";
	}
	function deleteskuDtls(){
		$("#deleteSKU").modal('show');
		$("#addItemModel").modal('hide');
	}
	function cancelModalSKUDtls(){
		$("#deleteSKU").modal('hide');
	} 
	function openVendor() {
		closeNav();
		$(".formValidation").remove();
		var productId = $("#productId").val();
		$("#skuPurchasePrdId").text(productId);
		
		$("#variantTypeSpan").text("");
		$("#variantValueSpan").text("");
		$("#variantUnitSpan").text("");
		$("#skuPurchase").val("");
		$("#itemVendorId").val("");
		$("#purchasePrice").val("0");
		$("#purchaseTax").val("");
		$("#purchaseCess").val("");
		$("#moq").val("0");
		$("#isEditPurchase").val("");
		$("#editSKUId").val("");
		$("#editVendorId").val("");
		
		document.getElementById("myVendorSidenav").style.cssText = "width: 30%; position: absolute; right:-10px; overflow: hidden; height:582px;bottom:-145px;";

		document.getElementById("main3").style.width = "70%";
	}
	function getCategoryList() {
		$('.loader').show();
		$("body").addClass("overlay");
		$("#productDiv").modal("show");
		$.ajax({
	        type: "POST",
	        url: "view-purchase-quotation-get-total-list",
	        dataType: "json",
	        contentType: "application/json",
	        success: function(response) {
	        	if (response.message == "Success") {
	        		$("#costCeneterCBDiv").empty();
	            	for(var i = 0; i < response.body.length; i++) {
	            		var row = "";
	            		if(response.body[i].categoryId == response.body[i].parentId) {
	            			if(response.body[i].nodeCount > 0) {
	            				row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'+
	    						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'+response.body[i].categoryName+'</td></tr>';
	            			} else {
	            				
	            				row = '<tr data-node-id="'+response.body[i].categoryId+'" class="abc" id="'+response.body[i].categoryId+'">'+
	    						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk pc1-box" type="checkbox" id="ccCheck_'+ response.body[i].categoryId +'" value="'+ response.body[i].categoryId +
	    						'" name="'+ response.body[i].categoryName +'" onchange=selectCheckBoxx("'+response.body[i].categoryId+'","'+response.body[i].catLevel+'")>'+response.body[i].categoryName+'</td></tr>';
	            			}
	            			
	            		} else {
	            			if(response.body[i].nodeCount > 0) {
	            				row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'+
	    						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'>'+response.body[i].categoryName+'</td></tr>';
	            			} else {
	            				
	            					row = '<tr data-node-id="'+response.body[i].categoryId+'" data-node-pid="'+response.body[i].parentId+'" class="abc" id="'+response.body[i].categoryId+'">'+
	        						'<td class="firstnode" id=lbl_'+response.body[i].categoryId+'><input class="benefitChk pc1-box" type="checkbox" id="ccCheck_'+ response.body[i].categoryId +'" value="'+ response.body[i].categoryId +'" name="'+
	        						response.body[i].categoryName +'" onchange=selectCheckBoxx("'+response.body[i].categoryId+'","'+response.body[i].catLevel+'")>'+response.body[i].categoryName+'</td></tr>';
	            			}
	            		}
						$("#costCeneterCBDiv").append(row);
						
	            	}
	        		
	        		var pcat = $("#prCategoryId").val();
	        		$(".benefitChk pc1-box").prop("checked", false);
	        		$("#ccCheck_"+pcat).prop("checked", false);
	            	
	            	$('.loader').hide();
	            	$("body").removeClass("overlay");
	            	
	            	$('#basic').simpleTreeTable({
	            	    expander: $('#expander'),
	            	    collapser: $('#collapser'),
	            	    store: 'session',
	            		storeKey: 'simple-tree-table-basic'
	            	});
	            }
	        }, error: function(data) {
	        	console.log(data)
	        	$('.loader').hide();
	        	$("body").removeClass("overlay");
	        	$("#productDiv").modal("show");
	        }
		});
	}
	function closeModall() {
		$("#myModall").modal("hide");
		$("#myModall").modal("empty");
	}
	function profilecancelbtn(){
		$("#reqTable").hide();
		deleteFile();
		$("#newId").show();
		$("#save").show();
		$("#Cancel").show();
		//$(".btn-hs").show();
		$("#profile").hide();
		$("#productCategoryCBDiv").attr("df","0");
		$("#prCategoryId").val("");
		$("#tempCategoryId").val("");
		$("#prLevelId").val("");
		$("#catDesc").text("");
		$("#vertical").empty();
		var img = '<li data-thumb="../assets/css/extend/sld-noimg.jpg"><img src="../assets/css/extend/sld-noimg.jpg" id="imgLoc" alt="Mountains" class="hvrbox-layer_bottom img-fluid"></li>';
		$("#vertical").append(img);
		$("#reqTable").hide();	
		$('#addItemModel').modal('hide');
	}	
	function openPurchaseDetails(skuid, id, vendorId) {
		$(".formValidation").remove();
		$("#variantTypeSpan").text("");
		$("#variantValueSpan").text("");
		$("#variantUnitSpan").text("");
		$("#skuPurchase").val("");
		$("#itemVendorId").val("");
		$("#purchasePrice").val("");
		$("#purchaseTax").val("");
		$("#purchaseCess").val("");
		$("#moq").val("");
		$("#isEditPurchase").val("");
		$("#editSKUId").val("");
		$("#editVendorId").val("");
		openVendor();
		if(id) {
			
			obj = {};
			
			obj.productId = id;
			obj.sku = skuid;
			obj.vendorId = vendorId;
			
			$.ajax({
				type : "POST",
				url : "view-purchase-quotation-get-purchase-details-edit",
				dataType : 'json',
				contentType : 'application/json',
				data : JSON.stringify(obj),
				success : function(response) {
					if (response.message == "success") {
						
						$("#variantTypeSpan").text(response.body.variationType);
						$("#variantValueSpan").text(response.body.variationValue);
						$("#variantUnitSpan").text(response.body.variationUnit);
						$("#skuPurchase").val(response.body.sku);
						$("#itemVendorId").val(response.body.vendorId);
						$("#purchasePrice").val(response.body.salePrice);
						$("#purchaseTax").val(response.body.saleTax);
						$("#purchaseCess").val(response.body.saleCess);
						$("#moq").val(response.body.moq);
						$("#isEditPurchase").val(response.body.isEdit);
						$("#editSKUId").val(response.body.sku);
						$("#editVendorId").val(response.body.vendorId);
					}
				}, error : function(data) {
					console.log(data)
				}
			});
		}
	}
	 function openSKUDetails(skuid, id) {
			$(".formValidation").remove();
			$("#isEdit").val("");
			document.getElementById('skuId').readOnly = true;
			
			$("#skuId").val("");
			$("#model").val("");
			$("#manufacture").val("");
			$("#variationType").val("");
			$("#variationValue").val("");
			$("#itemUnit").val("");
			$("#salePrice").val("");
			$("#saleTax").val("");
			$("#saleCess").val("");
			openNavItem();
			if(id) {
				
				obj = {};
				
				obj.key = id;
				obj.name = skuid;
				$('.loader').show();
				$.ajax({
					type : "POST",
					url : "view-purchase-quotation-get-sku-details",
					dataType : 'json',
					contentType : 'application/json',
					data : JSON.stringify(obj),
					success : function(response) {
						if (response.message == "success") {
							$('.loader').hide();
							$("#skudiv").show(); 
							$("#isEdit").val(response.body.isEdit);
							$("#skuId").val(response.body.sku);
							$("#model").val(response.body.model);
							$("#manufacture").val(response.body.manufacture);
							$("#variationType").val(response.body.variationType);
							$("#variationValue").val(response.body.variationValue);
							$("#itemUnit").val(response.body.unit);
							$("#salePrice").val(response.body.salePrice);
							$("#saleTax").val(response.body.saleTax);
							$("#saleCess").val(response.body.saleCess);
						}
					}, error : function(data) {
						console.log(data)
						$('.loader').hide();}
				});
			}
		}	
		function deletepurchaseDtls(){
			 $("#deleteSKUPrd").modal('show');
			 $("#addItemModel").modal('hide');
			}
		function cancelModalSKUPrdDtls(){
			$("#deleteSKUPrd").modal('hide');
			$("#addItemModel").modal('show');
		}
		function submitPurchaseDetails(dataset) {
			$('.loader').show();
		    console.log(dataset)
		   	  $.ajax({
		        type: "POST",
		          url: "view-purchase-quotation-save-purchase-dtls",
		        	 dataType: 'json',
		        	    contentType: 'application/json',
		        	      data: JSON.stringify(dataset),
		        	      success: function(response) {
		        	
		                  if (response.message == "Success") {
		                	  $('.loader').hide();
		            	closeVendor();
		            	var productId = $("#productId").val();
		            	agGrid.simpleHttpRequest({
							url : 'view-purchase-quotation-get-purchase-by-product?id='+productId 
						}).then(function(data) {
							console.log(data)
							purchaseOptions.api.setRowData(data);
						});
		            } else {
		            	$('.loader').hide();
		                swal({
		                    title: response.code,
		                    text: response.message,
		                    type: "warning"
		                })
		            }
		        },
		        error: function(response) {
		            console.log(response);
		        }
		    })
		}
		
		function deletepurchase(){
			
			 var selectedNodes = purchaseOptions.api.getSelectedNodes();
			 var selectedData = selectedNodes.map(node => node.data);
			 sku= selectedData.map(node => node.sku);
				var id = $('#productId').val();
				$('.loader').show();
			$.ajax({
					type : "GET",
					url : "view-purchase-quotation-purchase-delete?id="+ sku,
					success : function(response) {
					if (response.message == "Success") {
						$('.loader').hide();
						 $('#newBtn1').attr("disabled", false);
						 $('#deletes').attr("disabled", true);
						
						closeNav();
						 $("#newBtn1").show();
						agGrid.simpleHttpRequest({
							url : 'view-purchase-quotation-get-purchase-by-product?id=' + id
						}).then(function(data) {
							purchaseOptions.api.setRowData(data);
						});
					    cancelModalSKUPrdDtls();
						 $("#newBtn1").show();
					}
					},
					error : function(data) {
					console.log(data);
					$('.loader').hide();}
				})
			
		}		
</script>
</head>

<body>
	<div layout:fragment="content" class="maincontent">
		<div class="container-fluid">
			<div class="row">
				<div class="maincontentsec">
					<div class="content_padding">

						<div class="d-flex justify-content-between" id="reqTable"
							style="display: none;">

							<div class="col-md-4 btn-hs" id="total">
								<div class="font-design" id="totalCandidate">
									RFQ LIST (<span></span>)
								</div>
							</div>

							<div class="col-md-4 btn-hs" id="searchRowDiv">
								<div class="input-style">
									<input type="text" placeholder="Search.." name="search"
										class="searchboxinput" onkeyup="cancelBar()"
										oninput="onQuickFilterChanged()" id="quickFilter"
										autocomplete="off">
									<div class="searchicon">
										<a href="javascript:void(0)"><span
											style="display: none; border-right: 1px solid #ccc; padding-right: 5px;"
											id="closeKey"
											onclick="gridOptions.api.setQuickFilter(null);$('#quickFilter').val('');document.getElementById('closeKey').style.display='none';"
											class="close_i"><i class="ti-close srchicon"></i></span></a><a
											href="javascript:void(0)"><i class="ti-search srchicon"></i></a>
									</div>
								</div>
							</div>

							<div class="col-md-4 buttonsec btn-hs" id="btndiv">
								<button class="download-btn" id=dwnld
									onclick="downloadDetails()">Download</button>
								<!-- <button id="reqAppvBtn" class="approve-btn" onclick="approve()">APPROVE</button> -->

								<button onclick="add()" class="new-btn" id="add">New</button>
								<button onclick="deleteQuotation()" class="delete-btn"
									id="delete">delete</button>

							</div>
						</div>



						<div id="myGrid" style="height: 500px; width: 100%;"
							class="ag-theme-alpine"></div>
						<div class="collapse" id="addData">
							<div class="innerstickybg" id="headingItem">
								<div class="row">

									<div class="col-md-6">
										RFQ ID: <span id="reqHeadId"></span>
									</div>
									<!-- 		<div class="col-md-6">
										<div id="statusDiv">
											<div class="hr4"></div>
											<div class="main-div">
												<div class="section2">
													<div id="createdDiv" class="green-box">
														<div class="green-box-heading">CREATED</div>
														<div class="date" id="createdDate"></div>
													</div>
												</div>
												<div class="section3">
													<div id="activeDiv" class="green-box">
														<div class="green-box-heading">ACTIVE</div>
														<div class="date" id="activeDate"></div>
													</div>
												</div>
												<div class="section4">
													<div id="completeDiv" class="grey-box">
														<div class="green-box-heading">COMPLETE</div>
														<div class="date" id="completeDate"></div>
													</div>
												</div>
												<div class="section5">
													<div id="onHoldDiv" class="grey-box">
														<div class="green-box-heading">ONHOLD</div>
														<div class="date" id="onHoldDate"></div>
													</div>
												</div>



											</div>
										</div>
									</div> -->
									<div class="col-md-6" align="right">
										<button class="cancel-btn" id="Cancel" onClick="Cancel()">Cancel</button>
										<button class="approve-btn" id="save" onclick="save()">Save</button>
									</div>
								</div>
							</div>



							<div class="row innersticky_contentgap" id="mainPage">
								<div class="col-md-12">
									<label>Source: </label> <span id="source" class="source_text"></span>
								</div>

								<div class="col-md-6">
									<div class="form-group">
										<label>Description:</label> <br> <label> </label>
										<textarea id="desc" class="bigtxtarea"
											onkeyup="textCount(event)"></textarea>

										<input type="hidden" id="rfqId" />
									</div>
								</div>
								<input type="hidden" id="indentId">
								<div class="col-md-6">
									<div class="row">
										<div class="col-md-6" id="rType">
											<div class="form-group">
												<label>Type</label>
												<div class="select">
													<select id="reqType">
														<option th:value=null>--Select--</option>
														<option th:each="c:${requisitionTypeList}"
															th:value='${c.key}' th:text="${c.name}"
															th:selected="${c.key==employeeEmployment}"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="col-lg-6">
											<div class="form-group">
												<label>Project</label>
												<div class="select">
													<select id="project">
													<option value="">Select</option>
														<option th:each="c:${ProjectList}" th:value='${c.key}'
															th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group">
												<label>Priority</label>
												<div class="select">
													<select id="reqPrior">
														<option th:value=null>--Select--</option>
														<option th:each="c:${requisitionPrioList}"
															th:value='${c.key}' th:text="${c.name}"
															th:selected="${c.key==employeeEmployment}"></option>
													</select>
												</div>
											</div>
										</div>

									</div>

									<div class="row">
										<div class="col-md-6">
											<div class="form-group calendar_box">
												<label>Receive By Date</label> <input type="text"
													id="receiveDate" onchange="dateChange()" autocomplete="off"
													class="form-control" onblur="removeValid(event)"
													th:attr="onkeyup=|formatDate('receiveDate','${session.DATEFORMAT_JS}')|"
													readonly> <i class="ti-calendar picker_calendar"
													id="receiveDateCalendar1"></i>
											</div>
										</div>
										



									</div>

								</div>
								<div id="main_content">
									<div class="accordion-item mt-4" id="accordionExample">
										<h2 class="accordion-header" id="headingOne">
											<button class="accordion-button" type="button"
												data-bs-toggle="collapse" data-bs-target="#collapseOne"
												aria-expanded="false" aria-controls="collapseOne">
												Item Details</button>
										</h2>

										<div id="collapseOne" class="accordion-collapse collapse show"
											aria-labelledby="headingOne"
											data-bs-parent="#accordionExample">
											<div class="accordion-body">

												<div class="row">

													<div class="col-md-4 btn-hs1">
														<div class="font-design"></div>
													</div>
													<div class="col-md-8 butttonsec">

														<button class="new-btn" id="newItem" onclick="openNav()">NEW</button>
														<button class="delete-btn" id="delete1"
															onclick="deleteItem()">Delete</button>
														<button onclick="fetchVendor()" class="new-btn"
															id="fetchBtn">Fetch-Vendor</button>
													</div>
												</div>
												<div id="item" style="width: 100%; height: 200px;"
													class="ag-theme-alpine"></div>


											</div>

										</div>
									</div>

									<div id="mySidenav" class="sidenav">
										<div class="slidebox">
											<div class="row">
												<div class="chartbtnsec">
													<div align="right">
														<button class="cancel-btn" onclick="closeNav()">CANCEL</button>
														<button class="approve-btn" id="saveTableData"
															onclick="saveTableData()">SAVE</button>

													</div>
												</div>

												<!-- 	<div class="col-lg-6">
													<div class="form-group">
														<label>Stock Keeping Unit</label> <input type="text"
															id="sku" class="form-control" disabled="true">
															<div id="suggesstion-box_" class="sugg-cls"></div>
													</div>
												</div> -->
												<div class="col-lg-12">
													<div class="form-group">
														<button id="browseBtn" class="browse-btn">Browse</button>
													</div>
												</div>
												<div class="col-lg-12">
													<div class="form-group">
														<div class="autocomplete">
															<input type="hidden" id="editProduct"> <input
																type="hidden" id="itemId"> <label>Item
																Name</label> <input type="text" id="itemName"
																class="form-control" onkeyup='getItemQutotationList()'>
														</div>
														<div id="suggesstion-box_" class="sugg-cls"></div>
													</div>
												</div>

												<div class="col-lg-6">
													<div class="form-group">
														<div class="autocomplete" style="width: auto">
															<label>HSN Code </label> <input type="text" id="hsnCode"
																class="form-control" onblur="removeValid(event)">
														</div>
														<div id="suggesstion-boxx_" class="sugg-cls"></div>
													</div>
												</div>



												<div class="col-lg-6">
													<div class="form-group">
														<label>Unit</label>
														<div class="select">
															<select id="unit" onblur="removeValid(event)">
																<option value="">Select</option>
																<option th:each="c,iter:${unitList}" th:value="${c.key}"
																	th:text="${c.name}"></option>
															</select>
														</div>
													</div>

												</div>

												<div class="col-lg-6">
													<div class="form-group">
														<label>Quantity</label> <input type="text" id="quantity"
															onblur="removeValid(event)" class="form-control"
															onkeyup="calculateLineTotal()">
													</div>
												</div>
												<div class="col-lg-6">
													<div class="form-group">
														<label>Unit Price</label><input type="text" id="unitPrice"
															onblur="removeValid(event)" class="form-control"
															onkeyup="calculateLineTotal()">
													</div>
												</div>
												<div class="col-lg-12">
													<div class="form-group">
														<label>Line Total</label> <input type="text"
															onblur="removeValid(event)" id="lineTotal"
															class="form-control" onkeyup="calculateLineTotal()">
													</div>
												</div>
											</div>
										</div>
									</div>

									<div class="accordion-item mt-4" id="accordionExampleV">
										<h2 class="accordion-header" id="headingTwo">
											<button class="accordion-button" type="button"
												data-bs-toggle="collapse" data-bs-target="#collapseTwo"
												aria-expanded="false" aria-controls="collapseTwo">
												Vendor List</button>
										</h2>




										<div id="collapseTwo" class="accordion-collapse collapse show"
											aria-labelledby="headingTwo"
											data-bs-parent="#accordionExampleV">
											<div class="accordion-body">

												<div class="d-flex justify-content-between" id="reqTable1"
													style="display: none;">

													<div class="col-md-4 btn-hs1">
														<div class="font-design"></div>
													</div>
													<div class="col-md-4 btn-hs" id="searchRowDiv1">
														<div class="input-style">
															<input type="text" placeholder="Search.." name="search"
																class="searchboxinput" onkeyup="cancelBar1()"
																oninput="onQuickFilterChanged1()" id="quickFilter1"
																autocomplete="off">
															<div class="searchicon">
																<a href="javascript:void(0)"><span
																	style="display: none; border-right: 1px solid #ccc; padding-right: 5px;"
																	id="closeKey1"
																	onclick="vendorOptions.api.setQuickFilter(null);$('#quickFilter1').val('');document.getElementById('closeKey1').style.display='none';"
																	class="close_i"><i class="ti-close srchicon"></i></span></a><a
																	href="javascript:void(0)"><i
																	class="ti-search srchicon"></i></a>
															</div>
														</div>
													</div>
													<div class="col-md-4 butttonsec">

														<button class="delete-btn" id="deallocateVendor"
															onclick="deallocateVendor()()">REMOVE</button>
														<button class="approve-btn" id="allocateVendor"
															onclick="allocateVendor()">ALLOCATE</button>
													</div>
												</div>
												<div id="vendor" style="width: 100%; height: 200px;"
													class="ag-theme-alpine"></div>


											</div>

										</div>
									</div>

								</div>



							</div>


						</div>

						<!-- delete modal start -->
						<div id="deleteQuot" class="modal fade show" aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalBtn()">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -15px;">

										<button type="button" class="cancel-btn"
											onclick="cancelModalBtn();">Cancel</button>
										<button type="button" class="delete-btn"
											onclick="deleteOnclick()">Delete</button>
									</div>
								</div>
							</div>
						</div>

						<!-- delete item start	 -->
						<div id="deleteProduct" class="modal fade show" aria-modal="true">
							<div class="modal-dialog modal-confirm">
								<div class="modal-content">
									<div class="modal-header flex-column">
										<button type="button" class="close" data-dismiss="modal"
											aria-hidden="true" onclick="cancelModalProductBtn()">
											<i class="ti-close modal-close"></i>
										</button>
									</div>
									<div class="modal-body">
										<p>Do you really want to delete these records? This
											process cannot be undone.</p>
									</div>
									<div class="modal-footer justify-content-center"
										style="margin-top: -15px;">

										<button type="button" class="cancel-btn" data-dismiss="modal"
											onclick="cancelModalProductBtn();">Cancel</button>
										<button type="button" class="delete-btn"
											onclick="deleteProductOnclick()">Delete</button>
									</div>
								</div>
							</div>
						</div>
						
							<div class="modal fade" id="myModall">
						<div class="modal-dialog modal-lg" style="margin-top: 130px;">
							<div class="modal-content">

								<!-- Modal Header -->
								<div class="modal-header">
									<h4 class="modal-title md-color">Select Product Category</h4>
									<button type="button" class="close cp" onclick="closeModall();"
										data-dismiss="modal">&times;</button>
								</div>

								<!-- Modal body -->

								<div class="modal-body modal-cat">
									<div class="row">
										<table id="basicc">
											<tbody id="costCeneterCBDiv"></tbody>
										</table>
									</div>
								</div>

								<!-- Modal footer -->

								<div class="modal-footer">
									<button class="cancel-btn" data-dismiss="modal"
										onclick="closeModall();">Cancel</button>
									<button class="approve-btn" id="selectCategory">Select</button>
								</div>

							</div>
						</div>
					</div>
						
						
							<!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@Item Model start@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->
					<!-- <div class="modal fade" id="addItemModel"> -->
					<div class="modal fade" id="addItemModel">
						<div class="modal-dialog modal-lg"
							style="margin-top: 130px; height: 900px;">

							<div class="modal-content1">

								<!-- Modal body -->
								<div class="modal-body">

									<div class="maincontentsec">
										<div class="content_padding">
											<div id="newId">
												<div class="row" id="reqTable">
													<!-- <button type="button" class="close cp" onclick="closeModall();"
										data-dismiss="modal">&times;</button> -->
													<div class="d-flex justify-content-between">
														<div class="btn-hs col-md-4" id="total">
															<div class="font-design" id="totalReq">
																Product List (<span></span>)
															</div>
														</div>

														<div class="col-md-4  btn-hs" id="searchRowDiv1">
															<div class="input-style">
																<input type="text" placeholder="Search.." name="search"
																	class="searchboxinput" onkeyup="cancelBar12()"
																	oninput="onQuickFilterChanged12()" id="quickFilter12"
																	autocomplete="off">
																<div class="searchicon">
																	<a href="javascript:void(0)"><span
																		style="display: none; border-right: 1px solid #ccc; padding-right: 5px;"
																		id="closeKey"
																		onclick="gridOptions12.api.setQuickFilter(null);$('#quickFilter').val('');document.getElementById('closeKey').style.display='none';"
																		class="close_i"><i class="ti-close srchicon"></i></span></a><a
																		href="javascript:void(0)"><i
																		class="ti-search srchicon"></i></a>
																</div>
															</div>
														</div>
														<div class=" col-md-4 butttonsec btn-hs" id="btndiv">
															<!-- <button class="upload-btn">Upload</button> -->
															<button class="download-btn" onclick="totalProductCSV();">Download</button>
															<button class="delete-btn" onclick="deleteProduct();"
																id="deleteproduct1">DELETE</button>
															<button class="new-btn" id="newBtn1"
																onclick="profileSelect()">NEW</button>
														</div>
													</div>
												</div>
												<div id="myGrid1" style="width: 100%; height: 500px;"
													class="ag-theme-alpine"></div>
											</div>




											<div id="profile" class="collapse">
												<div class="row">
													<div class="col-md-6 btn-hs"></div>
													<div class="col-md-12">
														Product ID: <span id="productheadId"></span>
													</div>
													<div class="col-md-12" align="right">

														<button class="cancel-btn" onclick="profilecancelbtn()"
															id="profilecancelbtn">Cancel</button>
														<button class="approve-btn" id="productSave">Save</button>
													</div>
													<div class="col-md-4">
														<div class="demo">
															<div class="item">
																<div class="clearfix" style="max-width: 360px">
																	<div class="hvrbox">
																		<input type="hidden" id="fileedit" /> <img
																			src="../assets/images/noimage.jpg" id="imgemp"
																			alt="Location" class="hvrbox-layer_bottom img-fluid">

																		<div class="hvrbox-layer_top">
																			<div class="hvrbox-text">
																				<!-- <span><i class="fa fa-pencil-square-o"></i></span> -->
																				<input type="file" id="fileUpload"
																					onchange="saveFile();" /> <span><label
																					for="fileUpload"><i class="fa fa-camera"
																						style="cursor: pointer; font-size: 16px;"></i> <!-- <i class="fa fa-pencil-square-o"></i> --></label></span>
																				<span><i class="fa fa-trash red"
																					onclick="deleteFile();"></i></span>
																			</div>
																		</div>
																	</div>

																</div>
															</div>

														</div>
													</div>
													<div class="col-md-8">
														<div class="row">
															<div class="col-md-12">
																<input type="hidden" id="productId"> <input
																	type="text" name="code" value="" id="productName"
																	maxLength="50" placeholder="Product Name"
																	class="form-control_big">

															</div>
														</div>
														<div class="row">
															<div class="col-lg-3">
																<div class="form-group">
																	<label>Brand</label>
																	<div class="select">
																		<select id="itemBrand">
																			<option value="">Select</option>
																		</select>
																	</div>
																</div>
															</div>

															<div class="col-md-1">
																<div class="form-group">
																	<label class="custom-file-upload3" for="uploadDoc34_0"
																		style="margin-top: 18px;" onclick="addNewBrand()">
																		<i class="ti-plus"></i> Add
																	</label>
																</div>
															</div>
															<div class="col-md-4">
																<div class="form-group">
																	<label>Mode</label>
																	<div class="select">
																		<select class="" id="mode"
																			onblur="removeValid(event);">
																			<option value="">Select</option>
																			<option th:each="c,iter:${modeList}"
																				th:value="${c.key}" th:text="${c.name}"></option>
																		</select>
																	</div>
																</div>
															</div>
															<div class="col-md-2">
																<div class="form-group" style="margin-top: 28px;">
																	<input type="checkbox" name="isActive"
																		style="margin-top: 2px;" id="prodStatus" value="1">
																	<label>Active</label>
																</div>
															</div>
															<div class="col-md-4">
																<div class="form-group">
																	<label>HSN/SAC</label> <input type="text" value=""
																		placeholder="HSN/SAC" class="form-control"
																		id="hsnCodeProduct" onkeyup="check1('hsnCode')"
																		maxLength="8" onblur="removeValid(event);">
																</div>
															</div>
														</div>
														<label></label>
														<div class="row">
															<div class="col-md-3">
																<button class="approve-btn modalbtn" id="categoryBtn">Select
																	Category</button>
																<input type="hidden" id="prCategoryId"> <input
																	type="hidden" id="tempCategoryId"> <input
																	type="hidden" id="prLevelId">
															</div>
															<div class="col-md-9 catdiv">
																<div class="breadcrumb" id="catDesc"></div>
															</div>
														</div>
													</div>
												</div>
												<div class="col-md-12" align="right">
													<button class="approve-btn" onclick="next()" id="next">Next</button>
												</div>

												<div id="main3">
													<div class="accordion mt-4" id="accordionExample23">

														<div class="accordion-item mt-4">
															<h2 class="accordion-header" id="headingOne1">
																<!-- 	onclick="closeAllNav()"> -->
																<button class="accordion-button collapsed" type="button"
																	data-bs-toggle="collapse"
																	data-bs-target="#collapseOne1" aria-expanded="false"
																	aria-controls="collapseOne1">Product Details</button>

															</h2>
															<div id="collapseOne1"
																class="accordion-collapse collapse mt-4"
																aria-labelledby="headingOne1"
																data-bs-parent="accordionExample23">
																<div class="accordion-body">

																	<div id="mySidenavItem" class="sidenav">
																		<div class="slidebox" style="margin: 0px !important;">
																			<div class="row">
																				<div class="col-md-10">
																					<div class="edit">
																						Product Id: <span id="skuPrdId"></span>
																					</div>
																				</div>
																				<div class="col-md-2">
																					<div class="arrow">
																						<a href="javascript:void(0)" class="closebtn"
																							onclick="closeNavSku()"><i
																							class="ti-arrow-right"></i></a>
																					</div>
																				</div>
																			</div>
																			<div class="chartbtnsec">
																				<div align="right">
																					<button class="cancel-btn" onclick="closeNavSku()">CANCEL</button>

																					<button class="approve-btn" id="saveSKUData">SAVE</button>
																				</div>
																			</div>
																			<div class="clearfix"></div>
																			<input type="hidden" id="isEdit">
																			<div class="row">

																				<div class="col-lg-12" id="skudiv">
																					<div class="form-group">
																						<label>SKU</label> <input type="text" value=""
																							placeholder="" class="form-control" id="skuId"
																							onblur="removeValid(event);" maxLength="8">
																					</div>
																				</div>
																				<div class="col-lg-12">
																					<div class="form-group">
																						<label>Model</label> <input type="text" value=""
																							placeholder="" class="form-control" id="model"
																							onblur="removeValid(event);">
																					</div>
																				</div>
																			</div>
																			<div class="row">
																				<div class="col-md-12">
																					<div class="form-group">
																						<label>Manufacture Item</label> <input type="text"
																							value="" placeholder="" class="form-control"
																							id="manufacture" onblur="removeValid(event);">
																					</div>
																				</div>

																			</div>

																			<div class="row">
																				<div class="col-md-6">
																					<div class="form-group">
																						<label>Variation Type</label>
																						<div class="select">
																							<select class="" id="variationType"
																								onblur="removeValid(event);">
																								<option value="">Select</option>
																								<option th:each="c,iter:${variationTypeList}"
																									th:value="${c.key}" th:text="${c.name}"></option>
																							</select>
																						</div>

																					</div>
																				</div>
																				<div class="col-md-6">
																					<div class="form-group">
																						<label>Variation Value</label> <input type="text"
																							value="" onblur="removeValid(event);"
																							placeholder="" class="form-control"
																							id="variationValue">
																					</div>
																				</div>

																			</div>

																			<div class="row">
																				<div class="col-md-6">
																					<div class="form-group">
																						<label>UOM</label>
																						<div class="select">
																							<select class="" id="itemUnit"
																								onblur="removeValid(event);">
																								<option value="">Select</option>
																								<option th:each="c,iter:${unitList}"
																									th:value="${c.key}" th:text="${c.name}"></option>
																							</select>
																						</div>
																					</div>
																				</div>
																				<div class="col-md-6">
																					<div class="form-group">
																						<label>Unit Sale Price</label> <input type="text"
																							value="" onclick="salaryBack(event)"
																							onblur="removeValid(event);salaryCheck(event)"
																							placeholder="" class="form-control"
																							id="salePrice">
																					</div>
																				</div>
																			</div>
																		</div>
																	</div>


																	<div id="myVendorSidenav" class="sidenav">
																		<div class="slidebox">
																			<div class="row">
																				<div class="col-md-10">
																					<div class="edit">
																						Product Id: <span id="skuPurchasePrdId"></span>
																					</div>
																				</div>
																				<div class="col-md-2">
																					<div class="arrow">
																						<a href="javascript:void(0)" class="closebtn"
																							onclick="closeVendor()"><i
																							class="ti-arrow-right"></i></a>
																					</div>
																				</div>
																			</div>
																			<div class="chartbtnsec">
																				<div align="right">
																					<button class="cancel-btn" onclick="closeVendor()">CANCEL</button>
																					<!-- <button class="btn3">DELETE</button> -->
																					<button class="approve-btn" id="savePurchaseDtls">SAVE</button>
																				</div>
																			</div>
																			<div class="clearfix"></div>

																			<div class="row">
																				<div class="col-lg-12">
																					<div class="form-group">
																						<label>SKU</label>
																						<div class="select">
																							<input type="hidden" id="isEditPurchase">
																							<input type="hidden" id="editSKUId"> <input
																								type="hidden" id="editVendorId"> <select
																								id="skuPurchase" onblur="removeValid(event);">
																								<option value="">Select</option>
																							</select>
																						</div>
																					</div>
																				</div>
																			</div>
																			<div class="row">
																				<div class="col-lg-6">
																					<div class="form-group">
																						<span class="slide-span">Variation Type: </span><span
																							id="variantTypeSpan" class="slide-span-text"></span>
																					</div>
																				</div>
																			</div>
																			<div class="row">
																				<div class="col-md-12">
																					<div class="form-group">
																						<span class="slide-span">Variation Value: </span><span
																							id="variantValueSpan" class="slide-span-text"></span>
																					</div>
																				</div>

																			</div>
																			<div class="row">
																				<div class="col-md-12">
																					<div class="form-group">
																						<span class="slide-span">Variation Unit: </span><span
																							id="variantUnitSpan" class="slide-span-text"></span>
																					</div>
																				</div>

																			</div>

																			<div class="row">
																				<!-- 						<div class="col-md-12">
																					<div class="form-group">
																						<label>Vendor</label>
																						<div class="select">
																							<select id="itemVendorId" class=""
																								onblur="removeValid(event);">
																								<option value="">Select</option>
																								<option th:each="c,iter:${vendorList}"
																									th:value="${c.key}" th:text="${c.name}"></option>
																							</select>
																						</div>

																					</div>
																				</div> -->

																				<div class="col-lg-12">
																					<div class="form-group">
																						<label>Vendor</label>
																						<div class="select">
																							<select id="itemVendorId">
																								<option value="">Select</option>
																							</select>
																						</div>
																					</div>
																				</div>
																			</div>
																			<input type="hidden" id="purchasePrice">
																			<div class="row">
																				<!-- 	<div class="col-md-6">
																		<div class="form-group">
																			<label>Unit Purchase Price</label> <input type="text"
																				value="" placeholder="" class="form-control"
																				id="purchasePrice"
																				onblur="removeValid(event);salaryCheck(event)"
																				onclick="salaryBack(event)">
																		</div>
																	</div> -->




																				<div class="col-md-12">
																					<div class="form-group">
																						<label>MOQ</label> <input type="text" value=""
																							placeholder="" class="form-control" id="moq"
																							onblur="removeValid(event);">
																					</div>
																				</div>

																			</div>
																		</div>
																	</div>

																	<div class="row">
																		<div class="col-md-4 btn-hs1">
																			<div class="font-design"></div>
																		</div>
																		<div class="col-md-8 butttonsec">
																			<!-- <button class="upload-btn">Upload</button> -->
																			<button class="download-btn"
																				onclick="skuProductCSV();">Download</button>
																			<!-- <div class="buttongap"></div> -->
																			<button class="delete-btn" data-toggle="modal"
																				id="deletess" data-target="#delete"
																				onclick="deleteskuDtls()">DELETE</button>
																			<button class="new-btn" id="newBtn2"
																				onclick="openNavItem()">NEW</button>
																		</div>

																	</div>
																	<div class="row">
																		<div class="col-md-12">
																			<div id="mySKUGrid"
																				style="width: 100%; height: 100px;"
																				class="ag-theme-alpine"></div>
																		</div>
																	</div>
																	<br>
																	<div class="row">
																		<div class="col-md-4 btn-hs1">
																			<div class="font-design"></div>
																		</div>
																		<div class="col-md-8 butttonsec">
																			<!-- <button class="upload-btn" id="uploads">Upload</button> -->
																			<button class="download-btn" id="downloads"
																				onclick="purchaseProductCSV();">Download</button>
																			<!-- 	<div class="buttongap"></div> -->
																			<button class="delete-btn" data-toggle="modal"
																				data-target="#delete" id="deletes"
																				onclick="deletepurchaseDtls()">DELETE</button>
																			<button class="new-btn" id="newBtn1"
																				onclick="openVendor()">NEW</button>
																		</div>
																	</div>
																	<div class="row">
																		<div class="col-md-12">
																			<div id="myPurchaseGrid"
																				style="width: 100%; height: 100px;"
																				class="ag-theme-alpine"></div>
																		</div>
																	</div>
																</div>
															</div>
														</div>

													</div>
												</div>

											</div>
										</div>
									</div>
								</div>

							</div>

						</div>
					</div>
					
					<div class="modal fade" id="brandModal">
						<div class="modal-dialog modal-lg"
							style="margin-top: 130px; height: 900px; max-width: 600px">
							<div class="modal-content">

								<!-- 	Modal Header -->
								<div class="modal-header"></div>
								<!-- Modal body -->
								<div class="modal-body">

									<div class="col-md-12" id="shippingInfo">
										<div class="card-title">
											<h4>Add Brand Details</h4>
										</div>
										<div class="row">

											<div class="col-md-6">
												<div class="form-group">
													<label>Name</label> <input type="hidden" id="brandId">
													<input type="text" class="form-control transparenttxtbox"
														placeholder="" id="brandName" onblur="removeValid(event);">
												</div>
											</div>
											<div class="col-md-6">
												<div class="form-group">
													<label>Description</label>
													<textarea class="form-control" id="brandDesc"
														onblur="removeValid(event);"></textarea>
												</div>
											</div>

										</div>

										<div class="row mt-4">
											<div class="form-group">

												<button class="delete-btn" id="cancel"
													onclick="cancelBtn2()">CANCEL</button>
												<button class="btn1" id="save" onclick="addBrand()">SAVE</button>

											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					
						<div id="deleteSKU" class="modal fade show" aria-modal="true">
						<div class="modal-dialog modal-confirm">
							<div class="modal-content">
								<div class="modal-header flex-column"></div>
								<div class="modal-body">
									<p>Do you really want to delete these records? This process
										cannot be undone.</p>
								</div>
								<div class="modal-footer justify-content-center"
									style="margin-top: -30px;">

									<button type="button" class="cancel-btn" data-dismiss="modal"
										onclick="cancelModalSKUDtls();">Cancel</button>
									<button type="button" class="delete-btn" onclick="deleteskud()">Delete</button>
								</div>
							</div>
						</div>
					</div>
					<div id="deleteSKUPrd" class="modal fade show" aria-modal="true">
						<div class="modal-dialog modal-confirm">
							<div class="modal-content">
								<div class="modal-header flex-column">
									<button type="button" class="close" data-dismiss="modal"
										aria-hidden="true" onclick="cancelModalSKUPrdDtls()">
										<i class="ti-close modal-close"></i>
									</button>
								</div>
								<div class="modal-body">
									<p>Do you really want to delete these records? This process
										cannot be undone.</p>
								</div>
								<div class="modal-footer justify-content-center"
									style="margin-top: -15px;">

									<button type="button" class="cancel-btn" data-dismiss="modal"
										onclick="cancelModalSKUPrdDtls();">Cancel</button>
									<button type="button" class="delete-btn"
										onclick="deletepurchase()">Delete</button>
								</div>
							</div>
						</div>
					</div>
					
						<div class="modal fade" id="myModal">
							<div class="modal-dialog modal-lg" style="margin-top: 130px;">
								<div class="modal-content">

									<!-- Modal Header -->
									<div class="modal-header">
										<h4 class="modal-title md-color">Select Product</h4>
										<button type="button" class="close cp" data-dismiss="modal"
											onclick="closeModal1()">&times;</button>
									</div>

									<!-- Modal body -->
									<div class="modal-body modal-cat1">
										<div class="row">

											<div class="col-md-6" df="0"
												style="height: 300px; overflow-y: scroll;">
												<table id="basic">
													<tbody id="productCategoryCBDiv"></tbody>
												</table>


											</div>
											<div class="col-md-6" id="productCategorySelectDiv" df="0"
												style="border-left: 1px solid #ccc; height: 300px; overflow-y: scroll;">
												<div>
													<div class="productlist">Select Product</div>
													<div id="select_product"></div>
													<input type="hidden" id="itemNameTemp" /> <input
														type="hidden" id="hsnCodeTemp" /> <input type="hidden"
														id="itemNameTemp" /> <input type="hidden" id="itemIdTemp" />
													<input type="hidden" id="brandNameTemp" /> <input
														type="hidden" id="brandIdTemp" /> <input type="hidden"
														id="skuTemp" /> <input type="hidden" id="hsnCodeTemp" />
													<input type="hidden" id="unitTemp" /> <input type="hidden"
														id="gstRateTemp" /> <input type="hidden"
														id="prodCatIdTemp" /> <input type="hidden"
														id="prodCatNameTemp" />
												</div>
											</div>
										</div>
									</div>

									<!-- Modal footer -->
									<div class="modal-footer">
										<div class="chartbtnsec">
											<button class="approve-btn" onclick="selectProductVal()">SELECT</button>
											<button class="cancel-btn" data-dismiss="modal"
												onclick="closeModal1()">CANCEL</button>
										</div>
									</div>

								</div>
							</div>
						</div>



					</div>


				</div>


			</div>
		</div>
</body>
</html>