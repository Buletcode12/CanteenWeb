<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/master}">
<head>
<style>

.hvrbox .hvrbox-layer_top {
	opacity: 0;
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	width: 25%;
	height: 100%;
	background: rgba(0, 0, 0, 0.3);
	color: #fff;
	padding: 15px;
}

.btn1 {
    border: none;
    border-radius: 4px;
    font-size: 10px;
    background-color: #5784c4;
    color: #fff!important;
    margin-left: 5px;
    margin-bottom: 8px;
    width: 125px;
    height: 28px;
    line-height: 12px;
    float: right;
    text-transform: uppercase;
    cursor: pointer;
}

.taskInfo{
	padding-left: 10px;
    color: #45166a;
}

.rating {
	float: left;
}

.rating:not(:checked)>input {
	position: absolute;
	top: -9999px;
	clip: rect(0, 0, 0, 0);
}

.rating:not(:checked)>label {
	float: right;
	width: 1em;
	padding: 0 .1em;
	overflow: hidden;
	white-space: nowrap;
	cursor: pointer;
	font-size: 200%;
	line-height: 1.2;
	color: rgba(0, 0, 0, 0.6);
	/*  text-shadow:1px 1px #bbb, 2px 2px #666, .1em .1em .2em rgba(0,0,0,.5); */
}

.rating:not(:checked)>label:before {
	content: '★ ';
}

.rating>input:checked ~ label {
	color: #ea0;
	/*  text-shadow:1px 1px #c60, 2px 2px #940, .1em .1em .2em rgba(0,0,0,.5); */
}

.rating:not(:checked)>label:hover, .rating:not(:checked)>label:hover ~
	label {
	color: black;
	/*  text-shadow:1px 1px goldenrod, 2px 2px #B57340, .1em .1em .2em rgba(0,0,0,.5); */
}

.rating>input:checked+label:hover, .rating>input:checked+label:hover ~
	label, .rating>input:checked ~ label:hover, .rating>input:checked ~
	label:hover ~ label, .rating>label:hover ~ input:checked ~ label {
	color: #ea0;
	/*  text-shadow:1px 1px goldenrod, 2px 2px #B57340, .1em .1em .2em rgba(0,0,0,.5); */
}

.rating>label:active {
	position: relative;
	top: 2px;
	left: 2px;
}

.btn-outline-primary {
	color: #007bff;
	background-color: rgb(240 243 241/ 90%);
	background-image: none;
	border-color: #007bff;
	cursor: pointer;
}
.picker_calendar5 {
 cursor: pointer;
    position: absolute;
    bottom: 361px;
    left: 742px;
}
.picker_calendar6 {
    cursor: pointer;
    position: absolute;
    bottom: 361px;
    left: 1132px;
}
</style>
<script>
	
	$(function() {
		
		$(".showOnReccuring").hide();
		$('input:radio[name=RecurringYesOrNo]')[1].checked = true;
		
			 $("input[name=RecurringYesOrNo]:radio").click(function () {
		        if ($('input[name=RecurringYesOrNo]:checked').val() == "Recurring") {
		            $('.showOnReccuring').show();

		        } else if ($('input[name=RecurringYesOrNo]:checked').val() == "Normal") {
		            $('.showOnReccuring').hide();
		            $('#profileName').val("");
		            $('#startsOn').val("");
		            $('#endsOn').val("");
		            $('#repeatEvery').val("");
		            $('#neverExpire').prop('checked', false);
		        }
		    });

		var gridDiv = document.querySelector('#myGrid');
		new agGrid.Grid(gridDiv, gridOptions);

		agGrid.simpleHttpRequest({
			url : "view-manual-journal-throughAjax"
		}).then(function(data) {
			var len = data.length;
			$('#totalReq').find('span').html(len);

			gridOptions.api.setRowData(data);

		});
		$("#myGrid").show();
		$("#delete").attr("disabled", true);
		$("#approve").attr("disabled", true);
		$("#return").attr("disabled", true);
		$("#reject").attr("disabled", true);
	});

	$(function() {
		$('.collapse').on('show.bs.collapse', function() {
			$(this).siblings('.panel-heading').addClass('active');
		});

	})
	//search bar

	function onQuickFilterChanged() {
		gridOptions.api
				.setQuickFilter(document.getElementById('quickFilter').value);
	}

	function cancelBar() {
		var id = document.getElementById("closeKey");
		id.style.display = "block";

		if ($('#quickFilter').val() == null || $('#quickFilter').val() == "") {
			id.style.display = "none";
		}
	}

	$('input,textarea').focus(
			function() {
				$(this).data('placeholder', $(this).attr('placeholder')).attr(
						'placeholder', '');
			}).blur(function() {
		$(this).attr('placeholder', $(this).data('placeholder'));
	});

	var count = 0;
	function allCheck() {
		count++;

		if (count == 1) {
			$('.checkCls').prop("checked", true);
		} else {
			count = 0;
			$('.checkCls').prop("checked", false);
		}
	}

	var txtLen = 0;
	function textCount(event) {

		var id = event.target.id;
		var pId = $('#' + id).next().attr("id");
		$('#' + pId + ' span').empty();
		txtLen = $('#' + id).val().length;
		$('#' + pId + ' span').append(txtLen);
	}
	
	// column Defs
		const columnDefs = 
	[
			{
				headerCheckboxSelection : false,
				headerCheckboxSelectionFilteredOnly : true,
				checkboxSelection : true,
				width : 10,
				sortable : false,
				filter : false,
				resizable : true
			},{
				headerName : 'Manual Journal Id#',
				field : "journalVoucher",
				cellRenderer : function(params) {
					return '<a onclick=editPage("' + params.data.journalVoucher
							+ ',' + '0' + '") href="javascript:void(0)">'
							+ params.data.journalVoucher + '</a>';
				}
			},
			
			 {
				headerName : "Journal Date",
				field : "dateJournal",
				cellStyle : {
					textAlign : 'left'
				}
			},
			 {
				headerName : "Reference No",
				field : "referenceNo",
				cellStyle : {
					textAlign : 'left'
				}
			},
			
			{
				headerName : "Recurring Or Normal",
				field : "recurringYesOrNo",
				cellStyle : {
					textAlign : 'left'
				}
			},
			
			

			 {
				headerName : "Status",
				field : "status",
				cellStyle : {
					textAlign : 'left'
				}
			},
			{
				headerName : "Notes",
				field : "description",
				cellStyle : {
					textAlign : 'left'
				}
			},{
				headerName : "Amount",
				field : "totalAmount",
				cellStyle : {
					textAlign : 'left'
				}
			
			

			},{
				headerName : "Created On",
				field : "createdOn",
				cellStyle : {
					textAlign : 'left'
				}
			}];

	
	const gridOptions = {
			columnDefs : columnDefs,
			defaultColDef : {
				sortable : true,
				filter : true,
				resizable : true,
				width : 180,
				height : 10
			},
			rowSelection : 'single',
			suppressRowClickSelection : true,
			onSelectionChanged : rowSelect,
			getRowNodeId : function(data) {
				return data.journalVoucher;
			}

		};
	
	var deleteId = "";
	function rowSelect() {
		//alert('hello select');
		var selectedRows = gridOptions.api.getSelectedRows();
		deleteId = "";

		for (var i = 0; i < selectedRows.length; i++) {
			deleteId = deleteId + '"' + selectedRows[i].journalVoucher + '",';
			 // deleteId = deleteId  + selectedRows[i].journalVoucherId + ',';
		}
		deleteId = deleteId.substring(0, deleteId.length - 1);
		console.log(deleteId)
		var rowCount = 0;

		selectedRows.forEach(function(selectedRow, index) {
			rowCount = rowCount + 1;
		});

		if (rowCount > 0) {
			$('#delete').attr("disabled", false);
			$("#approve").attr("disabled", false);
			$("#return").attr("disabled", false);
			$("#reject").attr("disabled", false);

		} else {
			$('#delete').attr("disabled", true);
			$("#approve").attr("disabled", true);
			$("#return").attr("disabled", true);
			$("#reject").attr("disabled", true);
		}
	}
	// for new button
	function newBtn() { 
	//	alert('hello');
		$("#add").hide();
		$("#copy").hide();
		$("#delete").hide();
		$("#myGrid").hide();
		$("#searchRowDiv").hide();
		$("#totalReq").hide();
		$("#statusDiv").hide();
		$("#idDiv").hide();
		$("#collapseFour").hide();
		$("#headingFour").hide();
		$("#myGridActivity").hide();

		$("#demo").show();

	}
	// for cancel button
	function cancelBtn() {
		$("#add").show();
		$("#copy").show();
		$("#delete").show();
		$("#totalReq").show();
		$("#myGrid").show();
		$("#searchRowDiv").show();
		$("#demo").hide();

		$("#journalVoucher").text("");
		$('#bankName').val("");
		$('#accountHolder').val("");
		$('#branchName').val("");
		$('#accountType').val("");
		$('#accountNumber').val("");
		$('#status').val("");

		agGrid.simpleHttpRequest({
			url : "view-manual-journal-throughAjax"
		}).then(function(data) {
			gridOptions.api.setRowData(data);
		});
	}

	
	
	// Edit & stage change 
	function editPage(id) {
	//	alert(id);
		var editId = id.split(",");
		
		var journalVoucher = editId[0];
		
		var modal = editId[1];
		//alert('journalVoucherId------'+journalVoucherId);
		$("#demo").show();

		$.ajax({
			type : "GET",
			url : "view-manual-journal-edit?id=" + journalVoucherId,
			async : false,
			success : function(response) {
				console.log("response for edit manual journal------"+JSON.stringify(response));
				if (response.code == "Success") {
					
					$("#add").hide();
					$("#copy").hide();
					$("#delete").hide();
					$("#myGrid").hide();
					$("#searchRowDiv").hide();
					$("#totalReq").hide();
					$("#statusDiv").hide();
					$("#idDiv").hide();
					$("#collapseFour").hide();
					$("#headingFour").hide();
					$("#myGridActivity").hide();

					$("#demo").show();
					
					$(".container").hide();
									
					var journalVoucher=$("#journalVoucherId").text(response.body[0].journalVoucher);
									
					$('#bankName').val(response.body[0].bankName);
					$('#accountHolder').val(response.body[0].accountHolder);
					$('#branchName').val(response.body[0].branchName);
					$('#accountType').val(response.body[0].accountType);
					$('#accountNumber').val(response.body[0].accountNumber);
					$('#status').val(response.body[0].status);
					
					
					
				}
			}
		})
	}

</script>
<script>
	//addVendorInfo
	
	function addJournalInfo12() { 
		var obj = {};		
		obj.journalVoucher = $('#journalVoucher').text();
		obj.bankName = $('#bankName').val();
		obj.accountHolder = $('#accountHolder').val();
		obj.branchName = $('#branchName').val();
		obj.accountType = $('#accountType').val();
		obj.accountNumber = $('#accountNumber').val();
		obj.status = $('#status').val();
		console.log("object on add account-----------"+JSON.stringify(obj));
		var validation = true;
		if (validation) {
			$.ajax({
				type : "POST",
				url : "view-account-add",
				contentType : "application/json",
				data : JSON.stringify(obj),
				success : function(response) {
					if (response.code == "Success") {
						console.log(response);
						
						$("#add").show();
						$("#copy").show();
						$("#delete").show();
						$("#totalReq").show();
						$("#myGrid").show();
						$("#searchRowDiv").show();
						$("#demo").hide();
						
						agGrid.simpleHttpRequest({
							url : "view-manual-journal-throughAjax"
						}).then(function(data) {
							gridOptions.api.setRowData(data);
						});
									
					}
				},
				error : function(data) {
				}
			})
		}

	}
	
	function addJournalInfo() {
		//alert('hello');
	var dataset = [];
	item = {};
	var recurringYesOrNo = $("input[name='RecurringYesOrNo']:checked").val();
	//obj.reminderYesOrNo = ReminderYesOrNo;	 profileName   startsOn   endsOn  repeatEvery   neverExpire
	//alert('RecurringYesOrNo------------'+RecurringYesOrNo);
	
	//return false;
	
	$("#debitTbodyData > tr").each(function(){
		item = {};
		item['costCenter']	  	  				=	$("#costCenter").val();
		item['dateJournal']	  	  				=	$("#dateJournal").val();
		item['journalNo']	  	  				=	$("#journalNo").val();
		item['referenceNo']	  	  				=	$("#referenceNo").val();
		item['currency']	  	  				=	$("#currency").val();
		item['journalType']	  	  				=	$("#journalType").val();		
		item['description']	  	  				=	$("#description").val();
		
		item['recurringYesOrNo']	  	  		=	recurringYesOrNo;
		item['profileName']	  	  				=	$("#profileName").val();
		item['startsOn']	  	  				=	$("#startsOn").val();
		item['endsOn']	  	  				    =	$("#endsOn").val();
		item['repeatEvery']	  	  				=	$("#repeatEvery").val();		
		item['neverExpire']	  	  				=	$("#neverExpire").val();
		
		item['totalAmount']	  	  				=	$("#fromTotalAmount").text();		
		item['fromAccountSubGroup']		 	    =	$(this).find(".debitAccountGroupIdCls").val();
		item['customerName']  	          		=	$(this).find(".debitCustomerNameCls").val();
		item['customerId']  	          		=	$(this).find(".customerNameIdCls").val();
		item['fromAmount']  					=	$(this).find(".debitAmountCls").val();
		dataset.push(item);
	});//table tbody tr loop ends
	$("#creditTbodyData > tr").each(function(){
		item = {};
		item['costCenter']	  	  				=	$("#costCenter").val();
		item['dateJournal']	  	  				=	$("#dateJournal").val();
		item['journalNo']	  	  				=	$("#journalNo").val();
		item['referenceNo']	  	  				=	$("#referenceNo").val();
		item['currency']	  	  				=	$("#currency").val();
		item['journalType']	  	  				=	$("#journalType").val();
		item['totalAmount']	  	  				=	$("#toTotalAmount").text();
		item['description']	  	  				=	$("#description").val();
		
		item['recurringYesOrNo']	  	  		=	recurringYesOrNo;
		item['profileName']	  	  				=	$("#profileName").val();
		item['startsOn']	  	  				=	$("#startsOn").val();
		item['endsOn']	  	  				    =	$("#endsOn").val();
		item['repeatEvery']	  	  				=	$("#repeatEvery").val();		
		item['neverExpire']	  	  				=	$("#neverExpire").val();
		
		item['toAccountSubGroup']		 	    =	$(this).find(".creditAccountGroupIdCls").val();
		item['customerName']  	          	    =	$(this).find(".creditCustomerNameCls").val();
		item['customerId']  	          		=	$(this).find(".creditCustomerNameIdCls").val();
		item['toAmount']  					    =	$(this).find(".creditAmountCls").val();
		dataset.push(item);
	});//table tbody tr loop ends
	
	console.log(item);
	console.log("add manual journal dataset----------------------"+JSON.stringify(dataset));
	
	//return false;
	submitManualJournal(dataset);
	
	//Blank Validations
	
	if (!blankValidation("costCenter","SelectBox" ,"Please Select Cost Center Name"))
        return false;
	
	if (!blankValidation("description","TextField", "Please Enter Description"))
        return false;
	 var debitAccountGroup =true;
		$('.debitAccountSubGroupCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Account SubGroup")){
				
				debitAccountGroup =false;
		        return false;
			}
				
		});
		 
		var debitName =true;
		if(debitAccountGroup){
		$('.debitNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Name")){
				
				debitName =false;
		        return false;
			}
				
		});
	}
		var debitAmount =true;
		if(debitAccountGroup && debitName){
		$('.debitAmountCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Amount ")){
				
				debitAmount =false;
		        return false;
			}
				
		});
	}
	 var creditAccountGroup =true;
	 if(debitAccountGroup && debitName && debitAmount){
	$('.creditAccountSubGroupCls').each(function(){
		if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Account SubGroup")){
			
			creditAccountGroup =false;
	        return false;
		}
			
	});
	 } 
	var creditName =true;
	 if(debitAccountGroup && debitName && debitAmount && creditAccountGroup){
	$('.creditNameCls').each(function(){
		if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Name")){
			
			creditName =false;
	        return false;
		}
			
	});
}
	var creditAmount =true;
	 if(debitAccountGroup && debitName && debitAmount && creditAccountGroup && creditName){
	$('.creditAmountCls').each(function(){
		if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Amount ")){
			
			creditAmount =false;
	        return false;
		}
			
	});
}

	 if(debitAccountGroup && debitName && debitAmount && creditAccountGroup && creditName && creditAmount){
	  	var credit=0;
	  	var debit=0;
		$(".debitAmountCls").each(function(i){
			debit = debit + parseFloat($(this).val());
	  	});
	
		$(".creditAmountCls").each(function(i){
			credit = credit + parseFloat($(this).val());
	  	});
		
		if(credit == debit){			
			submitManualJournal(dataset);
	}
		else{
			swal("Debit Amount not same with credit Amount");	
			return false;
			}
		}

	}
	function deleteJournalVoucher(){
		$.ajax({
			type : "GET",
			url : "view-manual-journal-delete-id?id=" + deleteId,
			success : function(response) {
				if (response.code == "Success") {
					cancelBtn();
					agGrid.simpleHttpRequest({
						url : "view-manual-journal-throughAjax"
					}).then(function(data) {
						gridOptions.api.setRowData(data);
					});

				}
			}

		});
		
		$('#delete').attr("disabled", true);
		$("#approve").attr("disabled", true);
		$("#return").attr("disabled", true);
		$("#reject").attr("disabled", true);
	}
	
	
	function approveVoucher(){
		$.ajax({
			type : "GET",
			url : "view-manual-journal-approve-id?id=" + deleteId,
			success : function(response) {
				if (response.code == "Success") {
					cancelBtn();
					agGrid.simpleHttpRequest({
						url : "view-manual-journal-throughAjax"
					}).then(function(data) {
						gridOptions.api.setRowData(data);
					});

				}
			}

		});
		
		$('#delete').attr("disabled", true);
		$("#approve").attr("disabled", true);
		$("#return").attr("disabled", true);
		$("#reject").attr("disabled", true);
	}
	
	function rejectVoucher(){
		$.ajax({
			type : "GET",
			url : "view-manual-journal-reject-id?id=" + deleteId,
			success : function(response) {
				if (response.code == "Success") {
					cancelBtn();
					agGrid.simpleHttpRequest({
						url : "view-manual-journal-throughAjax"
					}).then(function(data) {
						gridOptions.api.setRowData(data);
					});

				}
			}

		});
		
		$('#delete').attr("disabled", true);
		$("#approve").attr("disabled", true);
		$("#return").attr("disabled", true);
		$("#reject").attr("disabled", true);
	}
	
	
	function returnVoucher(){
		$.ajax({
			type : "GET",
			url : "view-manual-journal-return-id?id=" + deleteId,
			success : function(response) {
				if (response.code == "Success") {
					cancelBtn();
					agGrid.simpleHttpRequest({
						url : "view-manual-journal-throughAjax"
					}).then(function(data) {
						gridOptions.api.setRowData(data);
					});

				}
			}

		});
		
		$('#delete').attr("disabled", true);
		$("#approve").attr("disabled", true);
		$("#return").attr("disabled", true);
		$("#reject").attr("disabled", true);
	}
	
	//view-manual-journal
	
	
	function debitSubGroup(id) {
		var l = id.split("_");
		var counter = l[1];	
			$.ajax({
				type : "POST",
				url : "view-account-journal-voucher-getAccountDebitGroup",
				dataType : 'json',
				contentType : 'application/json',
				data : $("#"+id).val(),
				success : function(response) {
					console.log(response);
					if (response.code == "Success") {
					if(response.body.length!=0)	{
						$("#debitAccountSubGroup_0").css("background","#FFF");
						var content = '<ul id="autocomplete-list">';
						for (var i = 0; i < response.body.length; i++) {
						content += '<li onClick="autocompleteValue1(\''+response.body[i].debAccGroupId+'\',\''+response.body[i].debitedAccGroup+'\',\''+id+'\')">'+response.body[i].debitedAccGroup+'('+response.body[i].debAccGroupId+')'+'</li>';
						} 
						content += '</ul>';
						$("#suggesstion-box1_"+counter).show();
						$("#suggesstion-box1_"+counter).html(content);
						
					}
					else {
						console.log("else: "+response);
						$("#debitAccountSubGroup_0").css("background","#FFF");
						var content = '<ul id="autocomplete-list">';
						content += '<li onClick="autocompleteValue1(\''+''+'\',\''+''+'\')">'+"No Data Found"+'</li>';
						content += '</ul>';
						$("#suggesstion-box1_"+counter).show();
						$("#suggesstion-box1_"+counter).html(content);
					}
					}
				},
				error : function(data) {
					console.log(data);
				}
			})
		}

	function autocompleteValue1(sGroupId,sGroupName,id) {
		var l = id.split("_");
		var counter = l[1];

		if (sGroupId) {
			$("#debitAccountSubGroup_"+counter).val(sGroupName + '( '+sGroupId+' )');
			$("#debitAccountGroupId_"+counter).val(sGroupId);
			$("#debitAccountSubGroup_"+counter).attr('data-procat', sGroupName);
			$("#suggesstion-box1_"+counter).hide();
			
			
		}else {
			$("#debitAccountSubGroup_"+counter).val("");
			$("#debitAccountGroupId_"+counter).val("");
			$("#debitAccountSubGroup_"+counter).attr('data-procat', "");
			$("#suggesstion-box1_"+counter).hide();
		}
		}
	
	
	/*function getCustomerName(id){
		alert('hello');
	}*/
	
	function getCustomerName(id) {		
		var l = id.split("_");
		var counter = l[1];	
		//alert('hello----'+$("#"+id).val());
			$.ajax({
				type : "POST",
				url : "view-manual-journal-getCustomerName",
				dataType : 'json',
				contentType : 'application/json',
				data : $("#"+id).val(),
				success : function(response) {
					console.log(response);
					if (response.code == "Success") {
					if(response.body.length!=0)	{
						$("#creditAccountSubGroup_"+counter).css("background","#FFF");
						var content = '<ul id="autocomplete-list">';
						for (var i = 0; i < response.body.length; i++) {
						content += '<li onClick="autocompleteValue12(\''+response.body[i].customerId+'\',\''+response.body[i].customerName+'\',\''+id+'\')">'+response.body[i].customerName+'('+response.body[i].customerId+')'+'</li>';
						} 
						
						//customerId, customerName;
						content += '</ul>';
						$("#suggesstion-box11_"+counter).show();
						$("#suggesstion-box11_"+counter).html(content);
						
					}
					else {
						console.log("else: "+response);
						$("#creditAccountSubGroup_"+counter).css("background","#FFF");
						var content = '<ul id="autocomplete-list">';
						content += '<li onClick="autocompleteValue12(\''+''+'\',\''+''+'\')">'+"No Data Found"+'</li>';
						content += '</ul>';
						$("#suggesstion-box11_"+counter).show();
						$("#suggesstion-box11_"+counter).html(content);
					}
					}
				},
				error : function(data) {
					console.log(data);
				}
			})
		}

	//autocompleteValue12
	
	function autocompleteValue12(customerId,customerName,id) {
		var l = id.split("_");
		var counter = l[1];

		if (customerId) {
			$("#debitCustomerName_"+counter).val(customerName + '( '+customerId+' )');
			$("#debitCustomerNameId_"+counter).val(customerId);
			$("#debitCustomerName_"+counter).attr('data-procat', customerName);
			$("#suggesstion-box11_"+counter).hide();
			
			
		}else {
			$("#debitCustomerName_"+counter).val("");
			$("#debitCustomerNameId_"+counter).val("");
			$("#debitCustomerName_"+counter).attr('data-procat', "");
			$("#suggesstion-box11_"+counter).hide();
		}
	}
	
	//getCustomerNameCredit
	
	function getCustomerNameCredit(id) {		
		var l = id.split("_");
		var counter = l[1];	
		//alert('hello----'+$("#"+id).val());
			$.ajax({
				type : "POST",
				url : "view-manual-journal-getCustomerNameCredit",
				dataType : 'json',
				contentType : 'application/json',
				data : $("#"+id).val(),
				success : function(response) {
					console.log(response);
					if (response.code == "Success") {
					if(response.body.length!=0)	{
						$("#creditCustomerName_"+counter).css("background","#FFF");
						var content = '<ul id="autocomplete-list">';
						for (var i = 0; i < response.body.length; i++) {
						content += '<li onClick="autocompleteValue22(\''+response.body[i].customerId+'\',\''+response.body[i].customerName+'\',\''+id+'\')">'+response.body[i].customerName+'('+response.body[i].customerId+')'+'</li>';
						} 
						
						//customerId, customerName;
						content += '</ul>';
						$("#suggesstion-box22_"+counter).show();
						$("#suggesstion-box22_"+counter).html(content);
						
					}
					else {
						console.log("else: "+response);
						$("#creditCustomerName_"+counter).css("background","#FFF");
						var content = '<ul id="autocomplete-list">';
						content += '<li onClick="autocompleteValue22(\''+''+'\',\''+''+'\')">'+"No Data Found"+'</li>';
						content += '</ul>';
						$("#suggesstion-box22_"+counter).show();
						$("#suggesstion-box22_"+counter).html(content);
					}
					}
				},
				error : function(data) {
					console.log(data);
				}
			})
		}

	//autocompleteValue12
	
	function autocompleteValue22(customerId,customerName,id) {
		var l = id.split("_");
		var counter = l[1];

		if (customerId) {
			$("#creditCustomerName_"+counter).val(customerName + '( '+customerId+' )');
			$("#creditCustomerNameId_"+counter).val(customerId);
			$("#creditCustomerName_"+counter).attr('data-procat', customerName);
			$("#suggesstion-box22_"+counter).hide();
			
			
		}else {
			$("#creditCustomerName_"+counter).val("");
			$("#creditCustomerNameId_"+counter).val("");
			$("#creditCustomerName_"+counter).attr('data-procat', "");
			$("#suggesstion-box22_"+counter).hide();
		}
	}
	

	//function for auto filled of item Requisition
	function creditSubGroup(id) {
		
		var l = id.split("_");
		var counter = l[1];
		
			$.ajax({
				type : "POST",
				url : "view-account-journal-voucher-getAccountCreditGroup",
				dataType : 'json',
				contentType : 'application/json',
				data : $("#"+id).val(),
				success : function(response) {
					console.log(response);
					if (response.code == "Success") {
					if(response.body.length!=0)	{
						$("#creditAccountSubGroup_0").css("background","#FFF");
						var content = '<ul id="autocomplete-list">';
						for (var i = 0; i < response.body.length; i++) {
							content += '<li onClick="autocompleteValue2(\''+response.body[i].debAccGroupId+'\',\''+response.body[i].debitedAccGroup+'\',\''+id+'\')">'+response.body[i].debitedAccGroup+'('+response.body[i].debAccGroupId+')'+'</li>';
							} 
						content += '</ul>';
						$("#suggesstion-box2_"+counter).show();
						$("#suggesstion-box2_"+counter).html(content);
						
					}
					else {
						console.log("else: "+response);
						$("#creditAccountSubGroup_0").css("background","#FFF");
						var content = '<ul id="autocomplete-list">';
						content += '<li onClick="autocompleteValue2(\''+''+'\',\''+''+'\')">'+"No Data Found"+'</li>';
						content += '</ul>';
						$("#suggesstion-box2_"+counter).show();
						$("#suggesstion-box2_"+counter).html(content);
					}
					}
				},
				error : function(data) {
					console.log(data);
				}
			})
		}

	function autocompleteValue2(sGroupId,sGroupName,id) {
		var l = id.split("_");
		var counter = l[1];

		if (sGroupId) {
			$("#creditAccountSubGroup_"+counter).val(sGroupName + '( '+sGroupId+' )');
			$("#creditAccountSubGroupId_"+counter).val(sGroupId);
			$("#creditAccountSubGroup_"+counter).attr('data-procat', sGroupName);
			$("#suggesstion-box2_"+counter).hide();
			
		}else {
			$("#creditAccountSubGroup_"+counter).val("");
			$("#creditAccountSubGroupId_"+counter).val("");
			$("#creditAccountSubGroup_"+counter).attr('data-procat', "");
			$("#suggesstion-box2_"+counter).hide();
		}
		}
			    	
	function debitCheckEmpty(){
		var debitAccountGroup =true;
		$('.debitAccountSubGroupCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Account SubGroup")){			
				debitAccountGroup =false;
		        return false;
			}
				
		});
		 
		var debitName =true;
		if(debitAccountGroup){
		$('.debitNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Name")){
				
				debitName =false;
		        return false;
			}
				
		});
	}
		var debitAmount =true;
		if(debitAccountGroup && debitName){
		$('.debitAmountCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Amount ")){
				
				debitAmount =false;
		        return false;
			}
				
		});
	}

		if(debitAccountGroup && debitName && debitAmount){
			
			debitAddMore();
		}
	}
	function creditCheckEmpty(){
		 var creditAccountGroup =true;
		$('.creditAccountSubGroupCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Account SubGroup")){
				
				creditAccountGroup =false;
		        return false;
			}
				
		});
		var creditName =true;
		 if(creditAccountGroup ){
		$('.creditNameCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Name")){
				
				creditName =false;
		        return false;
			}
				
		});
	}
		var creditAmount =true;
		 if(creditAccountGroup && creditName){
		$('.creditAmountCls').each(function(){
			if (!blankValidation($(this).attr('id'),"TextField" ,"Please Enter Amount ")){
				
				creditAmount =false;
		        return false;
			}
				
		});
	}
		 if(creditAccountGroup && creditName && creditAmount){
		
		creditAddMore();
	}
	}
	//Function for adding more Table row

		function debitAddMore(){
			var lengthOfTableRow = $("#debitTbodyData").children('tr').length;
			var cloneHtml = $("#debitMyTable tbody tr:first").clone();
			$("#debitMyTable tbody tr:last").find('td:last').html('');
			$("#debitMyTable tbody").append($("#debitMyTable tbody tr:first").clone());
			$("#debitMyTable tbody tr td:last").html("");
			var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="debitCheckEmpty();"><span class="ti-plus"></span></button>&nbsp;'
			var removeMore = '<button type="button" class="btn btn-warning rmv" name="Remove"><span class="ti-minus"></span></button>';
			
			
			$("#debitMyTable tbody tr:last").find('td:last').append(addMore);
			$("#debitMyTable tbody tr:last").find('td:last').append(removeMore);
			$("#debitMyTable tbody tr:last").find('.debitAccountSubGroupCls').val("");
			$("#debitMyTable tbody tr:last").find('.debitCustomerNameCls').val("");
			$("#debitMyTable tbody tr:last").find('.debitAmountCls').val("");
			var editTr = 0;
		
			if(lengthOfTableRow>editTr){
				$("#debitMyTable tbody tr").eq(lengthOfTableRow-1).find('td:last').append(removeMore);
				
			}
				
			// BLANK FIELD START
			//$("#debitMyTable tbody tr:last").find(".tableNameCls").val("");
			
			$("#debitMyTable > tbody > tr").each(function(i){
				var selectInput 	= $(this).find('select');
				var textInput 		= $(this).find('input') ;
				var divInput 		= $(this).find('div') ;
				var hiddenInput 	= $(this).find('hidden') ;
				var tr 				= $(this).find('tr') ;
				textInput.eq(0).attr('id',"debitAccountSubGroup_"+i);
				textInput.eq(1).attr('id',"debitAccountGroupId_"+i);
				divInput.eq(0).attr('id',"suggesstion-box1_"+i);
				textInput.eq(2).attr('id',"debitCustomerName_"+i);
				textInput.eq(3).attr('id',"debitCustomerNameId_"+i);
				divInput.eq(1).attr('id',"suggesstion-box11_"+i);
				textInput.eq(4).attr('id',"debitAmount_"+i);
				
				
				tr.eq(0).attr('id',"debit_"+i);
				
			})
		}
		//Function for adding more Table row

		function creditAddMore(){
			var lengthOfTableRow = $("#creditTbodyData").children('tr').length;
			var cloneHtml = $("#creditMyTable tbody tr:first").clone();
			$("#creditMyTable tbody tr:last").find('td:last').html('');
			$("#creditMyTable tbody").append($("#creditMyTable tbody tr:first").clone());
			$("#creditMyTable tbody tr td:last").html("");
			var addMore='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="creditCheckEmpty();"><span class="ti-plus"></span></button>&nbsp;'
			var removeMore = '<button type="button" class="btn btn-warning rmv" name="Remove"><span class="ti-minus"></span></button>';
			
			
			$("#creditMyTable tbody tr:last").find('td:last').append(addMore);
			$("#creditMyTable tbody tr:last").find('td:last').append(removeMore);
			$("#creditMyTable tbody tr:last").find('.creditAccountSubGroupCls').val("");
			$("#creditMyTable tbody tr:last").find('.creditCustomerNameCls').val("");
			$("#creditMyTable tbody tr:last").find('.creditAmountCls').val("");
			var editTr = 0;
		
			if(lengthOfTableRow>editTr){
				$("#creditMyTable tbody tr").eq(lengthOfTableRow-1).find('td:last').append(removeMore);
				
			}
				
			// BLANK FIELD START
			//$("#creditMyTable tbody tr:last").find(".tableNameCls").val("");
			
			$("#creditMyTable > tbody > tr").each(function(i){
				var selectInput = $(this).find('select');
				var textInput 	= $(this).find('input') ;
				var divInput 	= $(this).find('div') ;
				var hiddenInput = $(this).find('hidden') ;
				var tr			=  $(this).find('tr') ;
				textInput.eq(0).attr('id',"creditAccountSubGroup_"+i);
				divInput.eq(0).attr('id',"suggesstion-box2_"+i);	
				textInput.eq(1).attr('id',"creditAccountGroupId_"+i);
				textInput.eq(2).attr('id',"creditCustomerName_"+i);
				textInput.eq(3).attr('id',"creditCustomerNameId_"+i);
				divInput.eq(1).attr('id',"suggesstion-box22_"+i);
				textInput.eq(4).attr('id',"creditAmount_"+i);
				
				tr.eq(0).attr('id',"credit_"+i);
				
			})
		}
		//add More at edit time
		$(document).ready(function(){
			var lengthOfTableRow = $("#debitTbodyData").children('tr').length;
			$('.tbll').on('click', '.rmv', function () {
				$(this).closest('tr').remove();
				
				$("#debitMyTable tbody tr:last").find('td:last').html('');
				var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="debitCheckEmpty();"><span class="ti-plus"></span></button>&nbsp;'
				var remove = '<button type="button" class="btn btn-warning rmv" name="Remove"><span class="ti-minus"></span></button>';
			
				if($("#debitMyTable").children('tr').length > 1){
					$("#debitMyTable tbody tr:last").find('td:last').append(add);
					$("#debitMyTable tbody tr:last").find('td:last').append(remove);
				}
				else{
					$("#debitMyTable tbody tr:last").find('td:last').append(add);
				}
		});
			var lengthOfTableRow = $("#creditTbodyData").children('tr').length;
			$('.tbll').on('click', '.rmv', function () {
				$(this).closest('tr').remove();
				
				$("#creditMyTable tbody tr:last").find('td:last').html('');
				var add='<button type="button" class="btn btn-primary tr_clone_add" name="add" onclick="creditCheckEmpty();"><span class="ti-plus"></span></button>&nbsp;'
				var remove = '<button type="button" class="btn btn-warning rmv" name="Remove"><span class="ti-minus"></span></button>';
			
				if($("#creditMyTable").children('tr').length > 1){
					$("#creditMyTable tbody tr:last").find('td:last').append(add);
					$("#creditMyTable tbody tr:last").find('td:last').append(remove);
				}
				else{
					$("#creditMyTable tbody tr:last").find('td:last').append(add);
				}
		});


		
		
	 	//Function for getting Table Name on change of spa Name
	});
		//function to validate Discount field
		
		function extractNumber(obj, decimalPlaces, allowNegative){
			var temp = obj.value;
			// avoid changing things if already formatted correctly
			var reg0Str = '[0-9]*';
			if (decimalPlaces > 0) {
				reg0Str += '\\.?[0-9]{0,' + decimalPlaces + '}';
			} else if (decimalPlaces < 0) {
				reg0Str += '\\.?[0-9]*';
			}
			reg0Str = allowNegative ? '^-?' + reg0Str : '^' + reg0Str;
			reg0Str = reg0Str + '$';
			var reg0 = new RegExp(reg0Str);
			if (reg0.test(temp)) return true;

			// first replace all non numbers
			var reg1Str = '[^0-9' + (decimalPlaces != 0 ? '.' : '') + (allowNegative ? '-' : '') + ']';
			var reg1 = new RegExp(reg1Str, 'g');
			temp = temp.replace(reg1, '');

			if (allowNegative) {
				// replace extra negative
				var hasNegative = temp.length > 0 && temp.charAt(0) == '-';
				var reg2 = /-/g;
				temp = temp.replace(reg2, '');
				if (hasNegative) temp = '-' + temp;
			}
			
			if (decimalPlaces != 0) {
				var reg3 = /\./g;
				var reg3Array = reg3.exec(temp);
				if (reg3Array != null) {
					// keep only first occurrence of .
					//  and the number of places specified by decimalPlaces or the entire string if decimalPlaces < 0
					var reg3Right = temp.substring(reg3Array.index + reg3Array[0].length);
					reg3Right = reg3Right.replace(reg3, '');
					reg3Right = decimalPlaces > 0 ? reg3Right.substring(0, decimalPlaces) : reg3Right;
					temp = temp.substring(0,reg3Array.index) + '.' + reg3Right;
				}
			}
			
			obj.value = temp;
		}
		function submitManualJournal(dataset){
						swal.fire({
							title					: "Are you sure want to Submit?",
							text					: "Once Submited,Can't revert back !",
							type 					: "warning",
							showCancelButton		: true,
							confirmButtonColor		: "#DD6BB5",
							confirmButtonText		:"Submit",
							showLoaderOnConfirm		: true,
							reverseButtons 			: true,
							confirmButtonAriaLabel 	: 'Thumbs up, great!',
							cancelButtonText 		: 'Cancel',
							cancelButtonAriaLabel 	: 'Thumbs down',
							preConfirm				: () => {
								return new Promise((resolve) => {
									setTimeout(() => {
										console.log("Doing async operation");
										resolve()
									}, 3000)
								})
							}
						}).then((result) => {
							if(result.value){
								$.ajax({
								type		: "POST",
								url 		: "view-manual-journal-add-journal",
								dataType	: "json",
								contentType	: "application/json",
								data		: JSON.stringify(dataset),
								success		: function(response){
									if(response.message=="Success"){
										swal({
												title:"Data Saved Successfully.",
												type: "success",
										}).then(function(){
												window.location.href = "/account/view-manual-journal" ;
										})
									}else{
										swal({
											title:response.code,
											text: response.message,
											type:"warning"
										})
									}
						},error		: function(response){
							swal(response.code);	
					}
				}) //ajax ends
			}
		})//swal function block ends
	}//submit function ends
			
			 
		//Function for cancel button
		function funcLoad(){
			location.reload();
		} 
		
			
		function getFromSubtotal(){
			var sum=0;
			$(".debitAmountCls").each(function(i){
		  		sum = sum + parseFloat($(this).val());
		  	})
		
		  		$("#fromTotalAmount").html(sum);
		}	
		function getToSubtotal(){
			var sum=0;
			$(".creditAmountCls").each(function(i){
		  		sum = sum + parseFloat($(this).val());
		  	})
		  	
		  		$("#toTotalAmount").html(sum);
		}	
	
	
</script>
</head>

<body>
	<div layout:fragment="content" class="maincontent">
		<div class="container-fluid">
			<div class="d-flex">
				<div class="maincontentsec">

						<div class="d-flex justify-content-between">
							<div class="col-md-3  btn-hs">
								<div class="font-design" id="totalReq">
									ALL MANUAL JOURNAL VOUCHERS (<span></span>)
								</div>
							</div>
							<div class="col-md-3  btn-hs" id="searchRowDiv">
							<div class="input-style">
								<input type="text" placeholder="Search.." name="search"
									class="searchboxinput" onkeyup="cancelBar()"
									oninput="onQuickFilterChanged()" id="quickFilter">
								<div class="searchicon">
									<a href="javascript:void(0)"><span
										style="display: none; border-right: 1px solid #ccc; padding-right: 5px;"
										id="closeKey"
										onclick="gridOptions.api.setQuickFilter(null);$('#quickFilter').val('');document.getElementById('closeKey').style.display='none';"
										class="close_i"><i class="ti-close srchicon"></i></span></a><a
										href="javascript:void(0)"><i class="ti-search srchicon"></i></a>
								</div>
							</div>

						</div>
					<div class="buttonsec btn-hs">
					
							<input type="button" class="btn3" onclick="deleteJournalVoucher()" id="delete" 
								value="DELETE"	data-toggle="modal" data-target="#delete" readonly> 
									
							<input type="button" class="btn1" id="add" value="ADD MANUAL JOURNAL"
									onclick="newBtn()" readonly>
									
							<input type="button" class="btn3" id="return" value="RETURN"
								data-toggle="modal" data-target="#return"
								onclick="returnVoucher()" readonly> 
									
							<input type="button" class="btn2" id="approve"
								value="APPROVE" data-toggle="modal" data-target="#approve"
								onclick="approveVoucher()" readonly> 
							
							<input type="button" class="btn3" id="reject" value="REJECT"
								data-toggle="modal" data-target="#reject"
								onclick="rejectVoucher()" readonly> 
							
									
							</div>
						</div>
						
						<div id="myGrid" style="width: 100%; height: 500px;"
							class="ag-theme-alpine"></div>

						<div class="collapse" id="demo">
							<div class="innercontent">
								<div class="innerstickybg">
									<div class="d-flex justify-content-between" id="main">
										<div class="col-md-3" id="idDiv">
											MANUAL JOURNAL VOUCHER ID: <span id="journalVoucher"></span>
										</div>
										<div><span class="taskInfo">Manual Journal Information</span></div>


										<div class="col-md-3 padding-0" align="right">
											<button class="btn4" id="cancel" onclick="cancelBtn()">CANCEL</button>
											<button class="btn1" id="save" onclick="addJournalInfo()">SAVE</button>
										</div>
									</div>
								</div>
								<div class="innercontent">

									<!-- <div class="row"> -->
									<div class="row">
									 <div class="col-md-6">
											<div class="form-group">
												<label>Cost Center</label>
												<div class="select">
													<select id="costCenter">
														<option value="">Select</option>
														<option th:each="c,iter:${ccList}" th:value="${c.key}"
															th:text="${c.name}"></option>
													</select>
												</div>
											</div>
										</div>
											
									
									    <div class="col-md-6">
											<div class="form-group">
												<label>Date of Journal</label>
												<input type="date" class="form-control"
													id="dateJournal" placeholder="Date of Journal">
											</div>
										</div>	
										
										
										 <div class="col-md-6">
											<div class="form-group">
												<label>Journal#</label>
												<input type="text" class="form-control"
													id="journalNo" placeholder="Journal#">
											</div>
										</div>	
										
										 <div class="col-md-6">
											<div class="form-group">
												<label>Reference#</label>
												<input type="text" class="form-control"
													id="referenceNo" placeholder="Reference#">
											</div>
										</div>	
														           										
										<div class="col-md-6">
											<div class="form-group">
												<label>Currency</label>
												<div class="select">
												<select id="currency">
													<option value="">Select</option>
													<option value="AED-UAE Dirham">AED-UAE Dirham</option>
												    <option value="AUD-Australian Doller">AUD-Australian Dollar</option>
												    <option value="CAD-Canadian Doller">CAD-Canadian Dollar</option>
												    <option value="CNY-Yuan Renminbi">CNY-Yuan Renminbi</option>
												    <option value="EUR-Euro">EUR-Euro</option>
												    <option value="GBP-Pound Sterlin">GBP-Pound Sterlin</option>
												    <option value="JPY-Japanese Yen">JPY-Japanese Yen</option>
												    <option value="SAR-Saudi Riyal">SAR-Saudi Riyal</option>
												    <option value="USD-United State Doller">USD-United State Dollar</option>
												    <option value="ZAR-South Africa Rand">ZAR-South Africa Rand</option>
												</select>
											</div>
											</div>
										</div>
										
									
										
									<div class="col-md-6">
										<div class="form-group"><label>Journal Type</label><br>
											<input type="checkbox" id="journalType" name="journalType"
												value="on"> <label>Cash Based Journal</label>
										</div>
									</div>
										
									
									
									<div class="col-md-6">
										<div class="form-group"><label>Manual Journal Type</label><br>
											 <input type="radio" id="recurring" name="RecurringYesOrNo" value="Recurring">
											  <label for="recurring">Recurring</label>
											  <input type="radio" id="normal" name="RecurringYesOrNo" value="Normal">
											  <label for="normal">Normal</label>
										</div>
									</div>
									
									
									 <div class="col-md-6 showOnReccuring">
											<div class="form-group">
												<label>Profile Name</label>
												<input type="text" class="form-control"
													id="profileName" placeholder="Profile Name">
											</div>
										</div>	
														           										
										
										
									
									 <div class="col-md-6 showOnReccuring">
											<div class="form-group">
												<label>Starts On</label>
												<input type="date" class="form-control"
													id="startsOn" placeholder="Starts On">
											</div>
										</div>
										
										
										 <div class="col-md-6 showOnReccuring">
											<div class="form-group">
												<label>Ends On</label>
												<input type="date" class="form-control"
													id="endsOn" placeholder="Ends On">
											</div>
										</div>	
										
										<div class="col-md-6 showOnReccuring">
											<div class="form-group">
												<label>Repeat Every</label>
												<div class="select">
												<select id="repeatEvery">
													<option value="">Select</option>
													<option value="Week">Week</option>
												    <option value="2 Weeks">2 Weeks</option>
												    <option value="Month">Month</option>
												    <option value="2 Months">2 Months</option>
												    <option value="3 Months">3 Months</option>
												    <option value="6 Months">6 Months</option>
												    <option value="Year">Year</option>
												    <option value="2 Years">2 Years</option>
												    <option value="3 Years">3 Years</option>
												</select>
											</div>
											</div>
										</div>
										
										
									<div class="col-md-6 showOnReccuring">
										<div class="form-group"><label>Expire?</label><br>
											<input type="checkbox" id="neverExpire" name="neverExpire"
												value="on"> <label>Never Expire</label>
										</div>
									</div>
									
									<div class="col-md-6">
											<div class="modal-inrheading">Notes</div>
											<div class="position-text">
												<textarea rows="2" cols="100" id="description"
													onkeyup="textCount(event)"></textarea>
												<div id="charNumSN" class="txtcounter" align="right">
													<span>0</span> characters
												</div>
											</div>																		     							
									</div>
										
										
									
									
									
								<div class="row">
									<div class="col-lg-12">
										<!-- id="table-data" -->
										<div class="subheading">Debited To</div>
										<table class="tbll" id="debitMyTable" width="100%" border="0"
											cellspacing="2" cellpadding="5">
											<thead>
												<tr>
													<th>Account SubGroup</th>
													<th>Customer Name</th>
													<th>Amount</th>
													<th>Action</th>
												</tr>
											</thead>
												<tbody id="debitTbodyData">
												<tr class="tr_clone" th:if="${id}"
													th:each="a,iter:${spaTableStaff}">
													
													
													<td>
													<input type="text" id="debitAccountSubGroup_0" class="form-control debitAccountSubGroupCls" onkeyup="debitSubGroup(this.id);">
														<div id="suggesstion-box1_0"></div>
														<input type="hidden" id="debitAccountGroupId_0" class="form-control debitAccountGroupIdCls"/>
													</td>
													
													
													<td>
													<input type="text" id="debitCustomerName_0" class="form-control debitCustomerNameCls" onkeyup="getCustomerName(this.id);" >
														<div id="suggesstion-box11_0"></div>
														<input type="hidden" id="debitCustomerNameId_0" class="form-control debitCustomerNameIdCls"/>
													</td>
													
													
													
													<td><input type="text" id="debitAmount_"
														class="form-control debitAmountCls" onkeyup="getFromSubtotal();"  >
													</td>
												 	<td>
												 		<button th:if="${iter.size == iter.index+1}" type="button" class="btn btn-primary tr_clone_add" name="add" onclick="debitCheckEmpty();"><span class="ti-plus"></span></button>&nbsp;
														<button th:if="${iter.size != 1}" type="button" class="btn btn-warning rmv"
													name="Remove"><span class="ti-minus"></span></button>
													</td>
												</tr> 
												<tr class="tr_clone" th:unless="${id}"  id="debit_0">
												<td><input type="text" id="debitAccountSubGroup_0"
														class="form-control debitAccountSubGroupCls" onkeyup="debitSubGroup(this.id);">
														<div id="suggesstion-box1_0"></div>
														<input type="hidden" id="debitAccountGroupId_0" class="form-control debitAccountGroupIdCls"/>
														
													</td>
													<!-- <td><input type="text" id="debitName_"
														class="form-control debitNameCls"  >
													</td> -->
													
													<td>
													<input type="text" id="debitCustomerName_0" class="form-control debitCustomerNameCls" onkeyup="getCustomerName(this.id);" >
														<div id="suggesstion-box11_0"></div>
														<input type="hidden" id="debitCustomerNameId_0" class="form-control customerNameIdCls"/>
													</td>
													
													
													<td><input type="text" id="debitAmount_"
														class="form-control debitAmountCls" onkeyup="return extractNumber(this,2),getFromSubtotal() ;" >
													</td>
												 	<td>
													<td><button type="button"
															class="btn btn-primary tr_clone_add" name="add"
															onclick="debitCheckEmpty();">
															<span class="ti-plus"></span>
														</button>&nbsp;</td>
												</tr>
											</tbody>
										</table>
										
										<div class="form-group subheading"  width="60%" align="center"  >
											<label>Sub Total :</label>  
											<label   id="fromTotalAmount"></label>
										</div>
										
										</div>
										<div class="col-lg-12">
										<!-- id="table-data" -->
										<div class="subheading">Credited To</div>
										<table class="tbll" id="creditMyTable" width="100%" border="0"
											cellspacing="2" cellpadding="5">
											<thead>
												<tr>
													<th>Account SubGroup</th>
													<th>Customer Name</th>
													<th>Amount</th>
													<th>Action</th>
												</tr>
											</thead>
												<tbody id="creditTbodyData">
												<tr class="tr_clone" th:if="${id}"
													th:each="a,iter:${spaTableStaff}">
													<td><input type="text" id="creditAccountSubGroup_0"
														class="form-control creditAccountSubGroupCls" onkeyup="creditSubGroup(this.id);">
														<div id="suggesstion-box2_0"></div>
														<input type="hidden" id="creditAccountSubGroupId_0" class="form-control creditAccountGroupIdCls"/>
													</td>
													<!-- <td><input type="text" id="creditName_"
														class="form-control creditNameCls"  >
															</td> -->
															
													<td>
														<input type="text" id="creditCustomerName_0" class="form-control creditCustomerNameCls" onkeyup="getCustomerNameCredit(this.id);" >
														<div id="suggesstion-box22_0"></div>
														<input type="hidden" id="creditCustomerNameId_0" class="form-control creditCustomerNameIdCls"/>
													</td>		
															
															
													<td><input type="text" id="creditAmount_"
														class="form-control creditAmountCls"  onkeyup="getToSubtotal();" >
													</td>
												 	<td>
												 		<button th:if="${iter.size == iter.index+1}" type="button" class="btn btn-primary tr_clone_add" name="add" onclick="creditCheckEmpty();"><span class="ti-plus"></span></button>&nbsp;
														<button th:if="${iter.size != 1}" type="button" class="btn btn-warning rmv"
													name="Remove"><span class="ti-minus"></span></button>
													</td>
												</tr> 
												<tr class="tr_clone" th:unless="${id}"   id="credit_0">
												<td><input type="text" id="creditAccountSubGroup_0"
														class="form-control creditAccountSubGroupCls" onkeyup="creditSubGroup(this.id);">
														<div id="suggesstion-box2_0"></div>
														<input type="hidden" id="creditAccountSubGroupId_0"  class="form-control creditAccountGroupIdCls"/>
													</td>
													<!-- <td><input type="text" id="creditName_"
														class="form-control creditNameCls"  >
															</td> -->
													
													<td>
														<input type="text" id="creditCustomerName_0" class="form-control creditCustomerNameCls" onkeyup="getCustomerNameCredit(this.id);" >
														<div id="suggesstion-box22_0"></div>
														<input type="hidden" id="creditCustomerNameId_0" class="form-control creditCustomerNameIdCls"/>
													</td>			
															
													<td><input type="text" id="creditAmount_"
														class="form-control creditAmountCls"  onkeyup="return extractNumber(this,2),getToSubtotal() ;"  >
													</td>
												 	<td>
													<td><button type="button"
															class="btn btn-primary tr_clone_add" name="add"
															onclick="creditCheckEmpty();">
															<span class="ti-plus"></span>
														</button>&nbsp;</td>
												</tr>
											</tbody>
										</table>
											
										<div class="form-group subheading"  width="60%" align="center"  >
											<label>Sub Total :</label>  
											<label   id="toTotalAmount"></label>
										</div>
									</div>
								</div>
									
									
								<!-- 	main div start here -->
								
							
								
						</div>
					</div>



					
				</div>
			</div>
		</div>
	</div>

</body>
</html>